var EB=Object.defineProperty;var AT=n=>{throw TypeError(n)};var CB=(n,e,t)=>e in n?EB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var G=(n,e,t)=>CB(n,typeof e!="symbol"?e+"":e,t),sb=(n,e,t)=>e.has(n)||AT("Cannot "+t);var f=(n,e,t)=>(sb(n,e,"read from private field"),t?t.call(n):e.get(n)),P=(n,e,t)=>e.has(n)?AT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),C=(n,e,t,r)=>(sb(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),A=(n,e,t)=>(sb(n,e,"access private method"),t);var Ar=(n,e,t,r)=>({set _(i){C(n,e,i,t)},get _(){return f(n,e,r)}});function AB(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function PB(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var a3={exports:{}},R_={},l3={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=Symbol.for("react.element"),TB=Symbol.for("react.portal"),kB=Symbol.for("react.fragment"),RB=Symbol.for("react.strict_mode"),MB=Symbol.for("react.profiler"),DB=Symbol.for("react.provider"),LB=Symbol.for("react.context"),IB=Symbol.for("react.forward_ref"),OB=Symbol.for("react.suspense"),NB=Symbol.for("react.memo"),FB=Symbol.for("react.lazy"),PT=Symbol.iterator;function jB(n){return n===null||typeof n!="object"?null:(n=PT&&n[PT]||n["@@iterator"],typeof n=="function"?n:null)}var c3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u3=Object.assign,d3={};function hf(n,e,t){this.props=n,this.context=e,this.refs=d3,this.updater=t||c3}hf.prototype.isReactComponent={};hf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};hf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function h3(){}h3.prototype=hf.prototype;function _A(n,e,t){this.props=n,this.context=e,this.refs=d3,this.updater=t||c3}var bA=_A.prototype=new h3;bA.constructor=_A;u3(bA,hf.prototype);bA.isPureReactComponent=!0;var TT=Array.isArray,f3=Object.prototype.hasOwnProperty,xA={current:null},p3={key:!0,ref:!0,__self:!0,__source:!0};function g3(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)f3.call(e,r)&&!p3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gv,type:n,key:s,ref:o,props:i,_owner:xA.current}}function $B(n,e){return{$$typeof:gv,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function SA(n){return typeof n=="object"&&n!==null&&n.$$typeof===gv}function BB(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var kT=/\/+/g;function ob(n,e){return typeof n=="object"&&n!==null&&n.key!=null?BB(""+n.key):e.toString(36)}function V0(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case gv:case TB:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+ob(o,0):r,TT(i)?(t="",n!=null&&(t=n.replace(kT,"$&/")+"/"),V0(i,e,t,"",function(c){return c})):i!=null&&(SA(i)&&(i=$B(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kT,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",TT(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+ob(s,a);o+=V0(s,e,t,l,i)}else if(l=jB(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+ob(s,a++),o+=V0(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wv(n,e,t){if(n==null)return n;var r=[],i=0;return V0(n,r,"","",function(s){return e.call(t,s,i++)}),r}function zB(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var ir={current:null},H0={transition:null},UB={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:H0,ReactCurrentOwner:xA};function m3(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Wv,forEach:function(n,e,t){Wv(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Wv(n,function(){e++}),e},toArray:function(n){return Wv(n,function(e){return e})||[]},only:function(n){if(!SA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Le.Component=hf;Le.Fragment=kB;Le.Profiler=MB;Le.PureComponent=_A;Le.StrictMode=RB;Le.Suspense=OB;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UB;Le.act=m3;Le.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=u3({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xA.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)f3.call(e,l)&&!p3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gv,type:n.type,key:i,ref:s,props:r,_owner:o}};Le.createContext=function(n){return n={$$typeof:LB,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:DB,_context:n},n.Consumer=n};Le.createElement=g3;Le.createFactory=function(n){var e=g3.bind(null,n);return e.type=n,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(n){return{$$typeof:IB,render:n}};Le.isValidElement=SA;Le.lazy=function(n){return{$$typeof:FB,_payload:{_status:-1,_result:n},_init:zB}};Le.memo=function(n,e){return{$$typeof:NB,type:n,compare:e===void 0?null:e}};Le.startTransition=function(n){var e=H0.transition;H0.transition={};try{n()}finally{H0.transition=e}};Le.unstable_act=m3;Le.useCallback=function(n,e){return ir.current.useCallback(n,e)};Le.useContext=function(n){return ir.current.useContext(n)};Le.useDebugValue=function(){};Le.useDeferredValue=function(n){return ir.current.useDeferredValue(n)};Le.useEffect=function(n,e){return ir.current.useEffect(n,e)};Le.useId=function(){return ir.current.useId()};Le.useImperativeHandle=function(n,e,t){return ir.current.useImperativeHandle(n,e,t)};Le.useInsertionEffect=function(n,e){return ir.current.useInsertionEffect(n,e)};Le.useLayoutEffect=function(n,e){return ir.current.useLayoutEffect(n,e)};Le.useMemo=function(n,e){return ir.current.useMemo(n,e)};Le.useReducer=function(n,e,t){return ir.current.useReducer(n,e,t)};Le.useRef=function(n){return ir.current.useRef(n)};Le.useState=function(n){return ir.current.useState(n)};Le.useSyncExternalStore=function(n,e,t){return ir.current.useSyncExternalStore(n,e,t)};Le.useTransition=function(){return ir.current.useTransition()};Le.version="18.3.1";l3.exports=Le;var w=l3.exports;const I=k_(w),$y=AB({__proto__:null,default:I},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VB=w,HB=Symbol.for("react.element"),WB=Symbol.for("react.fragment"),GB=Object.prototype.hasOwnProperty,qB=VB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KB={key:!0,ref:!0,__self:!0,__source:!0};function v3(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GB.call(e,r)&&!KB.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HB,type:n,key:s,ref:o,props:i,_owner:qB.current}}R_.Fragment=WB;R_.jsx=v3;R_.jsxs=v3;a3.exports=R_;var v=a3.exports,Lx={},y3={exports:{}},Jr={},w3={exports:{}},_3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,F){var q=D.length;D.push(F);e:for(;0<q;){var ee=q-1>>>1,J=D[ee];if(0<i(J,F))D[ee]=F,D[q]=J,q=ee;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],q=D.pop();if(q!==F){D[0]=q;e:for(var ee=0,J=D.length,le=J>>>1;ee<le;){var ae=2*(ee+1)-1,xe=D[ae],ne=ae+1,Q=D[ne];if(0>i(xe,q))ne<J&&0>i(Q,xe)?(D[ee]=Q,D[ne]=q,ee=ne):(D[ee]=xe,D[ae]=q,ee=ae);else if(ne<J&&0>i(Q,q))D[ee]=Q,D[ne]=q,ee=ne;else break e}}return F}function i(D,F){var q=D.sortIndex-F.sortIndex;return q!==0?q:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var F=t(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=D)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=t(c)}}function S(D){if(m=!1,x(D),!g)if(t(l)!==null)g=!0,B(E);else{var F=t(c);F!==null&&j(S,F.startTime-D)}}function E(D,F){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var q=h;try{for(x(F),d=t(l);d!==null&&(!(d.expirationTime>F)||D&&!N());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var J=ee(d.expirationTime<=F);F=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&r(l),x(F)}else r(l);d=t(l)}if(d!==null)var le=!0;else{var ae=t(c);ae!==null&&j(S,ae.startTime-F),le=!1}return le}finally{d=null,h=q,p=!1}}var k=!1,R=null,T=-1,M=5,L=-1;function N(){return!(n.unstable_now()-L<M)}function z(){if(R!==null){var D=n.unstable_now();L=D;var F=!0;try{F=R(!0,D)}finally{F?W():(k=!1,R=null)}}else k=!1}var W;if(typeof b=="function")W=function(){b(z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,U=O.port2;O.port1.onmessage=z,W=function(){U.postMessage(null)}}else W=function(){_(z,0)};function B(D){R=D,k||(k=!0,W())}function j(D,F){T=_(function(){D(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,B(E))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var q=h;h=F;try{return D()}finally{h=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=h;h=D;try{return F()}finally{h=q}},n.unstable_scheduleCallback=function(D,F,q){var ee=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,D={id:u++,callback:F,priorityLevel:D,startTime:q,expirationTime:J,sortIndex:-1},q>ee?(D.sortIndex=q,e(c,D),t(l)===null&&D===t(c)&&(m?(y(T),T=-1):m=!0,j(S,q-ee))):(D.sortIndex=J,e(l,D),g||p||(g=!0,B(E))),D},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(D){var F=h;return function(){var q=h;h=F;try{return D.apply(this,arguments)}finally{h=q}}}})(_3);w3.exports=_3;var YB=w3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XB=w,Yr=YB;function Z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b3=new Set,Zp={};function Ru(n,e){Wh(n,e),Wh(n+"Capture",e)}function Wh(n,e){for(Zp[n]=e,n=0;n<e.length;n++)b3.add(e[n])}var Vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ix=Object.prototype.hasOwnProperty,QB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RT={},MT={};function ZB(n){return Ix.call(MT,n)?!0:Ix.call(RT,n)?!1:QB.test(n)?MT[n]=!0:(RT[n]=!0,!1)}function JB(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function e7(n,e,t,r){if(e===null||typeof e>"u"||JB(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Pn[n]=new sr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Pn[e]=new sr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Pn[n]=new sr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Pn[n]=new sr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Pn[n]=new sr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Pn[n]=new sr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Pn[n]=new sr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Pn[n]=new sr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Pn[n]=new sr(n,5,!1,n.toLowerCase(),null,!1,!1)});var EA=/[\-:]([a-z])/g;function CA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(EA,CA);Pn[e]=new sr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(EA,CA);Pn[e]=new sr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(EA,CA);Pn[e]=new sr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Pn[n]=new sr(n,1,!1,n.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Pn[n]=new sr(n,1,!1,n.toLowerCase(),null,!0,!0)});function AA(n,e,t,r){var i=Pn.hasOwnProperty(e)?Pn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(e7(e,t,i,r)&&(t=null),r||i===null?ZB(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var ea=XB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gv=Symbol.for("react.element"),ld=Symbol.for("react.portal"),cd=Symbol.for("react.fragment"),PA=Symbol.for("react.strict_mode"),Ox=Symbol.for("react.profiler"),x3=Symbol.for("react.provider"),S3=Symbol.for("react.context"),TA=Symbol.for("react.forward_ref"),Nx=Symbol.for("react.suspense"),Fx=Symbol.for("react.suspense_list"),kA=Symbol.for("react.memo"),ga=Symbol.for("react.lazy"),E3=Symbol.for("react.offscreen"),DT=Symbol.iterator;function Mf(n){return n===null||typeof n!="object"?null:(n=DT&&n[DT]||n["@@iterator"],typeof n=="function"?n:null)}var Tt=Object.assign,ab;function Jf(n){if(ab===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);ab=e&&e[1]||""}return`
`+ab+n}var lb=!1;function cb(n,e){if(!n||lb)return"";lb=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{lb=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Jf(n):""}function t7(n){switch(n.tag){case 5:return Jf(n.type);case 16:return Jf("Lazy");case 13:return Jf("Suspense");case 19:return Jf("SuspenseList");case 0:case 2:case 15:return n=cb(n.type,!1),n;case 11:return n=cb(n.type.render,!1),n;case 1:return n=cb(n.type,!0),n;default:return""}}function jx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case cd:return"Fragment";case ld:return"Portal";case Ox:return"Profiler";case PA:return"StrictMode";case Nx:return"Suspense";case Fx:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case S3:return(n.displayName||"Context")+".Consumer";case x3:return(n._context.displayName||"Context")+".Provider";case TA:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case kA:return e=n.displayName||null,e!==null?e:jx(n.type)||"Memo";case ga:e=n._payload,n=n._init;try{return jx(n(e))}catch{}}return null}function n7(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jx(e);case 8:return e===PA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ul(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function C3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function r7(n){var e=C3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function qv(n){n._valueTracker||(n._valueTracker=r7(n))}function A3(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=C3(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function By(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function $x(n,e){var t=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function LT(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ul(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function P3(n,e){e=e.checked,e!=null&&AA(n,"checked",e,!1)}function Bx(n,e){P3(n,e);var t=ul(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?zx(n,e.type,t):e.hasOwnProperty("defaultValue")&&zx(n,e.type,ul(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function IT(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function zx(n,e,t){(e!=="number"||By(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var ep=Array.isArray;function kd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ul(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Ux(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function OT(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Z(92));if(ep(t)){if(1<t.length)throw Error(Z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ul(t)}}function T3(n,e){var t=ul(e.value),r=ul(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function NT(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function k3(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vx(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?k3(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Kv,R3=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Kv=Kv||document.createElement("div"),Kv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Jp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var kp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i7=["Webkit","ms","Moz","O"];Object.keys(kp).forEach(function(n){i7.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),kp[e]=kp[n]})});function M3(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||kp.hasOwnProperty(n)&&kp[n]?(""+e).trim():e+"px"}function D3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=M3(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var s7=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hx(n,e){if(e){if(s7[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Wx(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gx=null;function RA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qx=null,Rd=null,Md=null;function FT(n){if(n=yv(n)){if(typeof qx!="function")throw Error(Z(280));var e=n.stateNode;e&&(e=O_(e),qx(n.stateNode,n.type,e))}}function L3(n){Rd?Md?Md.push(n):Md=[n]:Rd=n}function I3(){if(Rd){var n=Rd,e=Md;if(Md=Rd=null,FT(n),e)for(n=0;n<e.length;n++)FT(e[n])}}function O3(n,e){return n(e)}function N3(){}var ub=!1;function F3(n,e,t){if(ub)return n(e,t);ub=!0;try{return O3(n,e,t)}finally{ub=!1,(Rd!==null||Md!==null)&&(N3(),I3())}}function eg(n,e){var t=n.stateNode;if(t===null)return null;var r=O_(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Z(231,e,typeof t));return t}var Kx=!1;if(Vo)try{var Df={};Object.defineProperty(Df,"passive",{get:function(){Kx=!0}}),window.addEventListener("test",Df,Df),window.removeEventListener("test",Df,Df)}catch{Kx=!1}function o7(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Rp=!1,zy=null,Uy=!1,Yx=null,a7={onError:function(n){Rp=!0,zy=n}};function l7(n,e,t,r,i,s,o,a,l){Rp=!1,zy=null,o7.apply(a7,arguments)}function c7(n,e,t,r,i,s,o,a,l){if(l7.apply(this,arguments),Rp){if(Rp){var c=zy;Rp=!1,zy=null}else throw Error(Z(198));Uy||(Uy=!0,Yx=c)}}function Mu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function j3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function jT(n){if(Mu(n)!==n)throw Error(Z(188))}function u7(n){var e=n.alternate;if(!e){if(e=Mu(n),e===null)throw Error(Z(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return jT(i),n;if(s===r)return jT(i),e;s=s.sibling}throw Error(Z(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Z(189))}}if(t.alternate!==r)throw Error(Z(190))}if(t.tag!==3)throw Error(Z(188));return t.stateNode.current===t?n:e}function $3(n){return n=u7(n),n!==null?B3(n):null}function B3(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=B3(n);if(e!==null)return e;n=n.sibling}return null}var z3=Yr.unstable_scheduleCallback,$T=Yr.unstable_cancelCallback,d7=Yr.unstable_shouldYield,h7=Yr.unstable_requestPaint,jt=Yr.unstable_now,f7=Yr.unstable_getCurrentPriorityLevel,MA=Yr.unstable_ImmediatePriority,U3=Yr.unstable_UserBlockingPriority,Vy=Yr.unstable_NormalPriority,p7=Yr.unstable_LowPriority,V3=Yr.unstable_IdlePriority,M_=null,Ms=null;function g7(n){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(M_,n,void 0,(n.current.flags&128)===128)}catch{}}var Ji=Math.clz32?Math.clz32:y7,m7=Math.log,v7=Math.LN2;function y7(n){return n>>>=0,n===0?32:31-(m7(n)/v7|0)|0}var Yv=64,Xv=4194304;function tp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Hy(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=tp(a):(s&=o,s!==0&&(r=tp(s)))}else o=t&~i,o!==0?r=tp(o):s!==0&&(r=tp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ji(e),i=1<<t,r|=n[t],e&=~i;return r}function w7(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _7(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ji(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=w7(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Xx(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function H3(){var n=Yv;return Yv<<=1,!(Yv&4194240)&&(Yv=64),n}function db(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function mv(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ji(e),n[e]=t}function b7(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ji(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function DA(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ji(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Xe=0;function W3(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var G3,LA,q3,K3,Y3,Qx=!1,Qv=[],Qa=null,Za=null,Ja=null,tg=new Map,ng=new Map,xa=[],x7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BT(n,e){switch(n){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":tg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ng.delete(e.pointerId)}}function Lf(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=yv(e),e!==null&&LA(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function S7(n,e,t,r,i){switch(e){case"focusin":return Qa=Lf(Qa,n,e,t,r,i),!0;case"dragenter":return Za=Lf(Za,n,e,t,r,i),!0;case"mouseover":return Ja=Lf(Ja,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return tg.set(s,Lf(tg.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ng.set(s,Lf(ng.get(s)||null,n,e,t,r,i)),!0}return!1}function X3(n){var e=ic(n.target);if(e!==null){var t=Mu(e);if(t!==null){if(e=t.tag,e===13){if(e=j3(t),e!==null){n.blockedOn=e,Y3(n.priority,function(){q3(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function W0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Zx(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Gx=r,t.target.dispatchEvent(r),Gx=null}else return e=yv(t),e!==null&&LA(e),n.blockedOn=t,!1;e.shift()}return!0}function zT(n,e,t){W0(n)&&t.delete(e)}function E7(){Qx=!1,Qa!==null&&W0(Qa)&&(Qa=null),Za!==null&&W0(Za)&&(Za=null),Ja!==null&&W0(Ja)&&(Ja=null),tg.forEach(zT),ng.forEach(zT)}function If(n,e){n.blockedOn===e&&(n.blockedOn=null,Qx||(Qx=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,E7)))}function rg(n){function e(i){return If(i,n)}if(0<Qv.length){If(Qv[0],n);for(var t=1;t<Qv.length;t++){var r=Qv[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Qa!==null&&If(Qa,n),Za!==null&&If(Za,n),Ja!==null&&If(Ja,n),tg.forEach(e),ng.forEach(e),t=0;t<xa.length;t++)r=xa[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<xa.length&&(t=xa[0],t.blockedOn===null);)X3(t),t.blockedOn===null&&xa.shift()}var Dd=ea.ReactCurrentBatchConfig,Wy=!0;function C7(n,e,t,r){var i=Xe,s=Dd.transition;Dd.transition=null;try{Xe=1,IA(n,e,t,r)}finally{Xe=i,Dd.transition=s}}function A7(n,e,t,r){var i=Xe,s=Dd.transition;Dd.transition=null;try{Xe=4,IA(n,e,t,r)}finally{Xe=i,Dd.transition=s}}function IA(n,e,t,r){if(Wy){var i=Zx(n,e,t,r);if(i===null)bb(n,e,r,Gy,t),BT(n,r);else if(S7(i,n,e,t,r))r.stopPropagation();else if(BT(n,r),e&4&&-1<x7.indexOf(n)){for(;i!==null;){var s=yv(i);if(s!==null&&G3(s),s=Zx(n,e,t,r),s===null&&bb(n,e,r,Gy,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else bb(n,e,r,null,t)}}var Gy=null;function Zx(n,e,t,r){if(Gy=null,n=RA(r),n=ic(n),n!==null)if(e=Mu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=j3(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Gy=n,null}function Q3(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f7()){case MA:return 1;case U3:return 4;case Vy:case p7:return 16;case V3:return 536870912;default:return 16}default:return 16}}var qa=null,OA=null,G0=null;function Z3(){if(G0)return G0;var n,e=OA,t=e.length,r,i="value"in qa?qa.value:qa.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return G0=i.slice(n,1<r?1-r:void 0)}function q0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Zv(){return!0}function UT(){return!1}function ei(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zv:UT,this.isPropagationStopped=UT,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Zv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Zv)},persist:function(){},isPersistent:Zv}),e}var ff={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},NA=ei(ff),vv=Tt({},ff,{view:0,detail:0}),P7=ei(vv),hb,fb,Of,D_=Tt({},vv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:FA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Of&&(Of&&n.type==="mousemove"?(hb=n.screenX-Of.screenX,fb=n.screenY-Of.screenY):fb=hb=0,Of=n),hb)},movementY:function(n){return"movementY"in n?n.movementY:fb}}),VT=ei(D_),T7=Tt({},D_,{dataTransfer:0}),k7=ei(T7),R7=Tt({},vv,{relatedTarget:0}),pb=ei(R7),M7=Tt({},ff,{animationName:0,elapsedTime:0,pseudoElement:0}),D7=ei(M7),L7=Tt({},ff,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),I7=ei(L7),O7=Tt({},ff,{data:0}),HT=ei(O7),N7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $7(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=j7[n])?!!e[n]:!1}function FA(){return $7}var B7=Tt({},vv,{key:function(n){if(n.key){var e=N7[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=q0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?F7[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:FA,charCode:function(n){return n.type==="keypress"?q0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?q0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),z7=ei(B7),U7=Tt({},D_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WT=ei(U7),V7=Tt({},vv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:FA}),H7=ei(V7),W7=Tt({},ff,{propertyName:0,elapsedTime:0,pseudoElement:0}),G7=ei(W7),q7=Tt({},D_,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),K7=ei(q7),Y7=[9,13,27,32],jA=Vo&&"CompositionEvent"in window,Mp=null;Vo&&"documentMode"in document&&(Mp=document.documentMode);var X7=Vo&&"TextEvent"in window&&!Mp,J3=Vo&&(!jA||Mp&&8<Mp&&11>=Mp),GT=" ",qT=!1;function eI(n,e){switch(n){case"keyup":return Y7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tI(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ud=!1;function Q7(n,e){switch(n){case"compositionend":return tI(e);case"keypress":return e.which!==32?null:(qT=!0,GT);case"textInput":return n=e.data,n===GT&&qT?null:n;default:return null}}function Z7(n,e){if(ud)return n==="compositionend"||!jA&&eI(n,e)?(n=Z3(),G0=OA=qa=null,ud=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return J3&&e.locale!=="ko"?null:e.data;default:return null}}var J7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!J7[n.type]:e==="textarea"}function nI(n,e,t,r){L3(r),e=qy(e,"onChange"),0<e.length&&(t=new NA("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Dp=null,ig=null;function ez(n){fI(n,0)}function L_(n){var e=fd(n);if(A3(e))return n}function tz(n,e){if(n==="change")return e}var rI=!1;if(Vo){var gb;if(Vo){var mb="oninput"in document;if(!mb){var YT=document.createElement("div");YT.setAttribute("oninput","return;"),mb=typeof YT.oninput=="function"}gb=mb}else gb=!1;rI=gb&&(!document.documentMode||9<document.documentMode)}function XT(){Dp&&(Dp.detachEvent("onpropertychange",iI),ig=Dp=null)}function iI(n){if(n.propertyName==="value"&&L_(ig)){var e=[];nI(e,ig,n,RA(n)),F3(ez,e)}}function nz(n,e,t){n==="focusin"?(XT(),Dp=e,ig=t,Dp.attachEvent("onpropertychange",iI)):n==="focusout"&&XT()}function rz(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return L_(ig)}function iz(n,e){if(n==="click")return L_(e)}function sz(n,e){if(n==="input"||n==="change")return L_(e)}function oz(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ts=typeof Object.is=="function"?Object.is:oz;function sg(n,e){if(ts(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Ix.call(e,i)||!ts(n[i],e[i]))return!1}return!0}function QT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ZT(n,e){var t=QT(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=QT(t)}}function sI(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?sI(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function oI(){for(var n=window,e=By();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=By(n.document)}return e}function $A(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function az(n){var e=oI(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&sI(t.ownerDocument.documentElement,t)){if(r!==null&&$A(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=ZT(t,s);var o=ZT(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var lz=Vo&&"documentMode"in document&&11>=document.documentMode,dd=null,Jx=null,Lp=null,eS=!1;function JT(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;eS||dd==null||dd!==By(r)||(r=dd,"selectionStart"in r&&$A(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lp&&sg(Lp,r)||(Lp=r,r=qy(Jx,"onSelect"),0<r.length&&(e=new NA("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=dd)))}function Jv(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var hd={animationend:Jv("Animation","AnimationEnd"),animationiteration:Jv("Animation","AnimationIteration"),animationstart:Jv("Animation","AnimationStart"),transitionend:Jv("Transition","TransitionEnd")},vb={},aI={};Vo&&(aI=document.createElement("div").style,"AnimationEvent"in window||(delete hd.animationend.animation,delete hd.animationiteration.animation,delete hd.animationstart.animation),"TransitionEvent"in window||delete hd.transitionend.transition);function I_(n){if(vb[n])return vb[n];if(!hd[n])return n;var e=hd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in aI)return vb[n]=e[t];return n}var lI=I_("animationend"),cI=I_("animationiteration"),uI=I_("animationstart"),dI=I_("transitionend"),hI=new Map,ek="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cl(n,e){hI.set(n,e),Ru(e,[n])}for(var yb=0;yb<ek.length;yb++){var wb=ek[yb],cz=wb.toLowerCase(),uz=wb[0].toUpperCase()+wb.slice(1);Cl(cz,"on"+uz)}Cl(lI,"onAnimationEnd");Cl(cI,"onAnimationIteration");Cl(uI,"onAnimationStart");Cl("dblclick","onDoubleClick");Cl("focusin","onFocus");Cl("focusout","onBlur");Cl(dI,"onTransitionEnd");Wh("onMouseEnter",["mouseout","mouseover"]);Wh("onMouseLeave",["mouseout","mouseover"]);Wh("onPointerEnter",["pointerout","pointerover"]);Wh("onPointerLeave",["pointerout","pointerover"]);Ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var np="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dz=new Set("cancel close invalid load scroll toggle".split(" ").concat(np));function tk(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,c7(r,e,void 0,n),n.currentTarget=null}function fI(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;tk(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;tk(i,a,c),s=l}}}if(Uy)throw n=Yx,Uy=!1,Yx=null,n}function mt(n,e){var t=e[sS];t===void 0&&(t=e[sS]=new Set);var r=n+"__bubble";t.has(r)||(pI(e,n,2,!1),t.add(r))}function _b(n,e,t){var r=0;e&&(r|=4),pI(t,n,r,e)}var e0="_reactListening"+Math.random().toString(36).slice(2);function og(n){if(!n[e0]){n[e0]=!0,b3.forEach(function(t){t!=="selectionchange"&&(dz.has(t)||_b(t,!1,n),_b(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[e0]||(e[e0]=!0,_b("selectionchange",!1,e))}}function pI(n,e,t,r){switch(Q3(e)){case 1:var i=C7;break;case 4:i=A7;break;default:i=IA}t=i.bind(null,e,t,n),i=void 0,!Kx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function bb(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ic(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}F3(function(){var c=s,u=RA(t),d=[];e:{var h=hI.get(n);if(h!==void 0){var p=NA,g=n;switch(n){case"keypress":if(q0(t)===0)break e;case"keydown":case"keyup":p=z7;break;case"focusin":g="focus",p=pb;break;case"focusout":g="blur",p=pb;break;case"beforeblur":case"afterblur":p=pb;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=VT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=k7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=H7;break;case lI:case cI:case uI:p=D7;break;case dI:p=G7;break;case"scroll":p=P7;break;case"wheel":p=K7;break;case"copy":case"cut":case"paste":p=I7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=WT}var m=(e&4)!==0,_=!m&&n==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,x;b!==null;){x=b;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,y!==null&&(S=eg(b,y),S!=null&&m.push(ag(b,S,x)))),_)break;b=b.return}0<m.length&&(h=new p(h,g,null,t,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&t!==Gx&&(g=t.relatedTarget||t.fromElement)&&(ic(g)||g[Ho]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?ic(g):null,g!==null&&(_=Mu(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=VT,S="onMouseLeave",y="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(m=WT,S="onPointerLeave",y="onPointerEnter",b="pointer"),_=p==null?h:fd(p),x=g==null?h:fd(g),h=new m(S,b+"leave",p,t,u),h.target=_,h.relatedTarget=x,S=null,ic(u)===c&&(m=new m(y,b+"enter",g,t,u),m.target=x,m.relatedTarget=_,S=m),_=S,p&&g)t:{for(m=p,y=g,b=0,x=m;x;x=Hu(x))b++;for(x=0,S=y;S;S=Hu(S))x++;for(;0<b-x;)m=Hu(m),b--;for(;0<x-b;)y=Hu(y),x--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Hu(m),y=Hu(y)}m=null}else m=null;p!==null&&nk(d,h,p,m,!1),g!==null&&_!==null&&nk(d,_,g,m,!0)}}e:{if(h=c?fd(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=tz;else if(KT(h))if(rI)E=sz;else{E=rz;var k=nz}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=iz);if(E&&(E=E(n,c))){nI(d,E,t,u);break e}k&&k(n,h,c),n==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&zx(h,"number",h.value)}switch(k=c?fd(c):window,n){case"focusin":(KT(k)||k.contentEditable==="true")&&(dd=k,Jx=c,Lp=null);break;case"focusout":Lp=Jx=dd=null;break;case"mousedown":eS=!0;break;case"contextmenu":case"mouseup":case"dragend":eS=!1,JT(d,t,u);break;case"selectionchange":if(lz)break;case"keydown":case"keyup":JT(d,t,u)}var R;if(jA)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ud?eI(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(J3&&t.locale!=="ko"&&(ud||T!=="onCompositionStart"?T==="onCompositionEnd"&&ud&&(R=Z3()):(qa=u,OA="value"in qa?qa.value:qa.textContent,ud=!0)),k=qy(c,T),0<k.length&&(T=new HT(T,n,null,t,u),d.push({event:T,listeners:k}),R?T.data=R:(R=tI(t),R!==null&&(T.data=R)))),(R=X7?Q7(n,t):Z7(n,t))&&(c=qy(c,"onBeforeInput"),0<c.length&&(u=new HT("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=R))}fI(d,e)})}function ag(n,e,t){return{instance:n,listener:e,currentTarget:t}}function qy(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=eg(n,t),s!=null&&r.unshift(ag(n,s,i)),s=eg(n,e),s!=null&&r.push(ag(n,s,i))),n=n.return}return r}function Hu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function nk(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=eg(t,s),l!=null&&o.unshift(ag(t,l,a))):i||(l=eg(t,s),l!=null&&o.push(ag(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var hz=/\r\n?/g,fz=/\u0000|\uFFFD/g;function rk(n){return(typeof n=="string"?n:""+n).replace(hz,`
`).replace(fz,"")}function t0(n,e,t){if(e=rk(e),rk(n)!==e&&t)throw Error(Z(425))}function Ky(){}var tS=null,nS=null;function rS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iS=typeof setTimeout=="function"?setTimeout:void 0,pz=typeof clearTimeout=="function"?clearTimeout:void 0,ik=typeof Promise=="function"?Promise:void 0,gz=typeof queueMicrotask=="function"?queueMicrotask:typeof ik<"u"?function(n){return ik.resolve(null).then(n).catch(mz)}:iS;function mz(n){setTimeout(function(){throw n})}function xb(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),rg(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);rg(e)}function el(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function sk(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var pf=Math.random().toString(36).slice(2),As="__reactFiber$"+pf,lg="__reactProps$"+pf,Ho="__reactContainer$"+pf,sS="__reactEvents$"+pf,vz="__reactListeners$"+pf,yz="__reactHandles$"+pf;function ic(n){var e=n[As];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ho]||t[As]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=sk(n);n!==null;){if(t=n[As])return t;n=sk(n)}return e}n=t,t=n.parentNode}return null}function yv(n){return n=n[As]||n[Ho],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function fd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Z(33))}function O_(n){return n[lg]||null}var oS=[],pd=-1;function Al(n){return{current:n}}function yt(n){0>pd||(n.current=oS[pd],oS[pd]=null,pd--)}function pt(n,e){pd++,oS[pd]=n.current,n.current=e}var dl={},Hn=Al(dl),br=Al(!1),fu=dl;function Gh(n,e){var t=n.type.contextTypes;if(!t)return dl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function xr(n){return n=n.childContextTypes,n!=null}function Yy(){yt(br),yt(Hn)}function ok(n,e,t){if(Hn.current!==dl)throw Error(Z(168));pt(Hn,e),pt(br,t)}function gI(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,n7(n)||"Unknown",i));return Tt({},t,r)}function Xy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||dl,fu=Hn.current,pt(Hn,n),pt(br,br.current),!0}function ak(n,e,t){var r=n.stateNode;if(!r)throw Error(Z(169));t?(n=gI(n,e,fu),r.__reactInternalMemoizedMergedChildContext=n,yt(br),yt(Hn),pt(Hn,n)):yt(br),pt(br,t)}var no=null,N_=!1,Sb=!1;function mI(n){no===null?no=[n]:no.push(n)}function wz(n){N_=!0,mI(n)}function Pl(){if(!Sb&&no!==null){Sb=!0;var n=0,e=Xe;try{var t=no;for(Xe=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}no=null,N_=!1}catch(i){throw no!==null&&(no=no.slice(n+1)),z3(MA,Pl),i}finally{Xe=e,Sb=!1}}return null}var gd=[],md=0,Qy=null,Zy=0,ui=[],di=0,pu=null,Ro=1,Mo="";function Hl(n,e){gd[md++]=Zy,gd[md++]=Qy,Qy=n,Zy=e}function vI(n,e,t){ui[di++]=Ro,ui[di++]=Mo,ui[di++]=pu,pu=n;var r=Ro;n=Mo;var i=32-Ji(r)-1;r&=~(1<<i),t+=1;var s=32-Ji(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ro=1<<32-Ji(e)+i|t<<i|r,Mo=s+n}else Ro=1<<s|t<<i|r,Mo=n}function BA(n){n.return!==null&&(Hl(n,1),vI(n,1,0))}function zA(n){for(;n===Qy;)Qy=gd[--md],gd[md]=null,Zy=gd[--md],gd[md]=null;for(;n===pu;)pu=ui[--di],ui[di]=null,Mo=ui[--di],ui[di]=null,Ro=ui[--di],ui[di]=null}var qr=null,Hr=null,bt=!1,Xi=null;function yI(n,e){var t=pi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function lk(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,qr=n,Hr=el(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,qr=n,Hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=pu!==null?{id:Ro,overflow:Mo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=pi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,qr=n,Hr=null,!0):!1;default:return!1}}function aS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lS(n){if(bt){var e=Hr;if(e){var t=e;if(!lk(n,e)){if(aS(n))throw Error(Z(418));e=el(t.nextSibling);var r=qr;e&&lk(n,e)?yI(r,t):(n.flags=n.flags&-4097|2,bt=!1,qr=n)}}else{if(aS(n))throw Error(Z(418));n.flags=n.flags&-4097|2,bt=!1,qr=n}}}function ck(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;qr=n}function n0(n){if(n!==qr)return!1;if(!bt)return ck(n),bt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!rS(n.type,n.memoizedProps)),e&&(e=Hr)){if(aS(n))throw wI(),Error(Z(418));for(;e;)yI(n,e),e=el(e.nextSibling)}if(ck(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Hr=el(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Hr=null}}else Hr=qr?el(n.stateNode.nextSibling):null;return!0}function wI(){for(var n=Hr;n;)n=el(n.nextSibling)}function qh(){Hr=qr=null,bt=!1}function UA(n){Xi===null?Xi=[n]:Xi.push(n)}var _z=ea.ReactCurrentBatchConfig;function Nf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Z(309));var r=t.stateNode}if(!r)throw Error(Z(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Z(284));if(!t._owner)throw Error(Z(290,n))}return n}function r0(n,e){throw n=Object.prototype.toString.call(e),Error(Z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function uk(n){var e=n._init;return e(n._payload)}function _I(n){function e(y,b){if(n){var x=y.deletions;x===null?(y.deletions=[b],y.flags|=16):x.push(b)}}function t(y,b){if(!n)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=il(y,b),y.index=0,y.sibling=null,y}function s(y,b,x){return y.index=x,n?(x=y.alternate,x!==null?(x=x.index,x<b?(y.flags|=2,b):x):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,b,x,S){return b===null||b.tag!==6?(b=Rb(x,y.mode,S),b.return=y,b):(b=i(b,x),b.return=y,b)}function l(y,b,x,S){var E=x.type;return E===cd?u(y,b,x.props.children,S,x.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ga&&uk(E)===b.type)?(S=i(b,x.props),S.ref=Nf(y,b,x),S.return=y,S):(S=ey(x.type,x.key,x.props,null,y.mode,S),S.ref=Nf(y,b,x),S.return=y,S)}function c(y,b,x,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Mb(x,y.mode,S),b.return=y,b):(b=i(b,x.children||[]),b.return=y,b)}function u(y,b,x,S,E){return b===null||b.tag!==7?(b=cu(x,y.mode,S,E),b.return=y,b):(b=i(b,x),b.return=y,b)}function d(y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Rb(""+b,y.mode,x),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gv:return x=ey(b.type,b.key,b.props,null,y.mode,x),x.ref=Nf(y,null,b),x.return=y,x;case ld:return b=Mb(b,y.mode,x),b.return=y,b;case ga:var S=b._init;return d(y,S(b._payload),x)}if(ep(b)||Mf(b))return b=cu(b,y.mode,x,null),b.return=y,b;r0(y,b)}return null}function h(y,b,x,S){var E=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(y,b,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gv:return x.key===E?l(y,b,x,S):null;case ld:return x.key===E?c(y,b,x,S):null;case ga:return E=x._init,h(y,b,E(x._payload),S)}if(ep(x)||Mf(x))return E!==null?null:u(y,b,x,S,null);r0(y,x)}return null}function p(y,b,x,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(x)||null,a(b,y,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gv:return y=y.get(S.key===null?x:S.key)||null,l(b,y,S,E);case ld:return y=y.get(S.key===null?x:S.key)||null,c(b,y,S,E);case ga:var k=S._init;return p(y,b,x,k(S._payload),E)}if(ep(S)||Mf(S))return y=y.get(x)||null,u(b,y,S,E,null);r0(b,S)}return null}function g(y,b,x,S){for(var E=null,k=null,R=b,T=b=0,M=null;R!==null&&T<x.length;T++){R.index>T?(M=R,R=null):M=R.sibling;var L=h(y,R,x[T],S);if(L===null){R===null&&(R=M);break}n&&R&&L.alternate===null&&e(y,R),b=s(L,b,T),k===null?E=L:k.sibling=L,k=L,R=M}if(T===x.length)return t(y,R),bt&&Hl(y,T),E;if(R===null){for(;T<x.length;T++)R=d(y,x[T],S),R!==null&&(b=s(R,b,T),k===null?E=R:k.sibling=R,k=R);return bt&&Hl(y,T),E}for(R=r(y,R);T<x.length;T++)M=p(R,y,T,x[T],S),M!==null&&(n&&M.alternate!==null&&R.delete(M.key===null?T:M.key),b=s(M,b,T),k===null?E=M:k.sibling=M,k=M);return n&&R.forEach(function(N){return e(y,N)}),bt&&Hl(y,T),E}function m(y,b,x,S){var E=Mf(x);if(typeof E!="function")throw Error(Z(150));if(x=E.call(x),x==null)throw Error(Z(151));for(var k=E=null,R=b,T=b=0,M=null,L=x.next();R!==null&&!L.done;T++,L=x.next()){R.index>T?(M=R,R=null):M=R.sibling;var N=h(y,R,L.value,S);if(N===null){R===null&&(R=M);break}n&&R&&N.alternate===null&&e(y,R),b=s(N,b,T),k===null?E=N:k.sibling=N,k=N,R=M}if(L.done)return t(y,R),bt&&Hl(y,T),E;if(R===null){for(;!L.done;T++,L=x.next())L=d(y,L.value,S),L!==null&&(b=s(L,b,T),k===null?E=L:k.sibling=L,k=L);return bt&&Hl(y,T),E}for(R=r(y,R);!L.done;T++,L=x.next())L=p(R,y,T,L.value,S),L!==null&&(n&&L.alternate!==null&&R.delete(L.key===null?T:L.key),b=s(L,b,T),k===null?E=L:k.sibling=L,k=L);return n&&R.forEach(function(z){return e(y,z)}),bt&&Hl(y,T),E}function _(y,b,x,S){if(typeof x=="object"&&x!==null&&x.type===cd&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Gv:e:{for(var E=x.key,k=b;k!==null;){if(k.key===E){if(E=x.type,E===cd){if(k.tag===7){t(y,k.sibling),b=i(k,x.props.children),b.return=y,y=b;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ga&&uk(E)===k.type){t(y,k.sibling),b=i(k,x.props),b.ref=Nf(y,k,x),b.return=y,y=b;break e}t(y,k);break}else e(y,k);k=k.sibling}x.type===cd?(b=cu(x.props.children,y.mode,S,x.key),b.return=y,y=b):(S=ey(x.type,x.key,x.props,null,y.mode,S),S.ref=Nf(y,b,x),S.return=y,y=S)}return o(y);case ld:e:{for(k=x.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){t(y,b.sibling),b=i(b,x.children||[]),b.return=y,y=b;break e}else{t(y,b);break}else e(y,b);b=b.sibling}b=Mb(x,y.mode,S),b.return=y,y=b}return o(y);case ga:return k=x._init,_(y,b,k(x._payload),S)}if(ep(x))return g(y,b,x,S);if(Mf(x))return m(y,b,x,S);r0(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(t(y,b.sibling),b=i(b,x),b.return=y,y=b):(t(y,b),b=Rb(x,y.mode,S),b.return=y,y=b),o(y)):t(y,b)}return _}var Kh=_I(!0),bI=_I(!1),Jy=Al(null),ew=null,vd=null,VA=null;function HA(){VA=vd=ew=null}function WA(n){var e=Jy.current;yt(Jy),n._currentValue=e}function cS(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Ld(n,e){ew=n,VA=vd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(mr=!0),n.firstContext=null)}function xi(n){var e=n._currentValue;if(VA!==n)if(n={context:n,memoizedValue:e,next:null},vd===null){if(ew===null)throw Error(Z(308));vd=n,ew.dependencies={lanes:0,firstContext:n}}else vd=vd.next=n;return e}var sc=null;function GA(n){sc===null?sc=[n]:sc.push(n)}function xI(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,GA(e)):(t.next=i.next,i.next=t),e.interleaved=t,Wo(n,r)}function Wo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ma=!1;function qA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SI(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Lo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function tl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wo(n,t)}return i=r.interleaved,i===null?(e.next=e,GA(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wo(n,t)}function K0(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,DA(n,t)}}function dk(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function tw(n,e,t,r){var i=n.updateQueue;ma=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,m=a;switch(h=e,p=t,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Tt({},d,h);break e;case 2:ma=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);mu|=o,n.lanes=o,n.memoizedState=d}}function hk(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var wv={},Ds=Al(wv),cg=Al(wv),ug=Al(wv);function oc(n){if(n===wv)throw Error(Z(174));return n}function KA(n,e){switch(pt(ug,e),pt(cg,n),pt(Ds,wv),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vx(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Vx(e,n)}yt(Ds),pt(Ds,e)}function Yh(){yt(Ds),yt(cg),yt(ug)}function EI(n){oc(ug.current);var e=oc(Ds.current),t=Vx(e,n.type);e!==t&&(pt(cg,n),pt(Ds,t))}function YA(n){cg.current===n&&(yt(Ds),yt(cg))}var Ct=Al(0);function nw(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eb=[];function XA(){for(var n=0;n<Eb.length;n++)Eb[n]._workInProgressVersionPrimary=null;Eb.length=0}var Y0=ea.ReactCurrentDispatcher,Cb=ea.ReactCurrentBatchConfig,gu=0,Pt=null,Jt=null,dn=null,rw=!1,Ip=!1,dg=0,bz=0;function Rn(){throw Error(Z(321))}function QA(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ts(n[t],e[t]))return!1;return!0}function ZA(n,e,t,r,i,s){if(gu=s,Pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Y0.current=n===null||n.memoizedState===null?Cz:Az,n=t(r,i),Ip){s=0;do{if(Ip=!1,dg=0,25<=s)throw Error(Z(301));s+=1,dn=Jt=null,e.updateQueue=null,Y0.current=Pz,n=t(r,i)}while(Ip)}if(Y0.current=iw,e=Jt!==null&&Jt.next!==null,gu=0,dn=Jt=Pt=null,rw=!1,e)throw Error(Z(300));return n}function JA(){var n=dg!==0;return dg=0,n}function cs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Pt.memoizedState=dn=n:dn=dn.next=n,dn}function Si(){if(Jt===null){var n=Pt.alternate;n=n!==null?n.memoizedState:null}else n=Jt.next;var e=dn===null?Pt.memoizedState:dn.next;if(e!==null)dn=e,Jt=n;else{if(n===null)throw Error(Z(310));Jt=n,n={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},dn===null?Pt.memoizedState=dn=n:dn=dn.next=n}return dn}function hg(n,e){return typeof e=="function"?e(n):e}function Ab(n){var e=Si(),t=e.queue;if(t===null)throw Error(Z(311));t.lastRenderedReducer=n;var r=Jt,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((gu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Pt.lanes|=u,mu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ts(r,e.memoizedState)||(mr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Pt.lanes|=s,mu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Pb(n){var e=Si(),t=e.queue;if(t===null)throw Error(Z(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);ts(s,e.memoizedState)||(mr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function CI(){}function AI(n,e){var t=Pt,r=Si(),i=e(),s=!ts(r.memoizedState,i);if(s&&(r.memoizedState=i,mr=!0),r=r.queue,eP(kI.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||dn!==null&&dn.memoizedState.tag&1){if(t.flags|=2048,fg(9,TI.bind(null,t,r,i,e),void 0,null),hn===null)throw Error(Z(349));gu&30||PI(t,e,i)}return i}function PI(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function TI(n,e,t,r){e.value=t,e.getSnapshot=r,RI(e)&&MI(n)}function kI(n,e,t){return t(function(){RI(e)&&MI(n)})}function RI(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ts(n,t)}catch{return!0}}function MI(n){var e=Wo(n,1);e!==null&&es(e,n,1,-1)}function fk(n){var e=cs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hg,lastRenderedState:n},e.queue=n,n=n.dispatch=Ez.bind(null,Pt,n),[e.memoizedState,n]}function fg(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function DI(){return Si().memoizedState}function X0(n,e,t,r){var i=cs();Pt.flags|=n,i.memoizedState=fg(1|e,t,void 0,r===void 0?null:r)}function F_(n,e,t,r){var i=Si();r=r===void 0?null:r;var s=void 0;if(Jt!==null){var o=Jt.memoizedState;if(s=o.destroy,r!==null&&QA(r,o.deps)){i.memoizedState=fg(e,t,s,r);return}}Pt.flags|=n,i.memoizedState=fg(1|e,t,s,r)}function pk(n,e){return X0(8390656,8,n,e)}function eP(n,e){return F_(2048,8,n,e)}function LI(n,e){return F_(4,2,n,e)}function II(n,e){return F_(4,4,n,e)}function OI(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function NI(n,e,t){return t=t!=null?t.concat([n]):null,F_(4,4,OI.bind(null,e,n),t)}function tP(){}function FI(n,e){var t=Si();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&QA(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function jI(n,e){var t=Si();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&QA(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function $I(n,e,t){return gu&21?(ts(t,e)||(t=H3(),Pt.lanes|=t,mu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,mr=!0),n.memoizedState=t)}function xz(n,e){var t=Xe;Xe=t!==0&&4>t?t:4,n(!0);var r=Cb.transition;Cb.transition={};try{n(!1),e()}finally{Xe=t,Cb.transition=r}}function BI(){return Si().memoizedState}function Sz(n,e,t){var r=rl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},zI(n))UI(e,t);else if(t=xI(n,e,t,r),t!==null){var i=er();es(t,n,r,i),VI(t,e,r)}}function Ez(n,e,t){var r=rl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(zI(n))UI(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,ts(a,o)){var l=e.interleaved;l===null?(i.next=i,GA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=xI(n,e,i,r),t!==null&&(i=er(),es(t,n,r,i),VI(t,e,r))}}function zI(n){var e=n.alternate;return n===Pt||e!==null&&e===Pt}function UI(n,e){Ip=rw=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function VI(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,DA(n,t)}}var iw={readContext:xi,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},Cz={readContext:xi,useCallback:function(n,e){return cs().memoizedState=[n,e===void 0?null:e],n},useContext:xi,useEffect:pk,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,X0(4194308,4,OI.bind(null,e,n),t)},useLayoutEffect:function(n,e){return X0(4194308,4,n,e)},useInsertionEffect:function(n,e){return X0(4,2,n,e)},useMemo:function(n,e){var t=cs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=cs();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=Sz.bind(null,Pt,n),[r.memoizedState,n]},useRef:function(n){var e=cs();return n={current:n},e.memoizedState=n},useState:fk,useDebugValue:tP,useDeferredValue:function(n){return cs().memoizedState=n},useTransition:function(){var n=fk(!1),e=n[0];return n=xz.bind(null,n[1]),cs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Pt,i=cs();if(bt){if(t===void 0)throw Error(Z(407));t=t()}else{if(t=e(),hn===null)throw Error(Z(349));gu&30||PI(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,pk(kI.bind(null,r,s,n),[n]),r.flags|=2048,fg(9,TI.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=cs(),e=hn.identifierPrefix;if(bt){var t=Mo,r=Ro;t=(r&~(1<<32-Ji(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=dg++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=bz++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Az={readContext:xi,useCallback:FI,useContext:xi,useEffect:eP,useImperativeHandle:NI,useInsertionEffect:LI,useLayoutEffect:II,useMemo:jI,useReducer:Ab,useRef:DI,useState:function(){return Ab(hg)},useDebugValue:tP,useDeferredValue:function(n){var e=Si();return $I(e,Jt.memoizedState,n)},useTransition:function(){var n=Ab(hg)[0],e=Si().memoizedState;return[n,e]},useMutableSource:CI,useSyncExternalStore:AI,useId:BI,unstable_isNewReconciler:!1},Pz={readContext:xi,useCallback:FI,useContext:xi,useEffect:eP,useImperativeHandle:NI,useInsertionEffect:LI,useLayoutEffect:II,useMemo:jI,useReducer:Pb,useRef:DI,useState:function(){return Pb(hg)},useDebugValue:tP,useDeferredValue:function(n){var e=Si();return Jt===null?e.memoizedState=n:$I(e,Jt.memoizedState,n)},useTransition:function(){var n=Pb(hg)[0],e=Si().memoizedState;return[n,e]},useMutableSource:CI,useSyncExternalStore:AI,useId:BI,unstable_isNewReconciler:!1};function Mi(n,e){if(n&&n.defaultProps){e=Tt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function uS(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Tt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var j_={isMounted:function(n){return(n=n._reactInternals)?Mu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=er(),i=rl(n),s=Lo(r,i);s.payload=e,t!=null&&(s.callback=t),e=tl(n,s,i),e!==null&&(es(e,n,i,r),K0(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=er(),i=rl(n),s=Lo(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=tl(n,s,i),e!==null&&(es(e,n,i,r),K0(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=er(),r=rl(n),i=Lo(t,r);i.tag=2,e!=null&&(i.callback=e),e=tl(n,i,r),e!==null&&(es(e,n,r,t),K0(e,n,r))}};function gk(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!sg(t,r)||!sg(i,s):!0}function HI(n,e,t){var r=!1,i=dl,s=e.contextType;return typeof s=="object"&&s!==null?s=xi(s):(i=xr(e)?fu:Hn.current,r=e.contextTypes,s=(r=r!=null)?Gh(n,i):dl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=j_,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function mk(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&j_.enqueueReplaceState(e,e.state,null)}function dS(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},qA(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xi(s):(s=xr(e)?fu:Hn.current,i.context=Gh(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(uS(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&j_.enqueueReplaceState(i,i.state,null),tw(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Xh(n,e){try{var t="",r=e;do t+=t7(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Tb(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function hS(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Tz=typeof WeakMap=="function"?WeakMap:Map;function WI(n,e,t){t=Lo(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){ow||(ow=!0,xS=r),hS(n,e)},t}function GI(n,e,t){t=Lo(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){hS(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){hS(n,e),typeof r!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function vk(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new Tz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=Uz.bind(null,n,e,t),e.then(n,n))}function yk(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function wk(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Lo(-1,1),e.tag=2,tl(t,e,1))),t.lanes|=1),n)}var kz=ea.ReactCurrentOwner,mr=!1;function Qn(n,e,t,r){e.child=n===null?bI(e,null,t,r):Kh(e,n.child,t,r)}function _k(n,e,t,r,i){t=t.render;var s=e.ref;return Ld(e,i),r=ZA(n,e,t,r,s,i),t=JA(),n!==null&&!mr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Go(n,e,i)):(bt&&t&&BA(e),e.flags|=1,Qn(n,e,r,i),e.child)}function bk(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!cP(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,qI(n,e,s,r,i)):(n=ey(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:sg,t(o,r)&&n.ref===e.ref)return Go(n,e,i)}return e.flags|=1,n=il(s,r),n.ref=e.ref,n.return=e,e.child=n}function qI(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(sg(s,r)&&n.ref===e.ref)if(mr=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(mr=!0);else return e.lanes=n.lanes,Go(n,e,i)}return fS(n,e,t,r,i)}function KI(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(wd,Br),Br|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,pt(wd,Br),Br|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,pt(wd,Br),Br|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,pt(wd,Br),Br|=r;return Qn(n,e,i,t),e.child}function YI(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function fS(n,e,t,r,i){var s=xr(t)?fu:Hn.current;return s=Gh(e,s),Ld(e,i),t=ZA(n,e,t,r,s,i),r=JA(),n!==null&&!mr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Go(n,e,i)):(bt&&r&&BA(e),e.flags|=1,Qn(n,e,t,i),e.child)}function xk(n,e,t,r,i){if(xr(t)){var s=!0;Xy(e)}else s=!1;if(Ld(e,i),e.stateNode===null)Q0(n,e),HI(e,t,r),dS(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=xi(c):(c=xr(t)?fu:Hn.current,c=Gh(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&mk(e,o,r,c),ma=!1;var h=e.memoizedState;o.state=h,tw(e,r,o,i),l=e.memoizedState,a!==r||h!==l||br.current||ma?(typeof u=="function"&&(uS(e,t,u,r),l=e.memoizedState),(a=ma||gk(e,t,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,SI(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Mi(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=xi(l):(l=xr(t)?fu:Hn.current,l=Gh(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&mk(e,o,r,l),ma=!1,h=e.memoizedState,o.state=h,tw(e,r,o,i);var g=e.memoizedState;a!==d||h!==g||br.current||ma?(typeof p=="function"&&(uS(e,t,p,r),g=e.memoizedState),(c=ma||gk(e,t,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return pS(n,e,t,r,s,i)}function pS(n,e,t,r,i,s){YI(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ak(e,t,!1),Go(n,e,s);r=e.stateNode,kz.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Kh(e,n.child,null,s),e.child=Kh(e,null,a,s)):Qn(n,e,a,s),e.memoizedState=r.state,i&&ak(e,t,!0),e.child}function XI(n){var e=n.stateNode;e.pendingContext?ok(n,e.pendingContext,e.pendingContext!==e.context):e.context&&ok(n,e.context,!1),KA(n,e.containerInfo)}function Sk(n,e,t,r,i){return qh(),UA(i),e.flags|=256,Qn(n,e,t,r),e.child}var gS={dehydrated:null,treeContext:null,retryLane:0};function mS(n){return{baseLanes:n,cachePool:null,transitions:null}}function QI(n,e,t){var r=e.pendingProps,i=Ct.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),pt(Ct,i&1),n===null)return lS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=z_(o,r,0,null),n=cu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=mS(t),e.memoizedState=gS,n):nP(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Rz(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=il(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=il(a,s):(s=cu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?mS(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=gS,r}return s=n.child,n=s.sibling,r=il(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function nP(n,e){return e=z_({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function i0(n,e,t,r){return r!==null&&UA(r),Kh(e,n.child,null,t),n=nP(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Rz(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Tb(Error(Z(422))),i0(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=z_({mode:"visible",children:r.children},i,0,null),s=cu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kh(e,n.child,null,o),e.child.memoizedState=mS(o),e.memoizedState=gS,s);if(!(e.mode&1))return i0(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Z(419)),r=Tb(s,r,void 0),i0(n,e,o,r)}if(a=(o&n.childLanes)!==0,mr||a){if(r=hn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wo(n,i),es(r,n,i,-1))}return lP(),r=Tb(Error(Z(421))),i0(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Vz.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Hr=el(i.nextSibling),qr=e,bt=!0,Xi=null,n!==null&&(ui[di++]=Ro,ui[di++]=Mo,ui[di++]=pu,Ro=n.id,Mo=n.overflow,pu=e),e=nP(e,r.children),e.flags|=4096,e)}function Ek(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),cS(n.return,e,t)}function kb(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function ZI(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qn(n,e,r.children,t),r=Ct.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ek(n,t,e);else if(n.tag===19)Ek(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(pt(Ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&nw(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),kb(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&nw(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}kb(e,!0,t,null,s);break;case"together":kb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Q0(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Go(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),mu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Z(153));if(e.child!==null){for(n=e.child,t=il(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=il(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Mz(n,e,t){switch(e.tag){case 3:XI(e),qh();break;case 5:EI(e);break;case 1:xr(e.type)&&Xy(e);break;case 4:KA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pt(Jy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pt(Ct,Ct.current&1),e.flags|=128,null):t&e.child.childLanes?QI(n,e,t):(pt(Ct,Ct.current&1),n=Go(n,e,t),n!==null?n.sibling:null);pt(Ct,Ct.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return ZI(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(Ct,Ct.current),r)break;return null;case 22:case 23:return e.lanes=0,KI(n,e,t)}return Go(n,e,t)}var JI,vS,eO,tO;JI=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};vS=function(){};eO=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,oc(Ds.current);var s=null;switch(t){case"input":i=$x(n,i),r=$x(n,r),s=[];break;case"select":i=Tt({},i,{value:void 0}),r=Tt({},r,{value:void 0}),s=[];break;case"textarea":i=Ux(n,i),r=Ux(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Ky)}Hx(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&mt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};tO=function(n,e,t,r){t!==r&&(e.flags|=4)};function Ff(n,e){if(!bt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Mn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function Dz(n,e,t){var r=e.pendingProps;switch(zA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(e),null;case 1:return xr(e.type)&&Yy(),Mn(e),null;case 3:return r=e.stateNode,Yh(),yt(br),yt(Hn),XA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(n0(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xi!==null&&(CS(Xi),Xi=null))),vS(n,e),Mn(e),null;case 5:YA(e);var i=oc(ug.current);if(t=e.type,n!==null&&e.stateNode!=null)eO(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Mn(e),null}if(n=oc(Ds.current),n0(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[As]=e,r[lg]=s,n=(e.mode&1)!==0,t){case"dialog":mt("cancel",r),mt("close",r);break;case"iframe":case"object":case"embed":mt("load",r);break;case"video":case"audio":for(i=0;i<np.length;i++)mt(np[i],r);break;case"source":mt("error",r);break;case"img":case"image":case"link":mt("error",r),mt("load",r);break;case"details":mt("toggle",r);break;case"input":LT(r,s),mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},mt("invalid",r);break;case"textarea":OT(r,s),mt("invalid",r)}Hx(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&t0(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&t0(r.textContent,a,n),i=["children",""+a]):Zp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&mt("scroll",r)}switch(t){case"input":qv(r),IT(r,s,!0);break;case"textarea":qv(r),NT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ky)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=k3(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[As]=e,n[lg]=r,JI(n,e,!1,!1),e.stateNode=n;e:{switch(o=Wx(t,r),t){case"dialog":mt("cancel",n),mt("close",n),i=r;break;case"iframe":case"object":case"embed":mt("load",n),i=r;break;case"video":case"audio":for(i=0;i<np.length;i++)mt(np[i],n);i=r;break;case"source":mt("error",n),i=r;break;case"img":case"image":case"link":mt("error",n),mt("load",n),i=r;break;case"details":mt("toggle",n),i=r;break;case"input":LT(n,r),i=$x(n,r),mt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Tt({},r,{value:void 0}),mt("invalid",n);break;case"textarea":OT(n,r),i=Ux(n,r),mt("invalid",n);break;default:i=r}Hx(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?D3(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&R3(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Jp(n,l):typeof l=="number"&&Jp(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&mt("scroll",n):l!=null&&AA(n,s,l,o))}switch(t){case"input":qv(n),IT(n,r,!1);break;case"textarea":qv(n),NT(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ul(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?kd(n,!!r.multiple,s,!1):r.defaultValue!=null&&kd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Ky)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mn(e),null;case 6:if(n&&e.stateNode!=null)tO(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(t=oc(ug.current),oc(Ds.current),n0(e)){if(r=e.stateNode,t=e.memoizedProps,r[As]=e,(s=r.nodeValue!==t)&&(n=qr,n!==null))switch(n.tag){case 3:t0(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&t0(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[As]=e,e.stateNode=r}return Mn(e),null;case 13:if(yt(Ct),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(bt&&Hr!==null&&e.mode&1&&!(e.flags&128))wI(),qh(),e.flags|=98560,s=!1;else if(s=n0(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[As]=e}else qh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mn(e),s=!1}else Xi!==null&&(CS(Xi),Xi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Ct.current&1?rn===0&&(rn=3):lP())),e.updateQueue!==null&&(e.flags|=4),Mn(e),null);case 4:return Yh(),vS(n,e),n===null&&og(e.stateNode.containerInfo),Mn(e),null;case 10:return WA(e.type._context),Mn(e),null;case 17:return xr(e.type)&&Yy(),Mn(e),null;case 19:if(yt(Ct),s=e.memoizedState,s===null)return Mn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ff(s,!1);else{if(rn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=nw(n),o!==null){for(e.flags|=128,Ff(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return pt(Ct,Ct.current&1|2),e.child}n=n.sibling}s.tail!==null&&jt()>Qh&&(e.flags|=128,r=!0,Ff(s,!1),e.lanes=4194304)}else{if(!r)if(n=nw(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Ff(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!bt)return Mn(e),null}else 2*jt()-s.renderingStartTime>Qh&&t!==1073741824&&(e.flags|=128,r=!0,Ff(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,t=Ct.current,pt(Ct,r?t&1|2:t&1),e):(Mn(e),null);case 22:case 23:return aP(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Br&1073741824&&(Mn(e),e.subtreeFlags&6&&(e.flags|=8192)):Mn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function Lz(n,e){switch(zA(e),e.tag){case 1:return xr(e.type)&&Yy(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Yh(),yt(br),yt(Hn),XA(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return YA(e),null;case 13:if(yt(Ct),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));qh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return yt(Ct),null;case 4:return Yh(),null;case 10:return WA(e.type._context),null;case 22:case 23:return aP(),null;case 24:return null;default:return null}}var s0=!1,jn=!1,Iz=typeof WeakSet=="function"?WeakSet:Set,ce=null;function yd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Lt(n,e,r)}else t.current=null}function yS(n,e,t){try{t()}catch(r){Lt(n,e,r)}}var Ck=!1;function Oz(n,e){if(tS=Wy,n=oI(),$A(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,h=null;t:for(;;){for(var p;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===n)break t;if(h===t&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(nS={focusedElem:n,selectionRange:t},Wy=!1,ce=e;ce!==null;)if(e=ce,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ce=n;else for(;ce!==null;){e=ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,_=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Mi(e.type,m),_);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(S){Lt(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}return g=Ck,Ck=!1,g}function Op(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&yS(e,t,s)}i=i.next}while(i!==r)}}function $_(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function wS(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function nO(n){var e=n.alternate;e!==null&&(n.alternate=null,nO(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[As],delete e[lg],delete e[sS],delete e[vz],delete e[yz])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rO(n){return n.tag===5||n.tag===3||n.tag===4}function Ak(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rO(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _S(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ky));else if(r!==4&&(n=n.child,n!==null))for(_S(n,e,t),n=n.sibling;n!==null;)_S(n,e,t),n=n.sibling}function bS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(bS(n,e,t),n=n.sibling;n!==null;)bS(n,e,t),n=n.sibling}var xn=null,qi=!1;function ia(n,e,t){for(t=t.child;t!==null;)iO(n,e,t),t=t.sibling}function iO(n,e,t){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(M_,t)}catch{}switch(t.tag){case 5:jn||yd(t,e);case 6:var r=xn,i=qi;xn=null,ia(n,e,t),xn=r,qi=i,xn!==null&&(qi?(n=xn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):xn.removeChild(t.stateNode));break;case 18:xn!==null&&(qi?(n=xn,t=t.stateNode,n.nodeType===8?xb(n.parentNode,t):n.nodeType===1&&xb(n,t),rg(n)):xb(xn,t.stateNode));break;case 4:r=xn,i=qi,xn=t.stateNode.containerInfo,qi=!0,ia(n,e,t),xn=r,qi=i;break;case 0:case 11:case 14:case 15:if(!jn&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yS(t,e,o),i=i.next}while(i!==r)}ia(n,e,t);break;case 1:if(!jn&&(yd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Lt(t,e,a)}ia(n,e,t);break;case 21:ia(n,e,t);break;case 22:t.mode&1?(jn=(r=jn)||t.memoizedState!==null,ia(n,e,t),jn=r):ia(n,e,t);break;default:ia(n,e,t)}}function Pk(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Iz),e.forEach(function(r){var i=Hz.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Ai(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xn=a.stateNode,qi=!1;break e;case 3:xn=a.stateNode.containerInfo,qi=!0;break e;case 4:xn=a.stateNode.containerInfo,qi=!0;break e}a=a.return}if(xn===null)throw Error(Z(160));iO(s,o,i),xn=null,qi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Lt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sO(e,n),e=e.sibling}function sO(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ai(e,n),os(n),r&4){try{Op(3,n,n.return),$_(3,n)}catch(m){Lt(n,n.return,m)}try{Op(5,n,n.return)}catch(m){Lt(n,n.return,m)}}break;case 1:Ai(e,n),os(n),r&512&&t!==null&&yd(t,t.return);break;case 5:if(Ai(e,n),os(n),r&512&&t!==null&&yd(t,t.return),n.flags&32){var i=n.stateNode;try{Jp(i,"")}catch(m){Lt(n,n.return,m)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&P3(i,s),Wx(a,o);var c=Wx(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?D3(i,d):u==="dangerouslySetInnerHTML"?R3(i,d):u==="children"?Jp(i,d):AA(i,u,d,c)}switch(a){case"input":Bx(i,s);break;case"textarea":T3(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?kd(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?kd(i,!!s.multiple,s.defaultValue,!0):kd(i,!!s.multiple,s.multiple?[]:"",!1))}i[lg]=s}catch(m){Lt(n,n.return,m)}}break;case 6:if(Ai(e,n),os(n),r&4){if(n.stateNode===null)throw Error(Z(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(m){Lt(n,n.return,m)}}break;case 3:if(Ai(e,n),os(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{rg(e.containerInfo)}catch(m){Lt(n,n.return,m)}break;case 4:Ai(e,n),os(n);break;case 13:Ai(e,n),os(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sP=jt())),r&4&&Pk(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(jn=(c=jn)||u,Ai(e,n),jn=c):Ai(e,n),os(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(ce=n,u=n.child;u!==null;){for(d=ce=u;ce!==null;){switch(h=ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:Op(4,h,h.return);break;case 1:yd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,t=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Lt(r,t,m)}}break;case 5:yd(h,h.return);break;case 22:if(h.memoizedState!==null){kk(d);continue}}p!==null?(p.return=h,ce=p):kk(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=M3("display",o))}catch(m){Lt(n,n.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Lt(n,n.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ai(e,n),os(n),r&4&&Pk(n);break;case 21:break;default:Ai(e,n),os(n)}}function os(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(rO(t)){var r=t;break e}t=t.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jp(i,""),r.flags&=-33);var s=Ak(n);bS(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ak(n);_S(n,a,o);break;default:throw Error(Z(161))}}catch(l){Lt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Nz(n,e,t){ce=n,oO(n)}function oO(n,e,t){for(var r=(n.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||s0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jn;a=s0;var c=jn;if(s0=o,(jn=l)&&!c)for(ce=i;ce!==null;)o=ce,l=o.child,o.tag===22&&o.memoizedState!==null?Rk(i):l!==null?(l.return=o,ce=l):Rk(i);for(;s!==null;)ce=s,oO(s),s=s.sibling;ce=i,s0=a,jn=c}Tk(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):Tk(n)}}function Tk(n){for(;ce!==null;){var e=ce;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||$_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jn)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Mi(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&hk(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}hk(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&rg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}jn||e.flags&512&&wS(e)}catch(h){Lt(e,e.return,h)}}if(e===n){ce=null;break}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}}function kk(n){for(;ce!==null;){var e=ce;if(e===n){ce=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ce=t;break}ce=e.return}}function Rk(n){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{$_(4,e)}catch(l){Lt(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Lt(e,i,l)}}var s=e.return;try{wS(e)}catch(l){Lt(e,s,l)}break;case 5:var o=e.return;try{wS(e)}catch(l){Lt(e,o,l)}}}catch(l){Lt(e,e.return,l)}if(e===n){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var Fz=Math.ceil,sw=ea.ReactCurrentDispatcher,rP=ea.ReactCurrentOwner,vi=ea.ReactCurrentBatchConfig,ze=0,hn=null,Vt=null,Cn=0,Br=0,wd=Al(0),rn=0,pg=null,mu=0,B_=0,iP=0,Np=null,pr=null,sP=0,Qh=1/0,Xs=null,ow=!1,xS=null,nl=null,o0=!1,Ka=null,aw=0,Fp=0,SS=null,Z0=-1,J0=0;function er(){return ze&6?jt():Z0!==-1?Z0:Z0=jt()}function rl(n){return n.mode&1?ze&2&&Cn!==0?Cn&-Cn:_z.transition!==null?(J0===0&&(J0=H3()),J0):(n=Xe,n!==0||(n=window.event,n=n===void 0?16:Q3(n.type)),n):1}function es(n,e,t,r){if(50<Fp)throw Fp=0,SS=null,Error(Z(185));mv(n,t,r),(!(ze&2)||n!==hn)&&(n===hn&&(!(ze&2)&&(B_|=t),rn===4&&Sa(n,Cn)),Sr(n,r),t===1&&ze===0&&!(e.mode&1)&&(Qh=jt()+500,N_&&Pl()))}function Sr(n,e){var t=n.callbackNode;_7(n,e);var r=Hy(n,n===hn?Cn:0);if(r===0)t!==null&&$T(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&$T(t),e===1)n.tag===0?wz(Mk.bind(null,n)):mI(Mk.bind(null,n)),gz(function(){!(ze&6)&&Pl()}),t=null;else{switch(W3(r)){case 1:t=MA;break;case 4:t=U3;break;case 16:t=Vy;break;case 536870912:t=V3;break;default:t=Vy}t=pO(t,aO.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function aO(n,e){if(Z0=-1,J0=0,ze&6)throw Error(Z(327));var t=n.callbackNode;if(Id()&&n.callbackNode!==t)return null;var r=Hy(n,n===hn?Cn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=lw(n,r);else{e=r;var i=ze;ze|=2;var s=cO();(hn!==n||Cn!==e)&&(Xs=null,Qh=jt()+500,lu(n,e));do try{Bz();break}catch(a){lO(n,a)}while(!0);HA(),sw.current=s,ze=i,Vt!==null?e=0:(hn=null,Cn=0,e=rn)}if(e!==0){if(e===2&&(i=Xx(n),i!==0&&(r=i,e=ES(n,i))),e===1)throw t=pg,lu(n,0),Sa(n,r),Sr(n,jt()),t;if(e===6)Sa(n,r);else{if(i=n.current.alternate,!(r&30)&&!jz(i)&&(e=lw(n,r),e===2&&(s=Xx(n),s!==0&&(r=s,e=ES(n,s))),e===1))throw t=pg,lu(n,0),Sa(n,r),Sr(n,jt()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Wl(n,pr,Xs);break;case 3:if(Sa(n,r),(r&130023424)===r&&(e=sP+500-jt(),10<e)){if(Hy(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){er(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=iS(Wl.bind(null,n,pr,Xs),e);break}Wl(n,pr,Xs);break;case 4:if(Sa(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Ji(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fz(r/1960))-r,10<r){n.timeoutHandle=iS(Wl.bind(null,n,pr,Xs),r);break}Wl(n,pr,Xs);break;case 5:Wl(n,pr,Xs);break;default:throw Error(Z(329))}}}return Sr(n,jt()),n.callbackNode===t?aO.bind(null,n):null}function ES(n,e){var t=Np;return n.current.memoizedState.isDehydrated&&(lu(n,e).flags|=256),n=lw(n,e),n!==2&&(e=pr,pr=t,e!==null&&CS(e)),n}function CS(n){pr===null?pr=n:pr.push.apply(pr,n)}function jz(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!ts(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sa(n,e){for(e&=~iP,e&=~B_,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ji(e),r=1<<t;n[t]=-1,e&=~r}}function Mk(n){if(ze&6)throw Error(Z(327));Id();var e=Hy(n,0);if(!(e&1))return Sr(n,jt()),null;var t=lw(n,e);if(n.tag!==0&&t===2){var r=Xx(n);r!==0&&(e=r,t=ES(n,r))}if(t===1)throw t=pg,lu(n,0),Sa(n,e),Sr(n,jt()),t;if(t===6)throw Error(Z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Wl(n,pr,Xs),Sr(n,jt()),null}function oP(n,e){var t=ze;ze|=1;try{return n(e)}finally{ze=t,ze===0&&(Qh=jt()+500,N_&&Pl())}}function vu(n){Ka!==null&&Ka.tag===0&&!(ze&6)&&Id();var e=ze;ze|=1;var t=vi.transition,r=Xe;try{if(vi.transition=null,Xe=1,n)return n()}finally{Xe=r,vi.transition=t,ze=e,!(ze&6)&&Pl()}}function aP(){Br=wd.current,yt(wd)}function lu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,pz(t)),Vt!==null)for(t=Vt.return;t!==null;){var r=t;switch(zA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yy();break;case 3:Yh(),yt(br),yt(Hn),XA();break;case 5:YA(r);break;case 4:Yh();break;case 13:yt(Ct);break;case 19:yt(Ct);break;case 10:WA(r.type._context);break;case 22:case 23:aP()}t=t.return}if(hn=n,Vt=n=il(n.current,null),Cn=Br=e,rn=0,pg=null,iP=B_=mu=0,pr=Np=null,sc!==null){for(e=0;e<sc.length;e++)if(t=sc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}sc=null}return n}function lO(n,e){do{var t=Vt;try{if(HA(),Y0.current=iw,rw){for(var r=Pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rw=!1}if(gu=0,dn=Jt=Pt=null,Ip=!1,dg=0,rP.current=null,t===null||t.return===null){rn=1,pg=e,Vt=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Cn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=yk(o);if(p!==null){p.flags&=-257,wk(p,o,a,s,e),p.mode&1&&vk(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){vk(s,c,e),lP();break e}l=Error(Z(426))}}else if(bt&&a.mode&1){var _=yk(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),wk(_,o,a,s,e),UA(Xh(l,a));break e}}s=l=Xh(l,a),rn!==4&&(rn=2),Np===null?Np=[s]:Np.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=WI(s,l,e);dk(s,y);break e;case 1:a=l;var b=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(nl===null||!nl.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=GI(s,a,e);dk(s,S);break e}}s=s.return}while(s!==null)}dO(t)}catch(E){e=E,Vt===t&&t!==null&&(Vt=t=t.return);continue}break}while(!0)}function cO(){var n=sw.current;return sw.current=iw,n===null?iw:n}function lP(){(rn===0||rn===3||rn===2)&&(rn=4),hn===null||!(mu&268435455)&&!(B_&268435455)||Sa(hn,Cn)}function lw(n,e){var t=ze;ze|=2;var r=cO();(hn!==n||Cn!==e)&&(Xs=null,lu(n,e));do try{$z();break}catch(i){lO(n,i)}while(!0);if(HA(),ze=t,sw.current=r,Vt!==null)throw Error(Z(261));return hn=null,Cn=0,rn}function $z(){for(;Vt!==null;)uO(Vt)}function Bz(){for(;Vt!==null&&!d7();)uO(Vt)}function uO(n){var e=fO(n.alternate,n,Br);n.memoizedProps=n.pendingProps,e===null?dO(n):Vt=e,rP.current=null}function dO(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Lz(t,e),t!==null){t.flags&=32767,Vt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{rn=6,Vt=null;return}}else if(t=Dz(t,e,Br),t!==null){Vt=t;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=n}while(e!==null);rn===0&&(rn=5)}function Wl(n,e,t){var r=Xe,i=vi.transition;try{vi.transition=null,Xe=1,zz(n,e,t,r)}finally{vi.transition=i,Xe=r}return null}function zz(n,e,t,r){do Id();while(Ka!==null);if(ze&6)throw Error(Z(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Z(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(b7(n,s),n===hn&&(Vt=hn=null,Cn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||o0||(o0=!0,pO(Vy,function(){return Id(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=vi.transition,vi.transition=null;var o=Xe;Xe=1;var a=ze;ze|=4,rP.current=null,Oz(n,t),sO(t,n),az(nS),Wy=!!tS,nS=tS=null,n.current=t,Nz(t),h7(),ze=a,Xe=o,vi.transition=s}else n.current=t;if(o0&&(o0=!1,Ka=n,aw=i),s=n.pendingLanes,s===0&&(nl=null),g7(t.stateNode),Sr(n,jt()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(ow)throw ow=!1,n=xS,xS=null,n;return aw&1&&n.tag!==0&&Id(),s=n.pendingLanes,s&1?n===SS?Fp++:(Fp=0,SS=n):Fp=0,Pl(),null}function Id(){if(Ka!==null){var n=W3(aw),e=vi.transition,t=Xe;try{if(vi.transition=null,Xe=16>n?16:n,Ka===null)var r=!1;else{if(n=Ka,Ka=null,aw=0,ze&6)throw Error(Z(331));var i=ze;for(ze|=4,ce=n.current;ce!==null;){var s=ce,o=s.child;if(ce.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ce=c;ce!==null;){var u=ce;switch(u.tag){case 0:case 11:case 15:Op(8,u,s)}var d=u.child;if(d!==null)d.return=u,ce=d;else for(;ce!==null;){u=ce;var h=u.sibling,p=u.return;if(nO(u),u===c){ce=null;break}if(h!==null){h.return=p,ce=h;break}ce=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ce=o;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Op(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ce=y;break e}ce=s.return}}var b=n.current;for(ce=b;ce!==null;){o=ce;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ce=x;else e:for(o=b;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$_(9,a)}}catch(E){Lt(a,a.return,E)}if(a===o){ce=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ce=S;break e}ce=a.return}}if(ze=i,Pl(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(M_,n)}catch{}r=!0}return r}finally{Xe=t,vi.transition=e}}return!1}function Dk(n,e,t){e=Xh(t,e),e=WI(n,e,1),n=tl(n,e,1),e=er(),n!==null&&(mv(n,1,e),Sr(n,e))}function Lt(n,e,t){if(n.tag===3)Dk(n,n,t);else for(;e!==null;){if(e.tag===3){Dk(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nl===null||!nl.has(r))){n=Xh(t,n),n=GI(e,n,1),e=tl(e,n,1),n=er(),e!==null&&(mv(e,1,n),Sr(e,n));break}}e=e.return}}function Uz(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=er(),n.pingedLanes|=n.suspendedLanes&t,hn===n&&(Cn&t)===t&&(rn===4||rn===3&&(Cn&130023424)===Cn&&500>jt()-sP?lu(n,0):iP|=t),Sr(n,e)}function hO(n,e){e===0&&(n.mode&1?(e=Xv,Xv<<=1,!(Xv&130023424)&&(Xv=4194304)):e=1);var t=er();n=Wo(n,e),n!==null&&(mv(n,e,t),Sr(n,t))}function Vz(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),hO(n,t)}function Hz(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),hO(n,t)}var fO;fO=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||br.current)mr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return mr=!1,Mz(n,e,t);mr=!!(n.flags&131072)}else mr=!1,bt&&e.flags&1048576&&vI(e,Zy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Q0(n,e),n=e.pendingProps;var i=Gh(e,Hn.current);Ld(e,t),i=ZA(null,e,r,n,i,t);var s=JA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xr(r)?(s=!0,Xy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qA(e),i.updater=j_,e.stateNode=i,i._reactInternals=e,dS(e,r,n,t),e=pS(null,e,r,!0,s,t)):(e.tag=0,bt&&s&&BA(e),Qn(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Q0(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Gz(r),n=Mi(r,n),i){case 0:e=fS(null,e,r,n,t);break e;case 1:e=xk(null,e,r,n,t);break e;case 11:e=_k(null,e,r,n,t);break e;case 14:e=bk(null,e,r,Mi(r.type,n),t);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),fS(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),xk(n,e,r,i,t);case 3:e:{if(XI(e),n===null)throw Error(Z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,SI(n,e),tw(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xh(Error(Z(423)),e),e=Sk(n,e,r,t,i);break e}else if(r!==i){i=Xh(Error(Z(424)),e),e=Sk(n,e,r,t,i);break e}else for(Hr=el(e.stateNode.containerInfo.firstChild),qr=e,bt=!0,Xi=null,t=bI(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(qh(),r===i){e=Go(n,e,t);break e}Qn(n,e,r,t)}e=e.child}return e;case 5:return EI(e),n===null&&lS(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,rS(r,i)?o=null:s!==null&&rS(r,s)&&(e.flags|=32),YI(n,e),Qn(n,e,o,t),e.child;case 6:return n===null&&lS(e),null;case 13:return QI(n,e,t);case 4:return KA(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Kh(e,null,r,t):Qn(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),_k(n,e,r,i,t);case 7:return Qn(n,e,e.pendingProps,t),e.child;case 8:return Qn(n,e,e.pendingProps.children,t),e.child;case 12:return Qn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pt(Jy,r._currentValue),r._currentValue=o,s!==null)if(ts(s.value,o)){if(s.children===i.children&&!br.current){e=Go(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Lo(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),cS(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Z(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),cS(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qn(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ld(e,t),i=xi(i),r=r(i),e.flags|=1,Qn(n,e,r,t),e.child;case 14:return r=e.type,i=Mi(r,e.pendingProps),i=Mi(r.type,i),bk(n,e,r,i,t);case 15:return qI(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),Q0(n,e),e.tag=1,xr(r)?(n=!0,Xy(e)):n=!1,Ld(e,t),HI(e,r,i),dS(e,r,i,t),pS(null,e,r,!0,n,t);case 19:return ZI(n,e,t);case 22:return KI(n,e,t)}throw Error(Z(156,e.tag))};function pO(n,e){return z3(n,e)}function Wz(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(n,e,t,r){return new Wz(n,e,t,r)}function cP(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gz(n){if(typeof n=="function")return cP(n)?1:0;if(n!=null){if(n=n.$$typeof,n===TA)return 11;if(n===kA)return 14}return 2}function il(n,e){var t=n.alternate;return t===null?(t=pi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ey(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")cP(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case cd:return cu(t.children,i,s,e);case PA:o=8,i|=8;break;case Ox:return n=pi(12,t,e,i|2),n.elementType=Ox,n.lanes=s,n;case Nx:return n=pi(13,t,e,i),n.elementType=Nx,n.lanes=s,n;case Fx:return n=pi(19,t,e,i),n.elementType=Fx,n.lanes=s,n;case E3:return z_(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x3:o=10;break e;case S3:o=9;break e;case TA:o=11;break e;case kA:o=14;break e;case ga:o=16,r=null;break e}throw Error(Z(130,n==null?n:typeof n,""))}return e=pi(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function cu(n,e,t,r){return n=pi(7,n,r,e),n.lanes=t,n}function z_(n,e,t,r){return n=pi(22,n,r,e),n.elementType=E3,n.lanes=t,n.stateNode={isHidden:!1},n}function Rb(n,e,t){return n=pi(6,n,null,e),n.lanes=t,n}function Mb(n,e,t){return e=pi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function qz(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=db(0),this.expirationTimes=db(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=db(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uP(n,e,t,r,i,s,o,a,l){return n=new qz(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},qA(s),n}function Kz(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ld,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function gO(n){if(!n)return dl;n=n._reactInternals;e:{if(Mu(n)!==n||n.tag!==1)throw Error(Z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(n.tag===1){var t=n.type;if(xr(t))return gI(n,t,e)}return e}function mO(n,e,t,r,i,s,o,a,l){return n=uP(t,r,!0,n,i,s,o,a,l),n.context=gO(null),t=n.current,r=er(),i=rl(t),s=Lo(r,i),s.callback=e??null,tl(t,s,i),n.current.lanes=i,mv(n,i,r),Sr(n,r),n}function U_(n,e,t,r){var i=e.current,s=er(),o=rl(i);return t=gO(t),e.context===null?e.context=t:e.pendingContext=t,e=Lo(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=tl(i,e,o),n!==null&&(es(n,i,o,s),K0(n,i,o)),o}function cw(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Lk(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function dP(n,e){Lk(n,e),(n=n.alternate)&&Lk(n,e)}function Yz(){return null}var vO=typeof reportError=="function"?reportError:function(n){console.error(n)};function hP(n){this._internalRoot=n}V_.prototype.render=hP.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Z(409));U_(n,e,null,null)};V_.prototype.unmount=hP.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;vu(function(){U_(null,n,null,null)}),e[Ho]=null}};function V_(n){this._internalRoot=n}V_.prototype.unstable_scheduleHydration=function(n){if(n){var e=K3();n={blockedOn:null,target:n,priority:e};for(var t=0;t<xa.length&&e!==0&&e<xa[t].priority;t++);xa.splice(t,0,n),t===0&&X3(n)}};function fP(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function H_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ik(){}function Xz(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=cw(o);s.call(c)}}var o=mO(e,r,n,0,null,!1,!1,"",Ik);return n._reactRootContainer=o,n[Ho]=o.current,og(n.nodeType===8?n.parentNode:n),vu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=cw(l);a.call(c)}}var l=uP(n,0,!1,null,null,!1,!1,"",Ik);return n._reactRootContainer=l,n[Ho]=l.current,og(n.nodeType===8?n.parentNode:n),vu(function(){U_(e,l,t,r)}),l}function W_(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=cw(o);a.call(l)}}U_(e,o,n,i)}else o=Xz(t,e,n,i,r);return cw(o)}G3=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=tp(e.pendingLanes);t!==0&&(DA(e,t|1),Sr(e,jt()),!(ze&6)&&(Qh=jt()+500,Pl()))}break;case 13:vu(function(){var r=Wo(n,1);if(r!==null){var i=er();es(r,n,1,i)}}),dP(n,1)}};LA=function(n){if(n.tag===13){var e=Wo(n,134217728);if(e!==null){var t=er();es(e,n,134217728,t)}dP(n,134217728)}};q3=function(n){if(n.tag===13){var e=rl(n),t=Wo(n,e);if(t!==null){var r=er();es(t,n,e,r)}dP(n,e)}};K3=function(){return Xe};Y3=function(n,e){var t=Xe;try{return Xe=n,e()}finally{Xe=t}};qx=function(n,e,t){switch(e){case"input":if(Bx(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=O_(r);if(!i)throw Error(Z(90));A3(r),Bx(r,i)}}}break;case"textarea":T3(n,t);break;case"select":e=t.value,e!=null&&kd(n,!!t.multiple,e,!1)}};O3=oP;N3=vu;var Qz={usingClientEntryPoint:!1,Events:[yv,fd,O_,L3,I3,oP]},jf={findFiberByHostInstance:ic,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zz={bundleType:jf.bundleType,version:jf.version,rendererPackageName:jf.rendererPackageName,rendererConfig:jf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=$3(n),n===null?null:n.stateNode},findFiberByHostInstance:jf.findFiberByHostInstance||Yz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a0.isDisabled&&a0.supportsFiber)try{M_=a0.inject(Zz),Ms=a0}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qz;Jr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fP(e))throw Error(Z(200));return Kz(n,e,null,t)};Jr.createRoot=function(n,e){if(!fP(n))throw Error(Z(299));var t=!1,r="",i=vO;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=uP(n,1,!1,null,null,t,!1,r,i),n[Ho]=e.current,og(n.nodeType===8?n.parentNode:n),new hP(e)};Jr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Z(188)):(n=Object.keys(n).join(","),Error(Z(268,n)));return n=$3(e),n=n===null?null:n.stateNode,n};Jr.flushSync=function(n){return vu(n)};Jr.hydrate=function(n,e,t){if(!H_(e))throw Error(Z(200));return W_(null,n,e,!0,t)};Jr.hydrateRoot=function(n,e,t){if(!fP(n))throw Error(Z(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=vO;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=mO(e,null,n,1,t??null,i,!1,s,o),n[Ho]=e.current,og(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new V_(e)};Jr.render=function(n,e,t){if(!H_(e))throw Error(Z(200));return W_(null,n,e,!1,t)};Jr.unmountComponentAtNode=function(n){if(!H_(n))throw Error(Z(40));return n._reactRootContainer?(vu(function(){W_(null,null,n,!1,function(){n._reactRootContainer=null,n[Ho]=null})}),!0):!1};Jr.unstable_batchedUpdates=oP;Jr.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!H_(t))throw Error(Z(200));if(n==null||n._reactInternals===void 0)throw Error(Z(38));return W_(n,e,t,!1,r)};Jr.version="18.3.1-next-f1338f8080-20240426";function yO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yO)}catch(n){console.error(n)}}yO(),y3.exports=Jr;var gf=y3.exports;const Jz=k_(gf);var Ok=gf;Lx.createRoot=Ok.createRoot,Lx.hydrateRoot=Ok.hydrateRoot;var wO={exports:{}},_O={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v=w;function eU(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var tU=typeof Object.is=="function"?Object.is:eU,nU=_v.useSyncExternalStore,rU=_v.useRef,iU=_v.useEffect,sU=_v.useMemo,oU=_v.useDebugValue;_O.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=rU(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=sU(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return d=g}return d=p}if(g=d,tU(u,p))return g;var m=r(p);return i!==void 0&&i(g,m)?g:(u=p,d=m)}var c=!1,u,d,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,r,i]);var a=nU(n,s[0],s[1]);return iU(function(){o.hasValue=!0,o.value=a},[a]),oU(a),a};wO.exports=_O;var aU=wO.exports,Wr="default"in $y?I:$y,Nk=Symbol.for("react-redux-context"),Fk=typeof globalThis<"u"?globalThis:{};function lU(){if(!Wr.createContext)return{};const n=Fk[Nk]??(Fk[Nk]=new Map);let e=n.get(Wr.createContext);return e||(e=Wr.createContext(null),n.set(Wr.createContext,e)),e}var hl=lU(),cU=()=>{throw new Error("uSES not initialized!")};function pP(n=hl){return function(){return Wr.useContext(n)}}var bO=pP(),xO=cU,uU=n=>{xO=n},dU=(n,e)=>n===e;function hU(n=hl){const e=n===hl?bO:pP(n),t=(r,i={})=>{const{equalityFn:s=dU,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=e();Wr.useRef(!0);const h=Wr.useCallback({[r.name](g){return r(g)}}[r.name],[r,u,o.stabilityCheck]),p=xO(l.addNestedSub,a.getState,c||a.getState,h,s);return Wr.useDebugValue(p),p};return Object.assign(t,{withTypes:()=>t}),t}var ft=hU();function fU(n){n()}function pU(){let n=null,e=null;return{clear(){n=null,e=null},notify(){fU(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var jk={notify(){},get:()=>[]};function gU(n,e){let t,r=jk,i=0,s=!1;function o(m){u();const _=r.subscribe(m);let y=!1;return()=>{y||(y=!0,_(),d())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return s}function u(){i++,t||(t=n.subscribe(l),r=pU())}function d(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=jk)}function h(){s||(s=!0,u())}function p(){s&&(s=!1,d())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return g}var mU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vU=typeof navigator<"u"&&navigator.product==="ReactNative",yU=mU||vU?Wr.useLayoutEffect:Wr.useEffect;function $k(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function Bk(n,e){if($k(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!$k(n[t[i]],e[t[i]]))return!1;return!0}function wU({store:n,context:e,children:t,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Wr.useMemo(()=>{const c=gU(n);return{store:n,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[n,r,i,s]),a=Wr.useMemo(()=>n.getState(),[n]);yU(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||hl;return Wr.createElement(l.Provider,{value:o},t)}var _U=wU;function SO(n=hl){const e=n===hl?bO:pP(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var bU=SO();function xU(n=hl){const e=n===hl?bU:SO(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Tl=xU();uU(aU.useSyncExternalStoreWithSelector);function bn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var SU=typeof Symbol=="function"&&Symbol.observable||"@@observable",zk=SU,Db=()=>Math.random().toString(36).substring(7).split("").join("."),EU={INIT:`@@redux/INIT${Db()}`,REPLACE:`@@redux/REPLACE${Db()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Db()}`},uw=EU;function gP(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function EO(n,e,t){if(typeof n!="function")throw new Error(bn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(bn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(bn(1));return t(EO)(n,e)}let r=n,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((_,y)=>{o.set(y,_)}))}function u(){if(l)throw new Error(bn(3));return i}function d(_){if(typeof _!="function")throw new Error(bn(4));if(l)throw new Error(bn(5));let y=!0;c();const b=a++;return o.set(b,_),function(){if(y){if(l)throw new Error(bn(6));y=!1,c(),o.delete(b),s=null}}}function h(_){if(!gP(_))throw new Error(bn(7));if(typeof _.type>"u")throw new Error(bn(8));if(typeof _.type!="string")throw new Error(bn(17));if(l)throw new Error(bn(9));try{l=!0,i=r(i,_)}finally{l=!1}return(s=o).forEach(b=>{b()}),_}function p(_){if(typeof _!="function")throw new Error(bn(10));r=_,h({type:uw.REPLACE})}function g(){const _=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(bn(11));function b(){const S=y;S.next&&S.next(u())}return b(),{unsubscribe:_(b)}},[zk](){return this}}}return h({type:uw.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:p,[zk]:g}}function CU(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:uw.INIT})>"u")throw new Error(bn(12));if(typeof t(void 0,{type:uw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bn(13))})}function AU(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof n[o]=="function"&&(t[o]=n[o])}const r=Object.keys(t);let i;try{CU(t)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],h=t[d],p=o[d],g=h(p,a);if(typeof g>"u")throw a&&a.type,new Error(bn(14));c[d]=g,l=l||g!==p}return l=l||r.length!==Object.keys(o).length,l?c:o}}function dw(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function PU(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(bn(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=n.map(l=>l(o));return s=dw(...a)(i.dispatch),{...i,dispatch:s}}}function TU(n){return gP(n)&&"type"in n&&typeof n.type=="string"}var CO=Symbol.for("immer-nothing"),Uk=Symbol.for("immer-draftable"),Xr=Symbol.for("immer-state");function Qi(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Zh=Object.getPrototypeOf;function yu(n){return!!n&&!!n[Xr]}function qo(n){var e;return n?AO(n)||Array.isArray(n)||!!n[Uk]||!!((e=n.constructor)!=null&&e[Uk])||q_(n)||K_(n):!1}var kU=Object.prototype.constructor.toString();function AO(n){if(!n||typeof n!="object")return!1;const e=Zh(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===kU}function hw(n,e){G_(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function G_(n){const e=n[Xr];return e?e.type_:Array.isArray(n)?1:q_(n)?2:K_(n)?3:0}function AS(n,e){return G_(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function PO(n,e,t){const r=G_(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function RU(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function q_(n){return n instanceof Map}function K_(n){return n instanceof Set}function Gl(n){return n.copy_||n.base_}function PS(n,e){if(q_(n))return new Map(n);if(K_(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=AO(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[Xr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(Zh(n),r)}else{const r=Zh(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function mP(n,e=!1){return Y_(n)||yu(n)||!qo(n)||(G_(n)>1&&(n.set=n.add=n.clear=n.delete=MU),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>mP(r,!0))),n}function MU(){Qi(2)}function Y_(n){return Object.isFrozen(n)}var DU={};function wu(n){const e=DU[n];return e||Qi(0,n),e}var gg;function TO(){return gg}function LU(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Vk(n,e){e&&(wu("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function TS(n){kS(n),n.drafts_.forEach(IU),n.drafts_=null}function kS(n){n===gg&&(gg=n.parent_)}function Hk(n){return gg=LU(gg,n)}function IU(n){const e=n[Xr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Wk(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Xr].modified_&&(TS(e),Qi(4)),qo(n)&&(n=fw(e,n),e.parent_||pw(e,n)),e.patches_&&wu("Patches").generateReplacementPatches_(t[Xr].base_,n,e.patches_,e.inversePatches_)):n=fw(e,t,[]),TS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==CO?n:void 0}function fw(n,e,t){if(Y_(e))return e;const r=e[Xr];if(!r)return hw(e,(i,s)=>Gk(n,r,e,i,s,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return pw(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),hw(s,(a,l)=>Gk(n,r,i,a,l,t,o)),pw(n,i,!1),t&&n.patches_&&wu("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function Gk(n,e,t,r,i,s,o){if(yu(i)){const a=s&&e&&e.type_!==3&&!AS(e.assigned_,r)?s.concat(r):void 0,l=fw(n,i,a);if(PO(t,r,l),yu(l))n.canAutoFreeze_=!1;else return}else o&&t.add(i);if(qo(i)&&!Y_(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;fw(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&pw(n,i)}}function pw(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&mP(e,t)}function OU(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:TO(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=vP;t&&(i=[r],s=mg);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var vP={get(n,e){if(e===Xr)return n;const t=Gl(n);if(!AS(t,e))return NU(n,t,e);const r=t[e];return n.finalized_||!qo(r)?r:r===Lb(n.base_,e)?(Ib(n),n.copy_[e]=MS(r,n)):r},has(n,e){return e in Gl(n)},ownKeys(n){return Reflect.ownKeys(Gl(n))},set(n,e,t){const r=kO(Gl(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=Lb(Gl(n),e),s=i==null?void 0:i[Xr];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(RU(t,i)&&(t!==void 0||AS(n.base_,e)))return!0;Ib(n),RS(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Lb(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Ib(n),RS(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Gl(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Qi(11)},getPrototypeOf(n){return Zh(n.base_)},setPrototypeOf(){Qi(12)}},mg={};hw(vP,(n,e)=>{mg[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});mg.deleteProperty=function(n,e){return mg.set.call(this,n,e,void 0)};mg.set=function(n,e,t){return vP.set.call(this,n[0],e,t,n[0])};function Lb(n,e){const t=n[Xr];return(t?Gl(t):n)[e]}function NU(n,e,t){var i;const r=kO(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function kO(n,e){if(!(e in n))return;let t=Zh(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Zh(t)}}function RS(n){n.modified_||(n.modified_=!0,n.parent_&&RS(n.parent_))}function Ib(n){n.copy_||(n.copy_=PS(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var FU=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(l=s,...c){return o.produce(l,u=>t.call(this,u,...c))}}typeof t!="function"&&Qi(6),r!==void 0&&typeof r!="function"&&Qi(7);let i;if(qo(e)){const s=Hk(this),o=MS(e,void 0);let a=!0;try{i=t(o),a=!1}finally{a?TS(s):kS(s)}return Vk(s,r),Wk(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===CO&&(i=void 0),this.autoFreeze_&&mP(i,!0),r){const s=[],o=[];wu("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Qi(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,t,(o,a)=>{r=o,i=a}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){qo(n)||Qi(8),yu(n)&&(n=jU(n));const e=Hk(this),t=MS(n,void 0);return t[Xr].isManual_=!0,kS(e),t}finishDraft(n,e){const t=n&&n[Xr];(!t||!t.isManual_)&&Qi(9);const{scope_:r}=t;return Vk(r,e),Wk(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=wu("Patches").applyPatches_;return yu(n)?r(n,e):this.produce(n,i=>r(i,e))}};function MS(n,e){const t=q_(n)?wu("MapSet").proxyMap_(n,e):K_(n)?wu("MapSet").proxySet_(n,e):OU(n,e);return(e?e.scope_:TO()).drafts_.push(t),t}function jU(n){return yu(n)||Qi(10,n),RO(n)}function RO(n){if(!qo(n)||Y_(n))return n;const e=n[Xr];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=PS(n,e.scope_.immer_.useStrictShallowCopy_)}else t=PS(n,!0);return hw(t,(r,i)=>{PO(t,r,RO(i))}),e&&(e.finalized_=!1),t}var Qr=new FU,MO=Qr.produce;Qr.produceWithPatches.bind(Qr);Qr.setAutoFreeze.bind(Qr);Qr.setUseStrictShallowCopy.bind(Qr);Qr.applyPatches.bind(Qr);Qr.createDraft.bind(Qr);Qr.finishDraft.bind(Qr);function DO(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var $U=DO(),BU=DO,zU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dw:dw.apply(null,arguments)},UU=n=>n&&typeof n.match=="function";function jp(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(Ls(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>TU(r)&&r.type===n,t}var LO=class rp extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,rp.prototype)}static get[Symbol.species](){return rp}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new rp(...e[0].concat(this)):new rp(...e.concat(this))}};function qk(n){return qo(n)?MO(n,()=>{}):n}function Kk(n,e,t){if(n.has(e)){let i=n.get(e);return t.update&&(i=t.update(i,e,n),n.set(e,i)),i}if(!t.insert)throw new Error(Ls(10));const r=t.insert(e,n);return n.set(e,r),r}function VU(n){return typeof n=="boolean"}var HU=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new LO;return t&&(VU(t)?o.push($U):o.push(BU(t.extraArgument))),o},WU="RTK_autoBatch",IO=n=>e=>{setTimeout(e,n)},GU=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:IO(10),qU=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,o=!1;const a=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?GU:n.type==="callback"?n.queueNotification:IO(n.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),h=r.subscribe(d);return a.add(u),()=>{h(),a.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[WU]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},KU=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new LO(n);return r&&i.push(qU(typeof r=="object"?r:void 0)),i};function YU(n){const e=HU(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=n||{};let a;if(typeof t=="function")a=t;else if(gP(t))a=AU(t);else throw new Error(Ls(1));let l;typeof r=="function"?l=r(e):l=e();let c=dw;i&&(c=zU({trace:!1,...typeof i=="object"&&i}));const u=PU(...l),d=KU(u);let h=typeof o=="function"?o(d):d();const p=c(...h);return EO(a,s,p)}function OO(n){const e={},t=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Ls(28));if(a in e)throw new Error(Ls(29));return e[a]=o,i},addMatcher(s,o){return t.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function XU(n){return typeof n=="function"}function QU(n,e){let[t,r,i]=OO(e),s;if(XU(n))s=()=>qk(n());else{const a=qk(n);s=()=>a}function o(a=s(),l){let c=[t[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(yu(u)){const p=d(u,l);return p===void 0?u:p}else{if(qo(u))return MO(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},a)}return o.getInitialState=s,o}var ZU=(n,e)=>UU(n)?n.match(e):n(e);function JU(...n){return e=>n.some(t=>ZU(t,e))}var eV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tV=(n=21)=>{let e="",t=n;for(;t--;)e+=eV[Math.random()*64|0];return e},nV=["name","message","stack","code"],Ob=class{constructor(n,e){G(this,"_type");this.payload=n,this.meta=e}},Yk=class{constructor(n,e){G(this,"_type");this.payload=n,this.meta=e}},rV=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of nV)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},iV=(()=>{function n(e,t,r){const i=jp(e+"/fulfilled",(l,c,u,d)=>({payload:l,meta:{...d||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),s=jp(e+"/pending",(l,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:l,requestStatus:"pending"}})),o=jp(e+"/rejected",(l,c,u,d,h)=>({payload:d,error:(r&&r.serializeError||rV)(l||"Rejected"),meta:{...h||{},arg:u,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(c,u,d)=>{const h=r!=null&&r.idGenerator?r.idGenerator(l):tV(),p=new AbortController;let g,m;function _(b){m=b,p.abort()}const y=async function(){var S,E;let b;try{let k=(S=r==null?void 0:r.condition)==null?void 0:S.call(r,l,{getState:u,extra:d});if(oV(k)&&(k=await k),k===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const R=new Promise((T,M)=>{g=()=>{M({name:"AbortError",message:m||"Aborted"})},p.signal.addEventListener("abort",g)});c(s(h,l,(E=r==null?void 0:r.getPendingMeta)==null?void 0:E.call(r,{requestId:h,arg:l},{getState:u,extra:d}))),b=await Promise.race([R,Promise.resolve(t(l,{dispatch:c,getState:u,extra:d,requestId:h,signal:p.signal,abort:_,rejectWithValue:(T,M)=>new Ob(T,M),fulfillWithValue:(T,M)=>new Yk(T,M)})).then(T=>{if(T instanceof Ob)throw T;return T instanceof Yk?i(T.payload,h,l,T.meta):i(T,h,l)})])}catch(k){b=k instanceof Ob?o(null,h,l,k.payload,k.meta):o(k,h,l)}finally{g&&p.signal.removeEventListener("abort",g)}return r&&!r.dispatchConditionRejection&&o.match(b)&&b.meta.condition||c(b),b}();return Object.assign(y,{abort:_,requestId:h,arg:l,unwrap(){return y.then(sV)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:JU(o,i),typePrefix:e})}return n.withTypes=()=>n,n})();function sV(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function oV(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var aV=Symbol.for("rtk-slice-createasyncthunk");function lV(n,e){return`${n}/${e}`}function cV({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[aV];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Ls(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(dV()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(x,S){const E=typeof x=="string"?x:x.type;if(!E)throw new Error(Ls(12));if(E in c.sliceCaseReducersByType)throw new Error(Ls(13));return c.sliceCaseReducersByType[E]=S,u},addMatcher(x,S){return c.sliceMatchers.push({matcher:x,reducer:S}),u},exposeAction(x,S){return c.actionCreators[x]=S,u},exposeCaseReducer(x,S){return c.sliceCaseReducersByName[x]=S,u}};l.forEach(x=>{const S=a[x],E={reducerName:x,type:lV(s,x),createNotation:typeof i.reducers=="function"};fV(S)?gV(E,S,u,e):hV(E,S,u)});function d(){const[x={},S=[],E=void 0]=typeof i.extraReducers=="function"?OO(i.extraReducers):[i.extraReducers],k={...x,...c.sliceCaseReducersByType};return QU(i.initialState,R=>{for(let T in k)R.addCase(T,k[T]);for(let T of c.sliceMatchers)R.addMatcher(T.matcher,T.reducer);for(let T of S)R.addMatcher(T.matcher,T.reducer);E&&R.addDefaultCase(E)})}const h=x=>x,p=new Map;let g;function m(x,S){return g||(g=d()),g(x,S)}function _(){return g||(g=d()),g.getInitialState()}function y(x,S=!1){function E(R){let T=R[x];return typeof T>"u"&&S&&(T=_()),T}function k(R=h){const T=Kk(p,S,{insert:()=>new WeakMap});return Kk(T,R,{insert:()=>{const M={};for(const[L,N]of Object.entries(i.selectors??{}))M[L]=uV(N,R,_,S);return M}})}return{reducerPath:x,getSelectors:k,get selectors(){return k(E)},selectSlice:E}}const b={name:s,reducer:m,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...y(o),injectInto(x,{reducerPath:S,...E}={}){const k=S??o;return x.inject({reducerPath:k,reducer:m},E),{...b,...y(k,!0)}}};return b}}function uV(n,e,t,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=t()),n(a,...o)}return i.unwrapped=n,i}var NO=cV();function dV(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function hV({type:n,reducerName:e,createNotation:t},r,i){let s,o;if("reducer"in r){if(t&&!pV(r))throw new Error(Ls(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,o?jp(n,o):jp(n))}function fV(n){return n._reducerDefinitionType==="asyncThunk"}function pV(n){return n._reducerDefinitionType==="reducerWithPrepare"}function gV({type:n,reducerName:e},t,r,i){if(!i)throw new Error(Ls(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=t,d=i(n,s,u);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||l0,pending:a||l0,rejected:l||l0,settled:c||l0})}function l0(){}function Ls(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}function FO(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=FO(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function bv(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=FO(n))&&(r&&(r+=" "),r+=e);return r}const yP="-",mV=n=>{const e=yV(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(yP);return a[0]===""&&a.length!==1&&a.shift(),jO(a,e)||vV(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},jO=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?jO(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(yP);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Xk=/^\[(.+)\]$/,vV=n=>{if(Xk.test(n)){const e=Xk.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},yV=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return _V(Object.entries(n.classGroups),t).forEach(([s,o])=>{DS(o,r,s,e)}),r},DS=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Qk(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(wV(i)){DS(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{DS(o,Qk(e,s),t,r)})})},Qk=(n,e)=>{let t=n;return e.split(yP).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},wV=n=>n.isThemeGetter,_V=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,bV=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},$O="!",xV=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let _=0;_<a.length;_++){let y=a[_];if(c===0){if(y===i&&(r||a.slice(_,_+s)===e)){l.push(a.slice(u,_)),u=_+s;continue}if(y==="/"){d=_;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(u),p=h.startsWith($O),g=p?h.substring(1):h,m=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return t?a=>t({className:a,parseClassName:o}):o},SV=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},EV=n=>({cache:bV(n.cacheSize),parseClassName:xV(n),...mV(n)}),CV=/\s+/,AV=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(CV);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=t(c);let g=!!p,m=r(g?h.substring(0,p):h);if(!m){if(!g){a=c+(a.length>0?" "+a:a);continue}if(m=r(h),!m){a=c+(a.length>0?" "+a:a);continue}g=!1}const _=SV(u).join(":"),y=d?_+$O:_,b=y+m;if(s.includes(b))continue;s.push(b);const x=i(m,g);for(let S=0;S<x.length;++S){const E=x[S];s.push(y+E)}a=c+(a.length>0?" "+a:a)}return a};function PV(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=BO(e))&&(r&&(r+=" "),r+=t);return r}const BO=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=BO(n[r]))&&(t&&(t+=" "),t+=e);return t};function TV(n,...e){let t,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),n());return t=EV(c),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=AV(l,t);return i(l,u),u}return function(){return s(PV.apply(null,arguments))}}const gt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},zO=/^\[(?:([a-z-]+):)?(.+)\]$/i,kV=/^\d+\/\d+$/,RV=new Set(["px","full","screen"]),MV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ws=n=>Od(n)||RV.has(n)||kV.test(n),sa=n=>mf(n,"length",VV),Od=n=>!!n&&!Number.isNaN(Number(n)),Nb=n=>mf(n,"number",Od),$f=n=>!!n&&Number.isInteger(Number(n)),NV=n=>n.endsWith("%")&&Od(n.slice(0,-1)),Ae=n=>zO.test(n),oa=n=>MV.test(n),FV=new Set(["length","size","percentage"]),jV=n=>mf(n,FV,UO),$V=n=>mf(n,"position",UO),BV=new Set(["image","url"]),zV=n=>mf(n,BV,WV),UV=n=>mf(n,"",HV),Bf=()=>!0,mf=(n,e,t)=>{const r=zO.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},VV=n=>DV.test(n)&&!LV.test(n),UO=()=>!1,HV=n=>IV.test(n),WV=n=>OV.test(n),GV=()=>{const n=gt("colors"),e=gt("spacing"),t=gt("blur"),r=gt("brightness"),i=gt("borderColor"),s=gt("borderRadius"),o=gt("borderSpacing"),a=gt("borderWidth"),l=gt("contrast"),c=gt("grayscale"),u=gt("hueRotate"),d=gt("invert"),h=gt("gap"),p=gt("gradientColorStops"),g=gt("gradientColorStopPositions"),m=gt("inset"),_=gt("margin"),y=gt("opacity"),b=gt("padding"),x=gt("saturate"),S=gt("scale"),E=gt("sepia"),k=gt("skew"),R=gt("space"),T=gt("translate"),M=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Ae,e],z=()=>[Ae,e],W=()=>["",Ws,sa],O=()=>["auto",Od,Ae],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Ae],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Od,Ae];return{cacheSize:500,separator:":",theme:{colors:[Bf],spacing:[Ws,sa],blur:["none","",oa,Ae],brightness:ee(),borderColor:[n],borderRadius:["none","","full",oa,Ae],borderSpacing:z(),borderWidth:W(),contrast:ee(),grayscale:F(),hueRotate:ee(),invert:F(),gap:z(),gradientColorStops:[n],gradientColorStopPositions:[NV,sa],inset:N(),margin:N(),opacity:ee(),padding:z(),saturate:ee(),scale:ee(),sepia:F(),skew:ee(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[oa]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Ae]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$f,Ae]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",$f,Ae]}],"grid-cols":[{"grid-cols":[Bf]}],"col-start-end":[{col:["auto",{span:["full",$f,Ae]},Ae]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Bf]}],"row-start-end":[{row:["auto",{span:[$f,Ae]},Ae]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,e]}],"min-w":[{"min-w":[Ae,e,"min","max","fit"]}],"max-w":[{"max-w":[Ae,e,"none","full","min","max","fit","prose",{screen:[oa]},oa]}],h:[{h:[Ae,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,e,"auto","min","max","fit"]}],"font-size":[{text:["base",oa,sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nb]}],"font-family":[{font:[Bf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",Od,Nb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ws,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ws,sa]}],"underline-offset":[{"underline-offset":["auto",Ws,Ae]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),$V]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zV]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:B()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Ws,Ae]}],"outline-w":[{outline:[Ws,sa]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ws,sa]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",oa,UV]}],"shadow-color":[{shadow:[Bf]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",oa,Ae]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[$f,Ae]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ws,sa,Nb]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qV=TV(GV);function Se(...n){return qV(bv(n))}const VO=["px","mm","cm","m","km","in","ft","yd","mi"],gw={px:1,mm:1e3,cm:100,m:1,km:.001,in:39.3701,ft:3.28084,yd:1.09361,mi:621371e-9};function KV(n,e){return(n==null?void 0:n.toFixed(2))??"0"}function HO(n){return n==="in"?"sq in":`${n}`}function mw(n,e,t){return n*(gw[t]/gw[e])}function wP(n,e,t){return n*Math.pow(gw[t]/gw[e],2)}function ac(n,e,t,r){const i=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));return mw(i/t,"m",r)}function Nd(n,e,t){let r=0;for(let s=0;s<n.length;s++){const o=(s+1)%n.length;r+=n[s].x*n[o].y,r-=n[o].x*n[s].y}const i=Math.abs(r/2)/(e*e);return wP(i,"m",t)}const YV={images:[],isOpen:!1,currentFile:null,width:0,height:0,selectedTool:"measure",measurePoints:[],measurements:[],history:[{measurements:[],scale:1,pixelsPerUnit:1,currentUnit:"px"}],historyIndex:0,backgroundImage:null,backgroundScale:1,mousePosition:{x:0,y:0},showAllMeasurements:!1,pixelsPerUnit:1,currentUnit:"px",scale:100,isDragging:!1,lastStableState:null,scaleType:null,clickedMeasurement:null},WO=NO({name:"canvas",initialState:YV,reducers:{closeCanvas:n=>{n.isOpen=!1,n.currentFile=null},addImage:(n,e)=>{n.images.includes(e.payload)||n.images.push(e.payload)},removeImage:(n,e)=>{n.images=n.images.filter(t=>t!==e.payload)},setSelectedTool:(n,e)=>{n.selectedTool=e.payload},setMeasurePoints:(n,e)=>{n.measurePoints=e.payload.points},addMeasurement:(n,e)=>{const{points:t}=e.payload;let r=0,i=0;t.length<=3?r=ac(t[0],t[1],n.pixelsPerUnit,n.currentUnit):t.length>2&&(i=Nd(t,n.pixelsPerUnit,n.currentUnit)),n.measurements.push({points:t,distance:r,area:i})},clearMeasurePoints:n=>{n.measurePoints=[]},setImageDimensions:(n,e)=>{n.width=e.payload.width,n.height=e.payload.height},setCurrentFile:(n,e)=>{n.currentFile=e.payload,e.payload.metadata?(n.pixelsPerUnit=e.payload.metadata.pixelsPerUnit||1,n.currentUnit=e.payload.metadata.currentUnit||"px",n.scale=e.payload.metadata.scale||100,n.measurements=e.payload.metadata.measurements||[]):(n.pixelsPerUnit=1,n.currentUnit="px",n.scale=100,n.measurements=[])},setBackgroundScale:(n,e)=>{n.backgroundScale=e.payload},setMeasurements:(n,e)=>{n.measurements=e.payload},undo:n=>{if(n.historyIndex>0){n.historyIndex--;const e=n.history[n.historyIndex];n.measurements=e.measurements,n.scale=e.scale,n.pixelsPerUnit=e.pixelsPerUnit,n.currentUnit=e.currentUnit}},redo:n=>{if(n.historyIndex<n.history.length-1){n.historyIndex++;const e=n.history[n.historyIndex];n.measurements=e.measurements,n.scale=e.scale,n.pixelsPerUnit=e.pixelsPerUnit,n.currentUnit=e.currentUnit}},updateMeasurement:(n,e)=>{const{index:t,measurement:r}=e.payload;t>=0&&t<n.measurements.length&&(n.measurements[t]=r,n.history=[...n.history.slice(0,n.historyIndex+1),{measurements:[...n.measurements],scale:n.scale,pixelsPerUnit:n.pixelsPerUnit,currentUnit:n.currentUnit}],n.historyIndex=n.history.length-1)},removeMeasurement:(n,e)=>{n.measurements=n.measurements.filter((t,r)=>r!==e.payload),n.history=[...n.history.slice(0,n.historyIndex+1),{measurements:[...n.measurements],scale:n.scale,pixelsPerUnit:n.pixelsPerUnit,currentUnit:n.currentUnit}],n.historyIndex=n.history.length-1},setShowAllMeasurements:(n,e)=>{n.showAllMeasurements=e.payload},setUnitScale:(n,e)=>{n.pixelsPerUnit=e.payload,n.scale=100/e.payload},setScale:(n,e)=>{n.scale=e.payload,n.pixelsPerUnit=100/e.payload},setCurrentUnit:(n,e)=>{n.currentUnit=e.payload},startDragging:n=>{n.isDragging=!0,n.lastStableState=JSON.parse(JSON.stringify(n.measurements))},stopDragging:n=>{n.isDragging=!1,n.lastStableState=null,n.history=[...n.history.slice(0,n.historyIndex+1),{measurements:[...n.measurements],scale:n.scale,pixelsPerUnit:n.pixelsPerUnit,currentUnit:n.currentUnit}],n.historyIndex=n.history.length-1},updateMeasurementPoint:(n,e)=>{const{measurementIndex:t,pointIndex:r,newPoint:i}=e.payload;if(t>=0&&t<n.measurements.length){const s=n.measurements[t];s.points[r]=i,s.points.length>3&&(r===0?s.points[s.points.length-1]=i:r===s.points.length-1&&(s.points[0]=i)),s.points.length<=3?s.distance=ac(s.points[0],s.points[1],n.pixelsPerUnit,n.currentUnit):s.area=Nd(s.points,n.pixelsPerUnit,n.currentUnit)}},resetHistory:n=>{n.history=[],n.historyIndex=-1},addHistoryEntry:n=>{n.history=[...n.history.slice(0,n.historyIndex+1),{measurements:[...n.measurements],scale:n.scale,pixelsPerUnit:n.pixelsPerUnit,currentUnit:n.currentUnit}],n.historyIndex=n.history.length-1},updateMeasurementsUnit:(n,e)=>{const t=e.payload;n.measurements=n.measurements.map(r=>r.points.length<=3?{...r,distance:mw(r.distance,n.currentUnit,t)}:{...r,area:wP(r.area,n.currentUnit,t)}),n.currentUnit=t},setScaleType:(n,e)=>{n.scaleType=e.payload},setClickedMeasurement:(n,e)=>{n.clickedMeasurement=e.payload},updateScaleFromMeasurement:(n,e)=>{const{value:t,unit:r}=e.payload;if(n.clickedMeasurement){const s=ac(n.clickedMeasurement.points[0],n.clickedMeasurement.points[1],1,"px")/mw(t,r,"px");n.pixelsPerUnit=s,n.scale=100/s,n.currentUnit=r,n.measurements=n.measurements.map(o=>({...o,distance:ac(o.points[0],o.points[1],s,r),area:Nd(o.points,s,r)})),n.history.push({measurements:[...n.measurements],scale:n.scale,pixelsPerUnit:n.pixelsPerUnit,currentUnit:n.currentUnit}),n.historyIndex=n.history.length-1}}}}),{closeCanvas:GO,addImage:XV,removeImage:QV,setSelectedTool:Jh,setMeasurePoints:Fd,addMeasurement:Fb,clearMeasurePoints:Ki,setImageDimensions:Khe,setCurrentFile:Zk,setBackgroundScale:Yhe,setMeasurements:ty,undo:ZV,redo:JV,updateMeasurement:eH,removeMeasurement:tH,setShowAllMeasurements:nH,setUnitScale:lc,setScale:$p,setCurrentUnit:vg,startDragging:Jk,stopDragging:rH,updateMeasurementPoint:jb,resetHistory:iH,addHistoryEntry:ny,updateMeasurementsUnit:sH,setScaleType:oH,setClickedMeasurement:Xhe,updateScaleFromMeasurement:Qhe}=WO.actions,aH=WO.reducer,lH="modulepreload",cH=function(n){return"/Measure.app/"+n},eR={},ks=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=cH(l),l in eR)return;eR[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":lH,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},uH=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ks(async()=>{const{default:r}=await Promise.resolve().then(()=>vf);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class _P extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class dH extends _P{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hH extends _P{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fH extends _P{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var LS;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(LS||(LS={}));var pH=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};class gH{constructor(e,{headers:t={},customFetch:r,region:i=LS.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=uH(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return pH(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(g=>{throw new dH(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new hH(u);if(!u.ok)throw new fH(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var gr={},bP={},X_={},xv={},Q_={},Z_={},mH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ef=mH();const vH=ef.fetch,qO=ef.fetch.bind(ef),KO=ef.Headers,yH=ef.Request,wH=ef.Response,vf=Object.freeze(Object.defineProperty({__proto__:null,Headers:KO,Request:yH,Response:wH,default:qO,fetch:vH},Symbol.toStringTag,{value:"Module"})),_H=PB(vf);var J_={};Object.defineProperty(J_,"__esModule",{value:!0});class bH extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}J_.default=bH;var YO=bi&&bi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Z_,"__esModule",{value:!0});const xH=YO(_H),SH=YO(J_);let EH=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=xH.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,d=null,h=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&_&&_.length>1&&(d=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await s.text();try{c=JSON.parse(m),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,p="OK")}catch{s.status===404&&m===""?(h=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new SH.default(c)}return{error:c,data:u,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}};Z_.default=EH;var CH=bi&&bi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Q_,"__esModule",{value:!0});const AH=CH(Z_);let PH=class extends AH.default{select(e){let t=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Q_.default=PH;var TH=bi&&bi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xv,"__esModule",{value:!0});const kH=TH(Q_);let RH=class extends kH.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};xv.default=RH;var MH=bi&&bi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(X_,"__esModule",{value:!0});const zf=MH(xv);let DH=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new zf.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new zf.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new zf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new zf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new zf.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};X_.default=DH;var e1={},t1={};Object.defineProperty(t1,"__esModule",{value:!0});t1.version=void 0;t1.version="0.0.0-automated";Object.defineProperty(e1,"__esModule",{value:!0});e1.DEFAULT_HEADERS=void 0;const LH=t1;e1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${LH.version}`};var XO=bi&&bi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(bP,"__esModule",{value:!0});const IH=XO(X_),OH=XO(xv),NH=e1;let FH=class QO{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},NH.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(e){const t=new URL(`${this.url}/${e}`);return new IH.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new QO(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=t);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new OH.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};bP.default=FH;var yf=bi&&bi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gr,"__esModule",{value:!0});gr.PostgrestError=gr.PostgrestBuilder=gr.PostgrestTransformBuilder=gr.PostgrestFilterBuilder=gr.PostgrestQueryBuilder=gr.PostgrestClient=void 0;const ZO=yf(bP);gr.PostgrestClient=ZO.default;const JO=yf(X_);gr.PostgrestQueryBuilder=JO.default;const eN=yf(xv);gr.PostgrestFilterBuilder=eN.default;const tN=yf(Q_);gr.PostgrestTransformBuilder=tN.default;const nN=yf(Z_);gr.PostgrestBuilder=nN.default;const rN=yf(J_);gr.PostgrestError=rN.default;var jH=gr.default={PostgrestClient:ZO.default,PostgrestQueryBuilder:JO.default,PostgrestFilterBuilder:eN.default,PostgrestTransformBuilder:tN.default,PostgrestBuilder:nN.default,PostgrestError:rN.default};const{PostgrestClient:$H,PostgrestQueryBuilder:nfe,PostgrestFilterBuilder:rfe,PostgrestTransformBuilder:ife,PostgrestBuilder:sfe}=jH,BH="2.10.7",zH={"X-Client-Info":`realtime-js/${BH}`},UH="1.0.0",iN=1e4,VH=1e3;var jd;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(jd||(jd={}));var Tr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Tr||(Tr={}));var Yi;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Yi||(Yi={}));var IS;(function(n){n.websocket="websocket"})(IS||(IS={}));var Jl;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Jl||(Jl={}));class HH{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class sN{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(dt||(dt={}));const tR=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=WH(o,n,e,i),s),{})},WH=(n,e,t,r)=>{const i=e.find(a=>a.name===n),s=i==null?void 0:i.type,o=t[n];return s&&!r.includes(s)?oN(s,o):OS(o)},oN=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return YH(e,t)}switch(n){case dt.bool:return GH(e);case dt.float4:case dt.float8:case dt.int2:case dt.int4:case dt.int8:case dt.numeric:case dt.oid:return qH(e);case dt.json:case dt.jsonb:return KH(e);case dt.timestamp:return XH(e);case dt.abstime:case dt.date:case dt.daterange:case dt.int4range:case dt.int8range:case dt.money:case dt.reltime:case dt.text:case dt.time:case dt.timestamptz:case dt.timetz:case dt.tsrange:case dt.tstzrange:return OS(e);default:return OS(e)}},OS=n=>n,GH=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},qH=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},KH=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},YH=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const o=n.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>oN(e,a))}return n},XH=n=>typeof n=="string"?n.replace(" ","T"):n,aN=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $b{constructor(e,t,r={},i=iN){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var nR;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(nR||(nR={}));class Bp{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bp.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Bp.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bp.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const h=u.map(_=>_.presence_ref),p=d.map(_=>_.presence_ref),g=u.filter(_=>p.indexOf(_.presence_ref)<0),m=d.filter(_=>h.indexOf(_.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rR;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(rR||(rR={}));var iR;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(iR||(iR={}));var sR;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(sR||(sR={}));class xP{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new $b(this,Yi.join,this.params,this.timeout),this.rejoinTimer=new sN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Bp(this),this.broadcastEndpointURL=aN(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,g=[];for(let m=0;m<p;m++){const _=h[m],{filter:{event:y,schema:b,table:x,filter:S}}=_,E=u&&u[m];if(E&&E.event===y&&E.schema===b&&E.table===x&&E.filter===S)g.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new $b(this,Yi.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $b(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Yi;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,_;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(m=p.filter)===null||m===void 0?void 0:m.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var g,m,_,y,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,E=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((m=t.ids)===null||m===void 0?void 0:m.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=t.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(b=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((x=t==null?void 0:t.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:_,commit_timestamp:y,type:b,errors:x}=g;h=Object.assign(Object.assign({},{schema:m,table:_,commit_timestamp:y,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(h,r)})}_isClosed(){return this.state===Tr.closed}_isJoined(){return this.state===Tr.joined}_isJoining(){return this.state===Tr.joining}_isLeaving(){return this.state===Tr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&xP.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Yi.close,{},e)}_onError(e){this._on(Yi.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=tR(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=tR(e.columns,e.old_record)),t}}const QH=()=>{},ZH=typeof WebSocket<"u",JH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eW{constructor(e,t){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=zH,this.params={},this.timeout=iN,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=QH,this.conn=null,this.sendBuffer=[],this.serializer=new HH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>ks(async()=>{const{default:l}=await Promise.resolve().then(()=>vf);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${IS.websocket}`,this.httpEndpoint=aN(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,o)=>o(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(ZH){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new tW(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),ks(async()=>{const{default:e}=await import("./browser-NovuVaH-.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jd.connecting:return Jl.Connecting;case jd.open:return Jl.Open;case jd.closing:return Jl.Closing;default:return Jl.Closed}}isConnected(){return this.connectionState()===Jl.Open}channel(e,t={config:{}}){const r=new xP(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Yi.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:UH}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:s,ref:o}=t;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Yi.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(VH,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([JH],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class tW{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=jd.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class SP extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function un(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class nW extends SP{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class NS extends SP{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var rW=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const lN=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ks(async()=>{const{default:r}=await Promise.resolve().then(()=>vf);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},iW=()=>rW(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ks(()=>Promise.resolve().then(()=>vf),void 0)).Response:Response}),FS=n=>{if(Array.isArray(n))return n.map(t=>FS(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=FS(r)}),e};var Du=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Bb=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),sW=(n,e,t)=>Du(void 0,void 0,void 0,function*(){const r=yield iW();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{e(new nW(Bb(i),n.status||500))}).catch(i=>{e(new NS(Bb(i),i))}):e(new NS(Bb(n),n))}),oW=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function Sv(n,e,t,r,i,s){return Du(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,oW(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>sW(l,a,r))})})}function vw(n,e,t,r){return Du(this,void 0,void 0,function*(){return Sv(n,"GET",e,t,r)})}function va(n,e,t,r,i){return Du(this,void 0,void 0,function*(){return Sv(n,"POST",e,r,i,t)})}function aW(n,e,t,r,i){return Du(this,void 0,void 0,function*(){return Sv(n,"PUT",e,r,i,t)})}function lW(n,e,t,r){return Du(this,void 0,void 0,function*(){return Sv(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function cN(n,e,t,r,i){return Du(this,void 0,void 0,function*(){return Sv(n,"DELETE",e,r,i,t)})}var ar=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const cW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uW{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=lN(i)}uploadOrUpdate(e,t,r,i){return ar(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},oR),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(un(s))return{data:null,error:s};throw s}})}upload(e,t,r){return ar(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return ar(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:oR.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(un(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return ar(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=yield va(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new SP("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}update(e,t,r){return ar(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return ar(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(un(i))return{data:null,error:i};throw i}})}copy(e,t,r){return ar(this,void 0,void 0,function*(){try{return{data:{path:(yield va(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(un(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return ar(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield va(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(un(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return ar(this,void 0,void 0,function*(){try{const i=yield va(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(un(i))return{data:null,error:i};throw i}})}download(e,t){return ar(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield vw(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(un(a))return{data:null,error:a};throw a}})}info(e){return ar(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield vw(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:FS(r),error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}exists(e){return ar(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield lW(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(un(r)&&r instanceof NS){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return ar(this,void 0,void 0,function*(){try{return{data:yield cN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(un(t))return{data:null,error:t};throw t}})}list(e,t,r){return ar(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},cW),t),{prefix:e||""});return{data:yield va(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(un(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const dW="2.7.1",hW={"X-Client-Info":`storage-js/${dW}`};var Wu=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};class fW{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},hW),t),this.fetch=lN(r)}listBuckets(){return Wu(this,void 0,void 0,function*(){try{return{data:yield vw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(un(e))return{data:null,error:e};throw e}})}getBucket(e){return Wu(this,void 0,void 0,function*(){try{return{data:yield vw(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(un(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Wu(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Wu(this,void 0,void 0,function*(){try{return{data:yield aW(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Wu(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(un(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Wu(this,void 0,void 0,function*(){try{return{data:yield cN(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(un(t))return{data:null,error:t};throw t}})}}class pW extends fW{constructor(e,t={},r){super(e,t,r)}from(e){return new uW(this.url,this.headers,e,this.fetch)}}const gW="2.45.5";let ip="";typeof Deno<"u"?ip="deno":typeof document<"u"?ip="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ip="react-native":ip="node";const mW={"X-Client-Info":`supabase-js-${ip}/${gW}`},vW={headers:mW},yW={schema:"public"},wW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_W={};var bW=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const xW=n=>{let e;return n?e=n:typeof fetch>"u"?e=qO:e=fetch,(...t)=>e(...t)},SW=()=>typeof Headers>"u"?KO:Headers,EW=(n,e,t)=>{const r=xW(t),i=SW();return(s,o)=>bW(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:n;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var CW=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};function AW(n){return n.replace(/\/$/,"")}function PW(n,e){const{db:t,auth:r,realtime:i,global:s}=n,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>CW(this,void 0,void 0,function*(){return""})};return n.accessToken?u.accessToken=n.accessToken:delete u.accessToken,u}const uN="2.65.1",TW="http://localhost:9999",kW="supabase.auth.token",RW={"X-Client-Info":`gotrue-js/${uN}`},aR=10,jS="X-Supabase-Api-Version",dN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function MW(n){return Math.round(Date.now()/1e3)+n}function DW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Pi=()=>typeof document<"u",Fl={tested:!1,writable:!1},zp=()=>{if(!Pi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fl.tested)return Fl.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Fl.tested=!0,Fl.writable=!0}catch{Fl.tested=!0,Fl.writable=!1}return Fl.writable};function zb(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const hN=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ks(async()=>{const{default:r}=await Promise.resolve().then(()=>vf);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},LW=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",fN=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},c0=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},u0=async(n,e)=>{await n.removeItem(e)};function IW(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,i,s,o,a,l,c,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)o=e.indexOf(n.charAt(u++)),a=e.indexOf(n.charAt(u++)),l=e.indexOf(n.charAt(u++)),c=e.indexOf(n.charAt(u++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|c,t=t+String.fromCharCode(r),l!=64&&i!=0&&(t=t+String.fromCharCode(i)),c!=64&&s!=0&&(t=t+String.fromCharCode(s));return t}class n1{constructor(){this.promise=new n1.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}n1.promiseConstructor=Promise;function lR(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(IW(r))}async function OW(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function NW(n,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await n(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function FW(n){return("0"+n.toString(16)).substr(-2)}function jW(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,FW).join("")}async function $W(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function BW(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zW(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await $W(n);return BW(t)}async function Gu(n,e,t=!1){const r=jW();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await fN(n,`${e}-code-verifier`,i);const s=await zW(r);return[s,r===s?"plain":"s256"]}const UW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VW(n){const e=n.headers.get(jS);if(!e||!e.match(UW))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class EP extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Te(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class HW extends EP{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function WW(n){return Te(n)&&n.name==="AuthApiError"}class pN extends EP{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Lu extends EP{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class la extends Lu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GW(n){return Te(n)&&n.name==="AuthSessionMissingError"}class Ub extends Lu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class d0 extends Lu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class h0 extends Lu{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cR extends Lu{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $S extends Lu{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Vb(n){return Te(n)&&n.name==="AuthRetryableFetchError"}class uR extends Lu{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}var qW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const ql=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),KW=[502,503,504];async function dR(n){var e;if(!LW(n))throw new $S(ql(n),0);if(KW.includes(n.status))throw new $S(ql(n),n.status);let t;try{t=await n.json()}catch(s){throw new pN(ql(s),s)}let r;const i=VW(n);if(i&&i.getTime()>=dN["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new uR(ql(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new la}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new uR(ql(t),n.status,t.weak_password.reasons);throw new HW(ql(t),n.status||500,r)}const YW=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function Ne(n,e,t,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[jS]||(s[jS]=dN["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await XW(n,e,t+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function XW(n,e,t,r,i,s){const o=YW(e,r,i,s);let a;try{a=await n(t,Object.assign({},o))}catch(l){throw console.error(l),new $S(ql(l),0)}if(a.ok||await dR(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await dR(l)}}function ca(n){var e;let t=null;eG(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=MW(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function hR(n){const e=ca(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Ea(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function QW(n){return{data:n,error:null}}function ZW(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,o=qW(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function JW(n){return n}function eG(n){return n.access_token&&n.refresh_token&&n.expires_in}var tG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class nG{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=hN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ea})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=tG(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ZW,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Te(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ea})}catch(t){if(Te(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:JW});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);c[`${_}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Te(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ea})}catch(t){if(Te(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ea})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ea})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(Te(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Te(t))return{data:null,error:t};throw t}}}const rG={getItem:n=>zp()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{zp()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{zp()&&globalThis.localStorage.removeItem(n)}};function fR(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function iG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qu={debug:!!(globalThis&&zp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gN extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sG extends gN{}async function oG(n,e,t){qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),qu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new sG(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(qu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}iG();const aG={url:TW,storageKey:kW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Uf=30*1e3,pR=3;async function gR(n,e,t){return await t()}class yg{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yg.nextInstanceID,yg.nextInstanceID+=1,this.instanceID>0&&Pi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},aG),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new nG({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=hN(i.fetch),this.lock=i.lock||gR,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Pi()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=oG:this.lock=gR,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:zp()?this.storage=rG:(this.memoryStorage={},this.storage=fR(this.memoryStorage)):(this.memoryStorage={},this.storage=fR(this.memoryStorage)),Pi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${uN}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Pi()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Te(e)?{error:e}:{error:new pN("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const s=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ca}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,r,i;try{let s;if("email"in e){const{email:u,password:d,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Gu(this.storage,this.storageKey)),s=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:ca})}else if("phone"in e){const{phone:u,password:d,options:h}=e;s=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ca})}else throw new d0("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:o,options:a}=e;t=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:hR})}else if("phone"in e){const{phone:s,password:o,options:a}=e;t=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:hR})}else throw new d0("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ub}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await c0(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:s,error:o}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ca});if(await u0(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ub}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Te(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:s,nonce:o}=e,a=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ca}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ub}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Gu(this.storage,this.storageKey));const{error:d}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new d0("You must provide either an email or phone number.")}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,r;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ca});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Gu(this.storage,this.storageKey)),await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:QW})}catch(s){if(Te(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new la;const{error:i}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await Ne(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await Ne(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new d0("You must provide either an email or phone number and a type")}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await c0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ea}):await this._useSession(async t=>{var r,i,s;const{data:o,error:a}=t;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new la}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ea})})}catch(t){if(Te(t))return GW(t)&&(await this._removeSession(),await u0(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new la;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Gu(this.storage,this.storageKey));const{data:c,error:u}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ea});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return lR(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new la;const t=Date.now()/1e3;let r=t,i=!0,s=null;const o=lR(e.access_token);if(o.exp&&(r=o.exp,i=r<=t),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(Te(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new la;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!Pi())throw new h0("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new h0("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new cR("Not a valid PKCE flow url.");const t=zb(window.location.href);if(e){if(!t.code)throw new cR("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new h0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new h0("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=Uf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=h-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:m,error:_}=await this._getUser(s);if(_)throw _;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(t){if(Te(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=zb(window.location.href);return!!(Pi()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=zb(window.location.href),t=await c0(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(WW(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await u0(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=DW(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:s},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Gu(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(Te(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Te(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Pi()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Te(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:o}=t;if(o)throw o;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Te(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await NW(async i=>(i>0&&await OW(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ca})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Vb(s)&&Date.now()+o-r<Uf})}catch(r){if(this._debug(t,"error",r),Te(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Pi()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await c0(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+aR;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${aR}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Vb(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new la;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new n1;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new la;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Te(s)){const o={session:null,error:s};return Vb(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await fN(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await u0(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Uf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Uf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Uf}ms, refresh threshold is ${pR} ticks`),i<=pR&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gN)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Gu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await Ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Te(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(Te(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:a}=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(Te(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Te(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}yg.nextInstanceID=0;const lG=yg;class cG extends lG{constructor(e){super(e)}}var uG=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};class dG{constructor(e,t,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=AW(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:yW,realtime:_W,auth:Object.assign(Object.assign({},wW),{storageKey:l}),global:vW},u=PW(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=EW(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new $H(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new gH(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pW(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return uG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,u){var d;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cG({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new eW(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hG=(n,e,t)=>new dG(n,e,t),fG="https://wjoxflssqnzqomprbysq.supabase.co",pG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indqb3hmbHNzcW56cW9tcHJieXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjg5MTI1MjEsImV4cCI6MjA0NDQ4ODUyMX0.IJoH-A--sqlmwYlz-_UaAJNmmeIG80DtZYxiET2viyI",ns=hG(fG,pG,{db:{schema:"public"},auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),gG={session:null,user:null};iV("auth/logoutThunk",async(n,{dispatch:e})=>{const{error:t}=await ns.auth.signOut();if(t)throw t;e(yw(null)),e(vN(null))});const mN=NO({name:"auth",initialState:gG,reducers:{setSession:(n,e)=>{var t;n.session=e.payload,n.user=((t=e.payload)==null?void 0:t.user)??null},setUser:(n,e)=>{n.user=e.payload},logout:n=>{n.session=null,n.user=null}}}),{setSession:yw,setUser:vN,logout:mG}=mN.actions,vG=mN.reducer,yG=YU({reducer:{canvas:aH,auth:vG}}),$=typeof window<"u"?window:void 0,vr=typeof globalThis<"u"?globalThis:$,yN=Array.prototype,mR=yN.forEach,vR=yN.indexOf,Gr=vr==null?void 0:vr.navigator,pe=vr==null?void 0:vr.document,fr=vr==null?void 0:vr.location,CP=vr==null?void 0:vr.fetch,AP=vr!=null&&vr.XMLHttpRequest&&"withCredentials"in new vr.XMLHttpRequest?vr.XMLHttpRequest:void 0,yR=vr==null?void 0:vr.AbortController,cn=Gr==null?void 0:Gr.userAgent,Ie=$??{},ya={DEBUG:!1,LIB_VERSION:"1.174.0"},wG=Array.isArray,wN=Object.prototype,_N=wN.hasOwnProperty,r1=wN.toString,tn=wG||function(n){return r1.call(n)==="[object Array]"},gi=function(n){return typeof n=="function"},Ut=function(n){return n===Object(n)&&!tn(n)},ry=function(n){if(Ut(n)){for(const e in n)if(_N.call(n,e))return!1;return!0}return!1},ye=function(n){return n===void 0},Bn=function(n){return r1.call(n)=="[object String]"},wR=function(n){return Bn(n)&&n.trim().length===0},kl=function(n){return n===null},It=function(n){return ye(n)||kl(n)},zr=function(n){return r1.call(n)=="[object Number]"},cc=function(n){return r1.call(n)==="[object Boolean]"},_G=n=>n instanceof FormData,_R="[PostHog.js]",X={_log:function(n){if($&&(ya.DEBUG||Ie.POSTHOG_DEBUG)&&!ye($.console)&&$.console){const i="__rrweb_original__"in $.console[n]?$.console[n].__rrweb_original__:$.console[n];for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];i(_R,...t)}},info:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];X._log("log",...e)},warn:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];X._log("warn",...e)},error:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];X._log("error",...e)},critical:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];console.error(_R,...e)},uninitializedWarning:n=>{X.error(`You must initialize PostHog before calling ${n}`)}},bR=(n,e,t)=>{if(n.config.disable_external_dependency_loading)return X.warn(`${e} was requested but loading of external scripts is disabled.`),t("Loading of external scripts is disabled");const r=()=>{if(!pe)return t("document not found");const i=pe.createElement("script");i.type="text/javascript",i.crossOrigin="anonymous",i.src=e,i.onload=a=>t(void 0,a),i.onerror=a=>t(a);const s=pe.querySelectorAll("body > script");var o;s.length>0?(o=s[0].parentNode)===null||o===void 0||o.insertBefore(i,s[0]):pe.body.appendChild(i)};pe!=null&&pe.body?r():pe==null||pe.addEventListener("DOMContentLoaded",r)};Ie.__PosthogExtensions__=Ie.__PosthogExtensions__||{},Ie.__PosthogExtensions__.loadExternalDependency=(n,e,t)=>{let r=`/static/${e}.js?v=${n.version}`;e==="toolbar"&&(r=`${r}?&=${Math.floor(Date.now()/3e5)*3e5}`);const i=n.requestRouter.endpointFor("assets",r);bR(n,i,t)},Ie.__PosthogExtensions__.loadSiteApp=(n,e,t)=>{const r=n.requestRouter.endpointFor("api",e);bR(n,r,t)};const ww={},i1=function(n){return n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function $d(n,e,t){if(tn(n)){if(mR&&n.forEach===mR)n.forEach(e,t);else if("length"in n&&n.length===+n.length){for(let r=0,i=n.length;r<i;r++)if(r in n&&e.call(t,n[r],r)===ww)return}}}function ct(n,e,t){if(!It(n)){if(tn(n))return $d(n,e,t);if(_G(n)){for(const r of n.entries())if(e.call(t,r[1],r[0])===ww)return}else for(const r in n)if(_N.call(n,r)&&e.call(t,n[r],r)===ww)return}}const Zn=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return $d(t,function(i){for(const s in i)i[s]!==void 0&&(n[s]=i[s])}),n};function Fe(n,e){return n.indexOf(e)!==-1}function iy(n){const e=Object.keys(n);let t=e.length;const r=new Array(t);for(;t--;)r[t]=[e[t],n[e[t]]];return r}const xR=function(n){try{return n()}catch{return}},bG=function(n){return function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}catch(i){X.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),X.critical(i)}}},BS=function(n){const e={};return ct(n,function(t,r){Bn(t)&&t.length>0&&(e[r]=t)}),e},zS=function(n){return n.replace(/^\$/,"")};function xG(n,e){return function(t,r){const i=new Set;return function s(o,a){if(o!==Object(o))return r?r(o,a):o;if(i.has(o))return;let l;return i.add(o),tn(o)?(l=[],$d(o,c=>{l.push(s(c))})):(l={},ct(o,(c,u)=>{i.has(c)||(l[u]=s(c,u))})),l}(t)}(n,t=>Bn(t)&&!kl(e)?t.slice(0,e):t)}const SG=function(n){let e,t,r,i="",s=0;for(e=t=0,s=(n=(n+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,r=0;r<s;r++){const o=n.charCodeAt(r);let a=null;o<128?t++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),kl(a)||(t>e&&(i+=n.substring(e,t)),i+=a,e=t=r+1)}return t>e&&(i+=n.substring(e,n.length)),i},ko=function(){function n(e){return e&&(e.preventDefault=n.preventDefault,e.stopPropagation=n.stopPropagation),e}return n.preventDefault=function(){this.returnValue=!1},n.stopPropagation=function(){this.cancelBubble=!0},function(e,t,r,i,s){if(e)if(e.addEventListener&&!i)e.addEventListener(t,r,!!s);else{const o="on"+t,a=e[o];e[o]=function(l,c,u){return function(d){if(!(d=d||n($==null?void 0:$.event)))return;let h,p=!0;gi(u)&&(h=u(d));const g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}(e,r,a)}else X.error("No valid element provided to register_event")}}();function EG(n){const e=n==null?void 0:n.hostname;return!!Bn(e)&&e.split(".").slice(-2).join(".")!=="herokuapp.com"}function bN(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return n[t]}let Zi;(function(n){n.GZipJS="gzip-js",n.Base64="base64"})(Zi||(Zi={}));const xN="$people_distinct_id",sp="__alias",op="__timers",SR="$autocapture_disabled_server_side",US="$heatmaps_enabled_server_side",ER="$exception_capture_enabled_server_side",CR="$exception_capture_endpoint_suffix",AR="$web_vitals_enabled_server_side",PR="$web_vitals_allowed_metrics",VS="$session_recording_enabled_server_side",TR="$console_log_recording_enabled_server_side",kR="$session_recording_network_payload_capture",RR="$session_recording_canvas_recording",MR="$replay_sample_rate",DR="$replay_minimum_duration",_w="$sesid",ap="$session_is_sampled",f0="$session_recording_url_trigger_activated_session",p0="$session_recording_url_trigger_status",_d="$enabled_feature_flags",HS="$early_access_features",bd="$stored_person_properties",wa="$stored_group_properties",WS="$surveys",g0="$surveys_activated",bw="$flag_call_reported",Qs="$user_state",GS="$client_session_props",qS="$capture_rate_limit",KS="$initial_campaign_params",YS="$initial_referrer_info",LR="$initial_person_info",xw="$epp",XS="__POSTHOG_TOOLBAR__",CG=[xN,sp,"__cmpns",op,VS,US,_w,_d,Qs,HS,wa,bd,WS,bw,GS,qS,KS,YS,xw],Hb="$active_feature_flags",m0="$override_feature_flags",IR="$feature_flag_payloads",OR=n=>{const e={};for(const[t,r]of iy(n||{}))r&&(e[t]=r);return e};class AG{constructor(e){this.instance=e,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}getFlags(){return Object.keys(this.getFlagVariants())}getFlagVariants(){const e=this.instance.get_property(_d),t=this.instance.get_property(m0);if(!t)return e||{};const r=Zn({},e),i=Object.keys(t);for(let s=0;s<i.length;s++)r[i[s]]=t[i[s]];return this._override_warning||(X.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:r}),this._override_warning=!0),r}getFlagPayloads(){return this.instance.get_property(IR)||{}}reloadFeatureFlags(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.reloadFeatureFlagsInAction=e}resetRequestQueue(){this.reloadFeatureFlagsQueued=!1}_startReloadTimer(){this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(()=>{!this.reloadFeatureFlagsInAction&&this.reloadFeatureFlagsQueued&&(this.reloadFeatureFlagsQueued=!1,this._reloadFeatureFlagsRequest())},5)}_reloadFeatureFlagsRequest(){if(this.instance.config.advanced_disable_feature_flags)return;this.setReloadingPaused(!0);const e=this.instance.config.token,t=this.instance.get_property(bd),r=this.instance.get_property(wa),i={token:e,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:t,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:i,compression:this.instance.config.disable_compression?void 0:Zi.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:s=>{var o;this.setReloadingPaused(!1);let a=!0;s.statusCode===200&&(this.$anon_distinct_id=void 0,a=!1),this.receivedFeatureFlags((o=s.json)!==null&&o!==void 0?o:{},a),this._startReloadTimer()}})}getFeatureFlag(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0))return void X.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`);const r=this.getFlagVariants()[e],i=`${r}`,s=this.instance.get_property(bw)||{};var o;return!t.send_event&&"send_event"in t||e in s&&s[e].includes(i)||(tn(s[e])?s[e].push(i):s[e]=[i],(o=this.instance.persistence)===null||o===void 0||o.register({[bw]:s}),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:r})),r}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}isFeatureEnabled(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);X.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(t=>t!==e)}receivedFeatureFlags(e,t){if(!this.instance.persistence)return;this.instance.decideEndpointWasHit=!0;const r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const c=s.featureFlags,u=s.featureFlagPayloads;if(!c)return;if(tn(c)){const p={};if(c)for(let g=0;g<c.length;g++)p[c[g]]=!0;return void(o&&o.register({[Hb]:c,[_d]:p}))}let d=c,h=u;s.errorsWhileComputingFlags&&(d={...a,...d},h={...l,...h}),o&&o.register({[Hb]:Object.keys(OR(d)),[_d]:d||{},[IR]:h||{}})})(e,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(t)}override(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return X.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=t,e===!1)this.instance.persistence.unregister(m0);else if(tn(e)){const r={};for(let i=0;i<e.length;i++)r[e[i]]=!0;this.instance.persistence.register({[m0]:r})}else this.instance.persistence.register({[m0]:e})}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){const{flags:t,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();e(t,r)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t){var r;const i={[`$feature_enrollment/${e}`]:t};this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:t,$set:i}),this.setPersonPropertiesForFlags(i,!1);const s={...this.getFlagVariants(),[e]:t};(r=this.instance.persistence)===null||r===void 0||r.register({[Hb]:Object.keys(OR(s)),[_d]:s}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.instance.get_property(HS);if(r&&!t)return e(r);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api",`/api/early_access_features/?token=${this.instance.config.token}`),method:"GET",callback:i=>{var s;if(!i.json)return;const o=i.json.earlyAccessFeatures;return(s=this.instance.persistence)===null||s===void 0||s.register({[HS]:o}),e(o)}})}_prepareFeatureFlagsForCallbacks(){const e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(r=>t[r]),flagVariants:Object.keys(t).filter(r=>t[r]).reduce((r,i)=>(r[i]=t[i],r),{})}}_fireFeatureFlagsCallbacks(e){const{flags:t,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach(i=>i(t,r,{errorsLoading:e}))}setPersonPropertiesForFlags(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const r=this.instance.get_property(bd)||{};this.instance.register({[bd]:{...r,...e}}),t&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(bd)}setGroupPropertiesForFlags(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const r=this.instance.get_property(wa)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(i=>{r[i]={...r[i],...e[i]},delete e[i]}),this.instance.register({[wa]:{...r,...e}}),t&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){const t=this.instance.get_property(wa)||{};this.instance.register({[wa]:{...t,[e]:{}}})}else this.instance.unregister(wa)}}/**
 * uuidv7: An experimental implementation of the proposed UUID Version 7
 *
 * @license Apache-2.0
 * @copyright 2021-2023 LiosK
 * @packageDocumentation
 *
 * from https://github.com/LiosK/uuidv7/blob/e501462ea3d23241de13192ceae726956f9b3b7d/src/index.ts
 */Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)}),Number.isInteger||(Number.isInteger=function(n){return zr(n)&&isFinite(n)&&Math.floor(n)===n});const NR="0123456789abcdef";class Sw{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,t,r,i){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(i)||e<0||t<0||r<0||i<0||e>0xffffffffffff||t>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");const s=new Uint8Array(16);return s[0]=e/2**40,s[1]=e/2**32,s[2]=e/2**24,s[3]=e/65536,s[4]=e/256,s[5]=e,s[6]=112|t>>>8,s[7]=t,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new Sw(s)}toString(){let e="";for(let t=0;t<this.bytes.length;t++)e=e+NR.charAt(this.bytes[t]>>>4)+NR.charAt(15&this.bytes[t]),t!==3&&t!==5&&t!==7&&t!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new Sw(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(let t=0;t<16;t++){const r=this.bytes[t]-e.bytes[t];if(r!==0)return Math.sign(r)}return 0}}class PG{constructor(){G(this,"timestamp",0);G(this,"counter",0);G(this,"random",new TG)}generate(){const e=this.generateOrAbort();if(ye(e)){this.timestamp=0;const t=this.generateOrAbort();if(ye(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){const e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return Sw.fromFieldsV7(this.timestamp,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}let FR,SN=n=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(let e=0;e<n.length;e++)n[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return n};$&&!ye($.crypto)&&crypto.getRandomValues&&(SN=n=>crypto.getRandomValues(n));class TG{constructor(){G(this,"buffer",new Uint32Array(8));G(this,"cursor",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&(SN(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}const Ya=()=>kG().toString(),kG=()=>(FR||(FR=new PG)).generate(),RG="Thu, 01 Jan 1970 00:00:00 GMT";let Vf="";const MG=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function DG(n,e){if(e){let t=function(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe;if(Vf)return Vf;if(!i||["localhost","127.0.0.1"].includes(r))return"";const s=r.split(".");let o=Math.min(s.length,8);const a="dmn_chk_"+Ya(),l=new RegExp("(^|;)\\s*"+a+"=1");for(;!Vf&&o--;){const c=s.slice(o).join("."),u=a+"=1;domain=."+c;i.cookie=u,l.test(i.cookie)&&(i.cookie=u+";expires="+RG,Vf=c)}return Vf}(n);if(!t){const r=(i=>{const s=i.match(MG);return s?s[0]:""})(n);r!==t&&X.info("Warning: cookie subdomain discovery mismatch",r,t),t=r}return t?"; domain=."+t:""}return""}const Io={is_supported:()=>!!pe,error:function(n){X.error("cookieStore error: "+n)},get:function(n){if(pe){try{const e=n+"=",t=pe.cookie.split(";").filter(r=>r.length);for(let r=0;r<t.length;r++){let i=t[r];for(;i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return decodeURIComponent(i.substring(e.length,i.length))}}catch{}return null}},parse:function(n){let e;try{e=JSON.parse(Io.get(n))||{}}catch{}return e},set:function(n,e,t,r,i){if(pe)try{let s="",o="";const a=DG(pe.location.hostname,r);if(t){const c=new Date;c.setTime(c.getTime()+24*t*60*60*1e3),s="; expires="+c.toUTCString()}i&&(o="; secure");const l=n+"="+encodeURIComponent(JSON.stringify(e))+s+"; SameSite=Lax; path=/"+a+o;return l.length>3686.4&&X.warn("cookieStore warning: large cookie, len="+l.length),pe.cookie=l,l}catch{return}},remove:function(n,e){try{Io.set(n,"",-1,e)}catch{return}}};let Wb=null;const en={is_supported:function(){if(!kl(Wb))return Wb;let n=!0;if(ye($))n=!1;else try{const e="__mplssupport__";en.set(e,"xyz"),en.get(e)!=='"xyz"'&&(n=!1),en.remove(e)}catch{n=!1}return n||X.error("localStorage unsupported; falling back to cookie store"),Wb=n,n},error:function(n){X.error("localStorage error: "+n)},get:function(n){try{return $==null?void 0:$.localStorage.getItem(n)}catch(e){en.error(e)}return null},parse:function(n){try{return JSON.parse(en.get(n))||{}}catch{}return null},set:function(n,e){try{$==null||$.localStorage.setItem(n,JSON.stringify(e))}catch(t){en.error(t)}},remove:function(n){try{$==null||$.localStorage.removeItem(n)}catch(e){en.error(e)}}},LG=["distinct_id",_w,ap,xw],v0={...en,parse:function(n){try{let e={};try{e=Io.parse(n)||{}}catch{}const t=Zn(e,JSON.parse(en.get(n)||"{}"));return en.set(n,t),t}catch{}return null},set:function(n,e,t,r,i,s){try{en.set(n,e,void 0,void 0,s);const o={};LG.forEach(a=>{e[a]&&(o[a]=e[a])}),Object.keys(o).length&&Io.set(n,o,t,r,i,s)}catch(o){en.error(o)}},remove:function(n,e){try{$==null||$.localStorage.removeItem(n),Io.remove(n,e)}catch(t){en.error(t)}}},y0={},IG={is_supported:function(){return!0},error:function(n){X.error("memoryStorage error: "+n)},get:function(n){return y0[n]||null},parse:function(n){return y0[n]||null},set:function(n,e){y0[n]=e},remove:function(n){delete y0[n]}};let jl=null;const En={is_supported:function(){if(!kl(jl))return jl;if(jl=!0,ye($))jl=!1;else try{const n="__support__";En.set(n,"xyz"),En.get(n)!=='"xyz"'&&(jl=!1),En.remove(n)}catch{jl=!1}return jl},error:function(n){X.error("sessionStorage error: ",n)},get:function(n){try{return $==null?void 0:$.sessionStorage.getItem(n)}catch(e){En.error(e)}return null},parse:function(n){try{return JSON.parse(En.get(n))||null}catch{}return null},set:function(n,e){try{$==null||$.sessionStorage.setItem(n,JSON.stringify(e))}catch(t){En.error(t)}},remove:function(n){try{$==null||$.sessionStorage.removeItem(n)}catch(e){En.error(e)}}},OG=["localhost","127.0.0.1"],Up=n=>{const e=pe==null?void 0:pe.createElement("a");return ye(e)?null:(e.href=n,e)},tf=function(n,e){return!!function(t){try{new RegExp(t)}catch{return!1}return!0}(e)&&new RegExp(e).test(n)},NG=function(n){let e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&";const i=[];return ct(n,function(s,o){ye(s)||ye(o)||o==="undefined"||(e=encodeURIComponent((a=>a instanceof File)(s)?s.name:s.toString()),t=encodeURIComponent(o),i[i.length]=t+"="+e)}),i.join(r)},Ew=function(n,e){const t=((n.split("#")[0]||"").split("?")[1]||"").split("&");let r;for(let i=0;i<t.length;i++){const s=t[i].split("=");if(s[0]===e){r=s;break}}if(!tn(r)||r.length<2)return"";{let i=r[1];try{i=decodeURIComponent(i)}catch{X.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")}},Cw=function(n,e){const t=n.match(new RegExp(e+"=([^&]*)"));return t?t[1]:null},yi="Mobile",Aw="iOS",Rs="Android",wg="Tablet",EN=Rs+" "+wg,CN="iPad",AN="Apple",PN=AN+" Watch",_g="Safari",nf="BlackBerry",TN="Samsung",kN=TN+"Browser",RN=TN+" Internet",sl="Chrome",FG=sl+" OS",MN=sl+" "+Aw,PP="Internet Explorer",DN=PP+" "+yi,TP="Opera",jG=TP+" Mini",kP="Edge",LN="Microsoft "+kP,Bd="Firefox",IN=Bd+" "+Aw,bg="Nintendo",xg="PlayStation",zd="Xbox",ON=Rs+" "+yi,NN=yi+" "+_g,lp="Windows",QS=lp+" Phone",jR="Nokia",ZS="Ouya",FN="Generic",$G=FN+" "+yi.toLowerCase(),jN=FN+" "+wg.toLowerCase(),JS="Konqueror",qn="(\\d+(\\.\\d+)?)",Gb=new RegExp("Version/"+qn),BG=new RegExp(zd,"i"),zG=new RegExp(xg+" \\w+","i"),UG=new RegExp(bg+" \\w+","i"),RP=new RegExp(nf+"|PlayBook|BB10","i"),VG={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},HG=(n,e)=>e&&Fe(e,AN)||function(t){return Fe(t,_g)&&!Fe(t,sl)&&!Fe(t,Rs)}(n),$R=function(n,e){return e=e||"",Fe(n," OPR/")&&Fe(n,"Mini")?jG:Fe(n," OPR/")?TP:RP.test(n)?nf:Fe(n,"IE"+yi)||Fe(n,"WPDesktop")?DN:Fe(n,kN)?RN:Fe(n,kP)||Fe(n,"Edg/")?LN:Fe(n,"FBIOS")?"Facebook "+yi:Fe(n,"UCWEB")||Fe(n,"UCBrowser")?"UC Browser":Fe(n,"CriOS")?MN:Fe(n,"CrMo")?sl:Fe(n,Rs)&&Fe(n,_g)?ON:Fe(n,sl)?sl:Fe(n,"FxiOS")?IN:Fe(n.toLowerCase(),JS.toLowerCase())?JS:HG(n,e)?Fe(n,yi)?NN:_g:Fe(n,Bd)?Bd:Fe(n,"MSIE")||Fe(n,"Trident/")?PP:Fe(n,"Gecko")?Bd:""},WG={[DN]:[new RegExp("rv:"+qn)],[LN]:[new RegExp(kP+"?\\/"+qn)],[sl]:[new RegExp("("+sl+"|CrMo)\\/"+qn)],[MN]:[new RegExp("CriOS\\/"+qn)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+qn)],[_g]:[Gb],[NN]:[Gb],[TP]:[new RegExp("(Opera|OPR)\\/"+qn)],[Bd]:[new RegExp(Bd+"\\/"+qn)],[IN]:[new RegExp("FxiOS\\/"+qn)],[JS]:[new RegExp("Konqueror[:/]?"+qn,"i")],[nf]:[new RegExp(nf+" "+qn),Gb],[ON]:[new RegExp("android\\s"+qn,"i")],[RN]:[new RegExp(kN+"\\/"+qn)],[PP]:[new RegExp("(rv:|MSIE )"+qn)],Mozilla:[new RegExp("rv:"+qn)]},BR=[[new RegExp(zd+"; "+zd+" (.*?)[);]","i"),n=>[zd,n&&n[1]||""]],[new RegExp(bg,"i"),[bg,""]],[new RegExp(xg,"i"),[xg,""]],[RP,[nf,""]],[new RegExp(lp,"i"),(n,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[QS,""];if(new RegExp(yi).test(e)&&!/IEMobile\b/.test(e))return[lp+" "+yi,""];const t=/Windows NT ([0-9.]+)/i.exec(e);if(t&&t[1]){const r=t[1];let i=VG[r]||"";return/arm/i.test(e)&&(i="RT"),[lp,i]}return[lp,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,n=>{if(n&&n[3]){const e=[n[3],n[4],n[5]||"0"];return[Aw,e.join(".")]}return[Aw,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,n=>{let e="";return n&&n.length>=3&&(e=ye(n[2])?n[3]:n[2]),["watchOS",e]}],[new RegExp("("+Rs+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Rs+")","i"),n=>{if(n&&n[2]){const e=[n[2],n[3],n[4]||"0"];return[Rs,e.join(".")]}return[Rs,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,n=>{const e=["Mac OS X",""];if(n&&n[1]){const t=[n[1],n[2],n[3]||"0"];e[1]=t.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[FG,""]],[/Linux|debian/i,["Linux",""]]],zR=function(n){return UG.test(n)?bg:zG.test(n)?xg:BG.test(n)?zd:new RegExp(ZS,"i").test(n)?ZS:new RegExp("("+QS+"|WPDesktop)","i").test(n)?QS:/iPad/.test(n)?CN:/iPod/.test(n)?"iPod Touch":/iPhone/.test(n)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(n)?PN:RP.test(n)?nf:/(kobo)\s(ereader|touch)/i.test(n)?"Kobo":new RegExp(jR,"i").test(n)?jR:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(n)||/(kf[a-z]+)( bui|\)).+silk\//i.test(n)?"Kindle Fire":/(Android|ZTE)/i.test(n)?!new RegExp(yi).test(n)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(n)?/pixel[\daxl ]{1,6}/i.test(n)&&!/pixel c/i.test(n)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(n)||/lmy47v/i.test(n)&&!/QTAQZ3/i.test(n)?Rs:EN:Rs:new RegExp("(pda|"+yi+")","i").test(n)?$G:new RegExp(wg,"i").test(n)&&!new RegExp(wg+" pc","i").test(n)?jN:""},w0="https?://(.*)",GG=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],Qt={campaignParams:function(n){return pe?this._campaignParamsFromUrl(pe.URL,n):{}},_campaignParamsFromUrl:function(n,e){const t=GG.concat(e||[]),r={};return ct(t,function(i){const s=Ew(n,i);r[i]=s||null}),r},_searchEngine:function(n){return n?n.search(w0+"google.([^/?]*)")===0?"google":n.search(w0+"bing.com")===0?"bing":n.search(w0+"yahoo.com")===0?"yahoo":n.search(w0+"duckduckgo.com")===0?"duckduckgo":null:null},_searchInfoFromReferrer:function(n){const e=Qt._searchEngine(n),t=e!="yahoo"?"q":"p",r={};if(!kl(e)){r.$search_engine=e;const i=pe?Ew(pe.referrer,t):"";i.length&&(r.ph_keyword=i)}return r},searchInfo:function(){const n=pe==null?void 0:pe.referrer;return n?this._searchInfoFromReferrer(n):{}},browser:$R,browserVersion:function(n,e){const t=$R(n,e),r=WG[t];if(ye(r))return null;for(let i=0;i<r.length;i++){const s=r[i],o=n.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(n){for(let e=0;e<BR.length;e++){const[t,r]=BR[e],i=t.exec(n),s=i&&(gi(r)?r(i,n):r);if(s)return s}return["",""]},device:zR,deviceType:function(n){const e=zR(n);return e===CN||e===EN||e==="Kobo"||e==="Kindle Fire"||e===jN?wg:e===bg||e===zd||e===xg||e===ZS?"Console":e===PN?"Wearable":e?yi:"Desktop"},referrer:function(){return(pe==null?void 0:pe.referrer)||"$direct"},referringDomain:function(){var n;return pe!=null&&pe.referrer&&((n=Up(pe.referrer))===null||n===void 0?void 0:n.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer(),u:fr==null?void 0:fr.href}},initialPersonPropsFromInfo:function(n){var e;const{r:t,u:r}=n,i={$initial_referrer:t,$initial_referring_domain:t==null?void 0:t=="$direct"?"$direct":(e=Up(t))===null||e===void 0?void 0:e.host};if(r){i.$initial_current_url=r;const s=Up(r);i.$initial_host=s==null?void 0:s.host,i.$initial_pathname=s==null?void 0:s.pathname,ct(this._campaignParamsFromUrl(r),function(o,a){i["$initial_"+zS(a)]=o})}return t&&ct(this._searchInfoFromReferrer(t),function(s,o){i["$initial_"+zS(o)]=s}),i},properties:function(){if(!cn)return{};const[n,e]=Qt.os(cn);return Zn(BS({$os:n,$os_version:e,$browser:Qt.browser(cn,navigator.vendor),$device:Qt.device(cn),$device_type:Qt.deviceType(cn)}),{$current_url:fr==null?void 0:fr.href,$host:fr==null?void 0:fr.host,$pathname:fr==null?void 0:fr.pathname,$raw_user_agent:cn.length>1e3?cn.substring(0,997)+"...":cn,$browser_version:Qt.browserVersion(cn,navigator.vendor),$browser_language:Qt.browserLanguage(),$screen_height:$==null?void 0:$.screen.height,$screen_width:$==null?void 0:$.screen.width,$viewport_height:$==null?void 0:$.innerHeight,$viewport_width:$==null?void 0:$.innerWidth,$lib:"web",$lib_version:ya.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!cn)return{};const[n,e]=Qt.os(cn);return Zn(BS({$os:n,$os_version:e,$browser:Qt.browser(cn,navigator.vendor)}),{$browser_version:Qt.browserVersion(cn,navigator.vendor)})}},qG=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class qb{constructor(e){this.config=e,this.props={},this.campaign_params_saved=!1,this.name=(t=>{let r="";return t.token&&(r=t.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),t.persistence_name?"ph_"+t.persistence_name:"ph_"+r+"_posthog"})(e),this.storage=this.buildStorage(e),this.load(),e.debug&&X.info("Persistence loaded",e.persistence,{...this.props}),this.update_config(e,e),this.save()}buildStorage(e){let t;qG.indexOf(e.persistence.toLowerCase())===-1&&(X.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");const r=e.persistence.toLowerCase();return t=r==="localstorage"&&en.is_supported()?en:r==="localstorage+cookie"&&v0.is_supported()?v0:r==="sessionstorage"&&En.is_supported()?En:r==="memory"?IG:r==="cookie"?Io:v0.is_supported()?v0:Io,t}properties(){const e={};return ct(this.props,function(t,r){if(r===_d&&Ut(t)){const i=Object.keys(t);for(let s=0;s<i.length;s++)e[`$feature/${i[s]}`]=t[i[s]]}else(function(i,s){let o=!1;return kl(i)?o:vR&&i.indexOf===vR?i.indexOf(s)!=-1:(ct(i,function(a){if(o||(o=a===s))return ww}),o)})(CG,r)||(e[r]=t)}),e}load(){if(this.disabled)return;const e=this.storage.parse(this.name);e&&(this.props=Zn({},e))}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(e,t,r){if(Ut(e)){ye(t)&&(t="None"),this.expire_days=ye(r)?this.default_expiry:r;let i=!1;if(ct(e,(s,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==t||(this.props[o]=s,i=!0)}),i)return this.save(),!0}return!1}register(e,t){if(Ut(e)){this.expire_days=ye(t)?this.default_expiry:t;let r=!1;if(ct(e,(i,s)=>{e.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,r=!0)}),r)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){this.campaign_params_saved||(this.register(Qt.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}update_search_keyword(){this.register(Qt.searchInfo())}update_referrer_info(){this.register_once(Qt.referrerInfo(),void 0)}set_initial_person_info(){this.props[KS]||this.props[YS]||this.register_once({[LR]:Qt.initialPersonInfo()},void 0)}get_referrer_info(){return BS({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){const e={};ct([YS,KS],r=>{const i=this.props[r];i&&ct(i,function(s,o){e["$initial_"+zS(o)]=s})});const t=this.props[LR];if(t){const r=Qt.initialPersonPropsFromInfo(t);Zn(e,r)}return e}safe_merge(e){return ct(this.props,function(t,r){r in e||(e[r]=t)}),e}update_config(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){const r=this.buildStorage(e),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}set_disabled(e){this.disabled=e,this.disabled?this.remove():this.save()}set_cross_subdomain(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}set_event_timer(e,t){const r=this.props[op]||{};r[e]=t,this.props[op]=r,this.save()}remove_event_timer(e){const t=(this.props[op]||{})[e];return ye(t)||(delete this.props[op][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}function Pw(n){var e;return((e=JSON.stringify(n,function(){const t=[];return function(r,i){if(Ut(i)){for(;t.length>0&&t.at(-1)!==this;)t.pop();return t.includes(i)?"[Circular]":(t.push(i),i)}return i}}()))===null||e===void 0?void 0:e.length)||0}function eE(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66060288e-1;if(n.size>=e&&n.data.length>1){const t=Math.floor(n.data.length/2),r=n.data.slice(0,t),i=n.data.slice(t);return[eE({size:Pw(r),data:r,sessionId:n.sessionId,windowId:n.windowId}),eE({size:Pw(i),data:i,sessionId:n.sessionId,windowId:n.windowId})].flatMap(s=>s)}return[n]}var _a=(n=>(n[n.DomContentLoaded=0]="DomContentLoaded",n[n.Load=1]="Load",n[n.FullSnapshot=2]="FullSnapshot",n[n.IncrementalSnapshot=3]="IncrementalSnapshot",n[n.Meta=4]="Meta",n[n.Custom=5]="Custom",n[n.Plugin=6]="Plugin",n))(_a||{}),Di=(n=>(n[n.Mutation=0]="Mutation",n[n.MouseMove=1]="MouseMove",n[n.MouseInteraction=2]="MouseInteraction",n[n.Scroll=3]="Scroll",n[n.ViewportResize=4]="ViewportResize",n[n.Input=5]="Input",n[n.TouchMove=6]="TouchMove",n[n.MediaInteraction=7]="MediaInteraction",n[n.StyleSheetRule=8]="StyleSheetRule",n[n.CanvasMutation=9]="CanvasMutation",n[n.Font=10]="Font",n[n.Log=11]="Log",n[n.Drag=12]="Drag",n[n.StyleDeclaration=13]="StyleDeclaration",n[n.Selection=14]="Selection",n[n.AdoptedStyleSheet=15]="AdoptedStyleSheet",n[n.CustomElement=16]="CustomElement",n))(Di||{});function MP(n){return n?i1(n).split(/\s+/):[]}function UR(n){const e=$==null?void 0:$.location.href;return!!(e&&n&&n.some(t=>e.match(t)))}function Tw(n){let e="";switch(typeof n.className){case"string":e=n.className;break;case"object":e=(n.className&&"baseVal"in n.className?n.className.baseVal:null)||n.getAttribute("class")||"";break;default:e=""}return MP(e)}function $N(n){return It(n)?null:i1(n).split(/(\s+)/).filter(e=>Ud(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function kw(n){let e="";return nE(n)&&!HN(n)&&n.childNodes&&n.childNodes.length&&ct(n.childNodes,function(t){var r;zN(t)&&t.textContent&&(e+=(r=$N(t.textContent))!==null&&r!==void 0?r:"")}),i1(e)}function BN(n){return ye(n.target)?n.srcElement||null:(e=n.target)!==null&&e!==void 0&&e.shadowRoot?n.composedPath()[0]||null:n.target||null;var e}function s1(n){return!!n&&n.nodeType===1}function ol(n,e){return!!n&&!!n.tagName&&n.tagName.toLowerCase()===e.toLowerCase()}function zN(n){return!!n&&n.nodeType===3}function UN(n){return!!n&&n.nodeType===11}const tE=["a","button","form","input","select","textarea","label"];function VN(n){const e=n.parentNode;return!(!e||!s1(e))&&e}function KG(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!$||!n||ol(n,"html")||!s1(n)||t!=null&&t.url_allowlist&&!UR(t.url_allowlist)||t!=null&&t.url_ignorelist&&UR(t.url_ignorelist))return!1;if(t!=null&&t.dom_event_allowlist){const d=t.dom_event_allowlist;if(d&&!d.some(h=>e.type===h))return!1}let s=!1;const o=[n];let a=!0,l=n;for(;l.parentNode&&!ol(l,"body");)if(UN(l.parentNode))o.push(l.parentNode.host),l=l.parentNode.host;else{if(a=VN(l),!a)break;if(r||tE.indexOf(a.tagName.toLowerCase())>-1)s=!0;else{const d=$.getComputedStyle(a);d&&d.getPropertyValue("cursor")==="pointer"&&(s=!0)}o.push(a),l=a}if(!function(d,h){const p=h==null?void 0:h.element_allowlist;if(ye(p))return!0;for(const g of d)if(p.some(m=>g.tagName.toLowerCase()===m))return!0;return!1}(o,t)||!function(d,h){const p=h==null?void 0:h.css_selector_allowlist;if(ye(p))return!0;for(const g of d)if(p.some(m=>g.matches(m)))return!0;return!1}(o,t))return!1;const c=$.getComputedStyle(n);if(c&&c.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;const u=n.tagName.toLowerCase();switch(u){case"html":return!1;case"form":return(i||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(e.type)>=0;default:return s?(i||["click"]).indexOf(e.type)>=0:(i||["click"]).indexOf(e.type)>=0&&(tE.indexOf(u)>-1||n.getAttribute("contenteditable")==="true")}}function nE(n){for(let r=n;r.parentNode&&!ol(r,"body");r=r.parentNode){const i=Tw(r);if(Fe(i,"ph-sensitive")||Fe(i,"ph-no-capture"))return!1}if(Fe(Tw(n),"ph-include"))return!0;const e=n.type||"";if(Bn(e))switch(e.toLowerCase()){case"hidden":case"password":return!1}const t=n.name||n.id||"";return!(Bn(t)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(t.replace(/[^a-zA-Z0-9]/g,"")))}function HN(n){return!!(ol(n,"input")&&!["button","checkbox","submit","reset"].includes(n.type)||ol(n,"select")||ol(n,"textarea")||n.getAttribute("contenteditable")==="true")}const WN="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",YG=new RegExp(`^(?:${WN})$`),XG=new RegExp(WN),GN="\\d{3}-?\\d{2}-?\\d{4}",QG=new RegExp(`^(${GN})$`),ZG=new RegExp(`(${GN})`);function Ud(n){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(It(n)||Bn(n)&&(n=i1(n),(e?YG:XG).test((n||"").replace(/[- ]/g,""))||(e?QG:ZG).test(n)))}function VR(n){let e=kw(n);return e=`${e} ${qN(n)}`.trim(),Ud(e)?e:""}function qN(n){let e="";return n&&n.childNodes&&n.childNodes.length&&ct(n.childNodes,function(t){var r;if(t&&((r=t.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{const i=kw(t);e=`${e} ${i}`.trim(),t.childNodes&&t.childNodes.length&&(e=`${e} ${qN(t)}`.trim())}catch(i){X.error(i)}}),e}function JG(n){return function(e){return e.map(r=>{var i,s;let o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class){r.attr_class.sort();for(const c of r.attr_class)o+=`.${c.replace(/"/g,"")}`}const a={...r.text?{text:r.text}:{},"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0,...r.href?{href:r.href}:{},...r.attr_id?{attr_id:r.attr_id}:{},...r.attributes},l={};return iy(a).sort((c,u)=>{let[d]=c,[h]=u;return d.localeCompare(h)}).forEach(c=>{let[u,d]=c;return l[HR(u.toString())]=HR(d.toString())}),o+=":",o+=iy(a).map(c=>{let[u,d]=c;return`${u}="${d}"`}).join(""),o}).join(";")}(function(e){return e.map(t=>{var r,i;const s={text:(r=t.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:t.tag_name,href:(i=t.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:eq(t),attr_id:t.attr__id,nth_child:t.nth_child,nth_of_type:t.nth_of_type,attributes:{}};return iy(t).filter(o=>{let[a]=o;return a.indexOf("attr__")===0}).forEach(o=>{let[a,l]=o;return s.attributes[a]=l}),s})}(n))}function HR(n){return n.replace(/"|\\"/g,'\\"')}function eq(n){const e=n.attr__class;return e?tn(e)?e:MP(e):void 0}const rE="[SessionRecording]",iE="redacted",_0={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:n=>n,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},tq=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],nq=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],rq=["/s/","/e/","/i/"];function WR(n,e,t,r){if(It(n))return n;let i=(e==null?void 0:e["content-length"])||function(s){return new Blob([s]).size}(n);return Bn(i)&&(i=parseInt(i)),i>t?rE+` ${r} body too large to record (${i} bytes)`:n}function GR(n,e){if(It(n))return n;let t=n;return Ud(t,!1)||(t=rE+" "+e+" body "+iE),ct(nq,r=>{var i,s;(i=t)!==null&&i!==void 0&&i.length&&((s=t)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(t=rE+" "+e+" body "+iE+" as might contain: "+r)}),t}const iq=(n,e)=>{const t={payloadSizeLimitBytes:_0.payloadSizeLimitBytes,performanceEntryTypeToObserve:[..._0.performanceEntryTypeToObserve],payloadHostDenyList:[...e.payloadHostDenyList||[],..._0.payloadHostDenyList]},r=n.session_recording.recordHeaders!==!1&&e.recordHeaders,i=n.session_recording.recordBody!==!1&&e.recordBody,s=n.capture_performance!==!1&&e.recordPerformance,o=(c=>{var u;const d=Math.min(1e6,(u=c.payloadSizeLimitBytes)!==null&&u!==void 0?u:1e6);return h=>(h!=null&&h.requestBody&&(h.requestBody=WR(h.requestBody,h.requestHeaders,d,"Request")),h!=null&&h.responseBody&&(h.responseBody=WR(h.responseBody,h.responseHeaders,d,"Response")),h)})(t),a=c=>o((u=>{const d=Up(u.name);if(!(d&&d.pathname&&rq.some(h=>d.pathname.indexOf(h)===0)))return u})((u=>{const d=u.requestHeaders;return It(d)||ct(Object.keys(d??{}),h=>{tq.includes(h.toLowerCase())&&(d[h]=iE)}),u})(c))),l=gi(n.session_recording.maskNetworkRequestFn);return l&&gi(n.session_recording.maskCapturedNetworkRequestFn)&&X.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),l&&(n.session_recording.maskCapturedNetworkRequestFn=c=>{const u=n.session_recording.maskNetworkRequestFn({url:c.name});return{...c,name:u==null?void 0:u.url}}),t.maskRequestFn=gi(n.session_recording.maskCapturedNetworkRequestFn)?c=>{var u,d,h;const p=a(c);return p&&(u=(d=(h=n.session_recording).maskCapturedNetworkRequestFn)===null||d===void 0?void 0:d.call(h,p))!==null&&u!==void 0?u:void 0}:c=>function(u){if(!ye(u))return u.requestBody=GR(u.requestBody,"Request"),u.responseBody=GR(u.responseBody,"Response"),u}(a(c)),{..._0,...t,recordHeaders:r,recordBody:i,recordPerformance:s,recordInitialRequests:s}};class sq{constructor(e){G(this,"bucketSize",100);G(this,"refillRate",10);G(this,"mutationBuckets",{});G(this,"loggedTracker",{});G(this,"refillBuckets",()=>{Object.keys(this.mutationBuckets).forEach(e=>{this.mutationBuckets[e]=this.mutationBuckets[e]+this.refillRate,this.mutationBuckets[e]>=this.bucketSize&&delete this.mutationBuckets[e]})});G(this,"getNodeOrRelevantParent",e=>{const t=this.rrweb.mirror.getNode(e);if((t==null?void 0:t.nodeName)!=="svg"&&t instanceof Element){const r=t.closest("svg");if(r)return[this.rrweb.mirror.getId(r),r]}return[e,t]});G(this,"numberOfChanges",e=>{var t,r,i,s,o,a,l,c;return((t=(r=e.removes)===null||r===void 0?void 0:r.length)!==null&&t!==void 0?t:0)+((i=(s=e.attributes)===null||s===void 0?void 0:s.length)!==null&&i!==void 0?i:0)+((o=(a=e.texts)===null||a===void 0?void 0:a.length)!==null&&o!==void 0?o:0)+((l=(c=e.adds)===null||c===void 0?void 0:c.length)!==null&&l!==void 0?l:0)});G(this,"throttleMutations",e=>{if(e.type!==3||e.data.source!==0)return e;const t=e.data,r=this.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter(s=>{var o;const[a,l]=this.getNodeOrRelevantParent(s.id);if(this.mutationBuckets[a]===0)return!1;var c,u;return this.mutationBuckets[a]=(o=this.mutationBuckets[a])!==null&&o!==void 0?o:this.bucketSize,this.mutationBuckets[a]=Math.max(this.mutationBuckets[a]-1,0),this.mutationBuckets[a]===0&&(this.loggedTracker[a]||(this.loggedTracker[a]=!0,(c=(u=this.options).onBlockedNode)===null||c===void 0||c.call(u,a,l))),s}));const i=this.numberOfChanges(t);return i!==0||r===i?e:void 0});var t,r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.rrweb=e,this.options=i,this.refillRate=(t=this.options.refillRate)!==null&&t!==void 0?t:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(()=>{this.refillBuckets()},1e3)}}var wi=Uint8Array,yr=Uint16Array,rf=Uint32Array,DP=new wi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),LP=new wi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qR=new wi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),KN=function(n,e){for(var t=new yr(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];var i=new rf(t[30]);for(r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},YN=KN(DP,2),oq=YN[0],sE=YN[1];oq[28]=258,sE[258]=28;for(var KR=KN(LP,0)[1],XN=new yr(32768),vt=0;vt<32768;++vt){var $l=(43690&vt)>>>1|(21845&vt)<<1;$l=(61680&($l=(52428&$l)>>>2|(13107&$l)<<2))>>>4|(3855&$l)<<4,XN[vt]=((65280&$l)>>>8|(255&$l)<<8)>>>1}var Vp=function(n,e,t){for(var r=n.length,i=0,s=new yr(e);i<r;++i)++s[n[i]-1];var o,a=new yr(e);for(i=0;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;for(o=new yr(r),i=0;i<r;++i)o[i]=XN[a[n[i]-1]++]>>>15-n[i];return o},_u=new wi(288);for(vt=0;vt<144;++vt)_u[vt]=8;for(vt=144;vt<256;++vt)_u[vt]=9;for(vt=256;vt<280;++vt)_u[vt]=7;for(vt=280;vt<288;++vt)_u[vt]=8;var Rw=new wi(32);for(vt=0;vt<32;++vt)Rw[vt]=5;var aq=Vp(_u,9),lq=Vp(Rw,5),QN=function(n){return(n/8>>0)+(7&n&&1)},ZN=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof yr?yr:n instanceof rf?rf:wi)(t-e);return r.set(n.subarray(e,t)),r},Gs=function(n,e,t){t<<=7&e;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8},Hf=function(n,e,t){t<<=7&e;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8,n[r+2]|=t>>>16},Kb=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return[new wi(0),0];if(i==1){var o=new wi(t[0].s+1);return o[t[0].s]=1,[o,1]}t.sort(function(E,k){return E.f-k.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new yr(h+1),g=oE(t[u-1],p,0);if(g>e){r=0;var m=0,_=g-e,y=1<<_;for(s.sort(function(E,k){return p[k.s]-p[E.s]||E.f-k.f});r<i;++r){var b=s[r].s;if(!(p[b]>e))break;m+=y-(1<<g-p[b]),p[b]=e}for(m>>>=_;m>0;){var x=s[r].s;p[x]<e?m-=1<<e-p[x]++-1:++r}for(;r>=0&&m;--r){var S=s[r].s;p[S]==e&&(--p[S],++m)}g=e}return[new wi(p),g]},oE=function(n,e,t){return n.s==-1?Math.max(oE(n.l,e,t+1),oE(n.r,e,t+1)):e[n.s]=t},YR=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new yr(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return[t.subarray(0,r),e]},Wf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},aE=function(n,e,t){var r=t.length,i=QN(e+2);n[i]=255&r,n[i+1]=r>>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var s=0;s<r;++s)n[i+s+4]=t[s];return 8*(i+4+r)},XR=function(n,e,t,r,i,s,o,a,l,c,u){Gs(e,u++,t),++i[256];for(var d=Kb(i,15),h=d[0],p=d[1],g=Kb(s,15),m=g[0],_=g[1],y=YR(h),b=y[0],x=y[1],S=YR(m),E=S[0],k=S[1],R=new yr(19),T=0;T<b.length;++T)R[31&b[T]]++;for(T=0;T<E.length;++T)R[31&E[T]]++;for(var M=Kb(R,7),L=M[0],N=M[1],z=19;z>4&&!L[qR[z-1]];--z);var W,O,U,B,j=c+5<<3,D=Wf(i,_u)+Wf(s,Rw)+o,F=Wf(i,h)+Wf(s,m)+o+14+3*z+Wf(R,L)+(2*R[16]+3*R[17]+7*R[18]);if(j<=D&&j<=F)return aE(e,u,n.subarray(l,l+c));if(Gs(e,u,1+(F<D)),u+=2,F<D){W=Vp(h,p),O=h,U=Vp(m,_),B=m;var q=Vp(L,N);for(Gs(e,u,x-257),Gs(e,u+5,k-1),Gs(e,u+10,z-4),u+=14,T=0;T<z;++T)Gs(e,u+3*T,L[qR[T]]);u+=3*z;for(var ee=[b,E],J=0;J<2;++J){var le=ee[J];for(T=0;T<le.length;++T){var ae=31&le[T];Gs(e,u,q[ae]),u+=L[ae],ae>15&&(Gs(e,u,le[T]>>>5&127),u+=le[T]>>>12)}}}else W=aq,O=_u,U=lq,B=Rw;for(T=0;T<a;++T)if(r[T]>255){ae=r[T]>>>18&31,Hf(e,u,W[ae+257]),u+=O[ae+257],ae>7&&(Gs(e,u,r[T]>>>23&31),u+=DP[ae]);var xe=31&r[T];Hf(e,u,U[xe]),u+=B[xe],xe>3&&(Hf(e,u,r[T]>>>5&8191),u+=LP[xe])}else Hf(e,u,W[r[T]]),u+=O[r[T]];return Hf(e,u,W[256]),u+O[256]},cq=new rf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uq=function(){for(var n=new rf(256),e=0;e<256;++e){for(var t=e,r=9;--r;)t=(1&t&&3988292384)^t>>>1;n[e]=t}return n}(),dq=function(){var n=4294967295;return{p:function(e){for(var t=n,r=0;r<e.length;++r)t=uq[255&t^e[r]]^t>>>8;n=t},d:function(){return 4294967295^n}}},hq=function(n,e,t,r,i){return function(s,o,a,l,c,u){var d=s.length,h=new wi(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!o||d<8)for(var m=0;m<=d;m+=65535){var _=m+65535;_<d?g=aE(p,g,s.subarray(m,_)):(p[m]=u,g=aE(p,g,s.subarray(m,d)))}else{for(var y=cq[o-1],b=y>>>13,x=8191&y,S=(1<<a)-1,E=new yr(32768),k=new yr(S+1),R=Math.ceil(a/3),T=2*R,M=function(Pe){return(s[Pe]^s[Pe+1]<<R^s[Pe+2]<<T)&S},L=new rf(25e3),N=new yr(288),z=new yr(32),W=0,O=0,U=(m=0,0),B=0,j=0;m<d;++m){var D=M(m),F=32767&m,q=k[D];if(E[F]=q,k[D]=F,B<=m){var ee=d-m;if((W>7e3||U>24576)&&ee>423){g=XR(s,p,0,L,N,z,O,U,j,m-j,g),U=W=O=0,j=m;for(var J=0;J<286;++J)N[J]=0;for(J=0;J<30;++J)z[J]=0}var le=2,ae=0,xe=x,ne=F-q&32767;if(ee>2&&D==M(m-ne))for(var Q=Math.min(b,ee)-1,me=Math.min(32767,m),Y=Math.min(258,ee);ne<=me&&--xe&&F!=q;){if(s[m+le]==s[m+le-ne]){for(var K=0;K<Y&&s[m+K]==s[m+K-ne];++K);if(K>le){if(le=K,ae=ne,K>Q)break;var he=Math.min(ne,K-2),te=0;for(J=0;J<he;++J){var H=m-ne+J+32768&32767,V=H-E[H]+32768&32767;V>te&&(te=V,q=H)}}}ne+=(F=q)-(q=E[F])+32768&32767}if(ae){L[U++]=268435456|sE[le]<<18|KR[ae];var re=31&sE[le],ve=31&KR[ae];O+=DP[re]+LP[ve],++N[257+re],++z[ve],B=m+le,++W}else L[U++]=s[m],++N[s[m]]}}g=XR(s,p,u,L,N,z,O,U,j,m-j,g)}return ZN(h,0,l+QN(g)+c)}(n,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):12+e.mem,t,r,!i)},lE=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},fq=function(n,e){var t=e.filename;if(n[0]=31,n[1]=139,n[2]=8,n[8]=e.level<2?4:e.level==9?2:0,n[9]=3,e.mtime!=0&&lE(n,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){n[3]=8;for(var r=0;r<=t.length;++r)n[r+10]=t.charCodeAt(r)}},pq=function(n){return 10+(n.filename&&n.filename.length+1||0)};function JN(n,e){e===void 0&&(e={});var t=dq(),r=n.length;t.p(n);var i=hq(n,e,pq(e),8),s=i.length;return fq(i,e),lE(i,s-8,t.d()),lE(i,s-4,r),i}function eF(n,e){var t=n.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(n);for(var r=new wi(n.length+(n.length>>>1)),i=0,s=function(c){r[i++]=c},o=0;o<t;++o){if(i+5>r.length){var a=new wi(i+8+(t-o<<1));a.set(r),r=a}var l=n.charCodeAt(o);l<128||e?s(l):l<2048?(s(192|l>>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++o))>>>18),s(128|l>>>12&63),s(128|l>>>6&63),s(128|63&l)):(s(224|l>>>12),s(128|l>>>6&63),s(128|63&l))}return ZN(r,0,i)}const gq=3e5,mq=[Di.MouseMove,Di.MouseInteraction,Di.Scroll,Di.ViewportResize,Di.Input,Di.TouchMove,Di.MediaInteraction,Di.Drag],vq=["trigger_activated","trigger_pending","trigger_disabled"],QR=n=>({rrwebMethod:n,enqueuedAt:Date.now(),attempt:1}),Wn="[SessionRecording]";function Bl(n){return function(e,t){for(var r="",i=0;i<e.length;){var s=e[i++];s<128||t?r+=String.fromCharCode(s):s<224?r+=String.fromCharCode((31&s)<<6|63&e[i++]):s<240?r+=String.fromCharCode((15&s)<<12|(63&e[i++])<<6|63&e[i++]):(s=((15&s)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536,r+=String.fromCharCode(55296|s>>10,56320|1023&s))}return r}(JN(eF(JSON.stringify(n))),!0)}function ZR(n){return n.type===_a.Custom&&n.data.tag==="sessionIdle"}class yq{constructor(e){G(this,"queuedRRWebEvents",[]);G(this,"isIdle",!1);G(this,"_linkedFlagSeen",!1);G(this,"_lastActivityTimestamp",Date.now());G(this,"_linkedFlag",null);G(this,"_removePageViewCaptureHook");G(this,"_onSessionIdListener");G(this,"_persistDecideOnSessionListener");G(this,"_samplingSessionListener");G(this,"_urlTriggers",[]);G(this,"_forceAllowLocalhostNetworkCapture",!1);G(this,"_onBeforeUnload",()=>{this._flushBuffer()});G(this,"_onOffline",()=>{this._tryAddCustomEvent("browser offline",{})});G(this,"_onOnline",()=>{this._tryAddCustomEvent("browser online",{})});G(this,"_onVisibilityChange",()=>{if(pe!=null&&pe.visibilityState){const e="window "+pe.visibilityState;this._tryAddCustomEvent(e,{})}});if(this.instance=e,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw X.error(Wn+" started without valid sessionManager"),new Error(Wn+" started without valid sessionManager. This is a bug.");const{sessionId:t,windowId:r}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=t,this.windowId=r,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&X.warn(Wn+` session_idle_threshold_ms (${this.sessionIdleThresholdMilliseconds}) is greater than the session timeout (${this.sessionManager.sessionTimeoutMs}). Session will never be detected as idle`)}get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get rrwebRecord(){var e,t;return Ie==null||(e=Ie.__PosthogExtensions__)===null||e===void 0||(t=e.rrweb)===null||t===void 0?void 0:t.record}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error(Wn+" must be started with a valid sessionManager.");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var e,t;return this.urlTriggerStatus==="trigger_pending"?6e4:(e=(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.full_snapshot_interval_millis)!==null&&e!==void 0?e:gq}get isSampled(){const e=this.instance.get_property(ap);return cc(e)?e:null}get sessionDuration(){var e,t;const r=(e=this.buffer)===null||e===void 0?void 0:e.data[((t=this.buffer)===null||t===void 0?void 0:t.data.length)-1],{sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-i:null}get isRecordingEnabled(){const e=!!this.instance.get_property(VS),t=!this.instance.config.disable_session_recording;return $&&e&&t}get isConsoleLogCaptureEnabled(){const e=!!this.instance.get_property(TR),t=this.instance.config.enable_recording_console_log;return t??e}get canvasRecording(){const e=this.instance.get_property(RR);return e&&e.fps&&e.quality?{enabled:e.enabled,fps:e.fps,quality:e.quality}:void 0}get networkPayloadCapture(){var e,t;const r=this.instance.get_property(kR),i={recordHeaders:(e=this.instance.config.session_recording)===null||e===void 0?void 0:e.recordHeaders,recordBody:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=Ut(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,l=!!(cc(a)?a:r!=null&&r.capturePerformance);return s||o||l?{recordHeaders:s,recordBody:o,recordPerformance:l}:void 0}get sampleRate(){const e=this.instance.get_property(MR);return zr(e)?e:null}get minimumDuration(){const e=this.instance.get_property(DR);return zr(e)?e:null}get status(){return this.receivedDecide?this.isRecordingEnabled?It(this._linkedFlag)||this._linkedFlagSeen?this.urlTriggerStatus==="trigger_pending"?"buffering":cc(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}get urlTriggerStatus(){var e,t;if(this.receivedDecide&&this._urlTriggers.length===0)return"trigger_disabled";const r=(e=this.instance)===null||e===void 0?void 0:e.get_property(p0);var i,s,o,a;return((t=this.instance)===null||t===void 0?void 0:t.get_property(f0))!==this.sessionId?((i=this.instance)===null||i===void 0||(s=i.persistence)===null||s===void 0||s.unregister(f0),(o=this.instance)===null||o===void 0||(a=o.persistence)===null||a===void 0||a.unregister(p0),"trigger_pending"):vq.includes(r)?r:"trigger_pending"}set urlTriggerStatus(e){var t,r;(t=this.instance)===null||t===void 0||(r=t.persistence)===null||r===void 0||r.register({[f0]:this.sessionId,[p0]:e})}startIfEnabledOrStop(e){this.isRecordingEnabled?(this._startCapture(e),$==null||$.addEventListener("beforeunload",this._onBeforeUnload),$==null||$.addEventListener("offline",this._onOffline),$==null||$.addEventListener("online",this._onOnline),$==null||$.addEventListener("visibilitychange",this._onVisibilityChange),this._setupSampling(),It(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance._addCaptureHook(t=>{try{if(t==="$pageview"){const r=$?this._maskUrl($.location.href):"";if(!r)return;this._tryAddCustomEvent("$pageview",{href:r})}}catch(r){X.error("Could not add $pageview to rrweb session",r)}})),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId((t,r,i)=>{var s,o,a,l;i&&(this._tryAddCustomEvent("$session_id_change",{sessionId:t,windowId:r,changeReason:i}),(s=this.instance)===null||s===void 0||(o=s.persistence)===null||o===void 0||o.unregister(f0),(a=this.instance)===null||a===void 0||(l=a.persistence)===null||l===void 0||l.unregister(p0))}))):this.stopRecording()}stopRecording(){var e,t,r;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,$==null||$.removeEventListener("beforeunload",this._onBeforeUnload),$==null||$.removeEventListener("offline",this._onOffline),$==null||$.removeEventListener("online",this._onOnline),$==null||$.removeEventListener("visibilitychange",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),(e=this._removePageViewCaptureHook)===null||e===void 0||e.call(this),this._removePageViewCaptureHook=void 0,(t=this._onSessionIdListener)===null||t===void 0||t.call(this),this._onSessionIdListener=void 0,(r=this._samplingSessionListener)===null||r===void 0||r.call(this),this._samplingSessionListener=void 0,X.info(Wn+" stopped"))}makeSamplingDecision(e){var t;const r=this.sessionId!==e,i=this.sampleRate;var s;if(!zr(i))return void((s=this.instance.persistence)===null||s===void 0||s.register({[ap]:null}));const o=this.isSampled;let a;const l=r||!cc(o);l?a=Math.random()<i:a=o,l&&(a?this._reportStarted("sampling"):X.warn(Wn+` Sample rate (${i}) has determined that this sessionId (${e}) will not be sent to the server.`),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i,isSampled:a})),(t=this.instance.persistence)===null||t===void 0||t.register({[ap]:a})}afterDecideResponse(e){var t,r,i,s;if(this._persistDecideResponse(e),this._linkedFlag=((t=e.sessionRecording)===null||t===void 0?void 0:t.linkedFlag)||null,(r=e.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(s=e.sessionRecording)===null||s===void 0?void 0:s.endpoint),this._setupSampling(),!It(this._linkedFlag)&&!this._linkedFlagSeen){const o=Bn(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=Bn(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags((l,c)=>{const u=Ut(c)&&o in c,d=a?c[o]===a:u;if(d){const h={linkedFlag:o,linkedVariant:a},p="linked flag matched";X.info(Wn+" "+p,h),this._tryAddCustomEvent(p,h),this._reportStarted("linked_flag_match")}this._linkedFlagSeen=d})}(i=e.sessionRecording)!==null&&i!==void 0&&i.urlTriggers&&(this._urlTriggers=e.sessionRecording.urlTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){zr(this.sampleRate)&&It(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(e=>{this.makeSamplingDecision(e)}))}_persistDecideResponse(e){if(this.instance.persistence){var t;const r=this.instance.persistence,i=()=>{var s,o,a,l,c,u,d;const h=(s=e.sessionRecording)===null||s===void 0?void 0:s.sampleRate,p=It(h)?null:parseFloat(h),g=(o=e.sessionRecording)===null||o===void 0?void 0:o.minimumDurationMilliseconds;r.register({[VS]:!!e.sessionRecording,[TR]:(a=e.sessionRecording)===null||a===void 0?void 0:a.consoleLogRecordingEnabled,[kR]:{capturePerformance:e.capturePerformance,...(l=e.sessionRecording)===null||l===void 0?void 0:l.networkPayloadCapture},[RR]:{enabled:(c=e.sessionRecording)===null||c===void 0?void 0:c.recordCanvas,fps:(u=e.sessionRecording)===null||u===void 0?void 0:u.canvasFps,quality:(d=e.sessionRecording)===null||d===void 0?void 0:d.canvasQuality},[MR]:p,[DR]:ye(g)?null:g})};i(),(t=this._persistDecideOnSessionListener)===null||t===void 0||t.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(i)}}log(e){var t;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(t=this.instance.sessionRecording)===null||t===void 0||t.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}_startCapture(e){if(!ye(Object.assign)&&!ye(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var t,r;this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():(t=Ie.__PosthogExtensions__)===null||t===void 0||(r=t.loadExternalDependency)===null||r===void 0||r.call(t,this.instance,"recorder",i=>{if(i)return X.error(Wn+" could not load recorder",i);this._onScriptLoaded()}),X.info(Wn+" starting"),this.status==="active"&&this._reportStarted(e||"recording_initialized")}}isInteractiveEvent(e){var t;return e.type===3&&mq.indexOf((t=e.data)===null||t===void 0?void 0:t.source)!==-1}_updateWindowAndSessionIds(e){const t=this.isInteractiveEvent(e);!t&&!this.isIdle&&e.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());let r=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),r=!0)),this.isIdle)return;const{windowId:i,sessionId:s}=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),o=this.sessionId!==s,a=this.windowId!==i;this.windowId=i,this.sessionId=s,o||a?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this._scheduleFullSnapshot()}_tryRRWebMethod(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):X.warn(Wn+" could not emit queued rrweb event.",t,e),!1}}_tryAddCustomEvent(e,t){return this._tryRRWebMethod(QR(()=>this.rrwebRecord.addCustomEvent(e,t)))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(QR(()=>this.rrwebRecord.takeFullSnapshot()))}_onScriptLoaded(){var e;const t={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},r=this.instance.config.session_recording;for(const[s,o]of Object.entries(r||{}))s in t&&(s==="maskInputOptions"?t.maskInputOptions={password:!0,...o}:t[s]=o);if(this.canvasRecording&&this.canvasRecording.enabled&&(t.recordCanvas=!0,t.sampling={canvas:this.canvasRecording.fps},t.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),!this.rrwebRecord)return void X.error(Wn+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.");this.mutationRateLimiter=(e=this.mutationRateLimiter)!==null&&e!==void 0?e:new sq(this.rrwebRecord,{onBlockedNode:(s,o)=>{const a=`Too many mutations on node '${s}'. Rate limiting. This could be due to SVG animations or something similar`;X.info(a,{node:o}),this.log(Wn+" "+a,"warn")}});const i=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord({emit:s=>{this.onRRwebEmit(s)},plugins:i,...t}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:t,activePlugins:i.map(s=>s==null?void 0:s.name)}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this.isIdle)return;const e=this.fullSnapshotIntervalMillis;e&&(this._fullSnapshotTimer=setInterval(()=>{this._tryTakeFullSnapshot()},e))}_gatherRRWebPlugins(){var e,t,r,i;const s=[],o=(e=Ie.__PosthogExtensions__)===null||e===void 0||(t=e.rrwebPlugins)===null||t===void 0?void 0:t.getRecordConsolePlugin;o&&this.isConsoleLogCaptureEnabled&&s.push(o());const a=(r=Ie.__PosthogExtensions__)===null||r===void 0||(i=r.rrwebPlugins)===null||i===void 0?void 0:i.getRecordNetworkPlugin;return this.networkPayloadCapture&&gi(a)&&(!OG.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(a(iq(this.instance.config,this.networkPayloadCapture))):X.info(Wn+" NetworkCapture not started because we are on localhost.")),s}onRRwebEmit(e){var t;if(this._processQueuedEvents(),!e||!Ut(e))return;if(e.type===_a.Meta){const a=this._maskUrl(e.data.href);if(this._lastHref=a,!a)return;e.data.href=a}else this._pageViewFallBack();this._checkUrlTrigger(),e.type===_a.FullSnapshot&&this._scheduleFullSnapshot(),e.type===_a.FullSnapshot&&this.urlTriggerStatus==="trigger_pending"&&this.clearBuffer();const r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(!r)return;const i=function(a){const l=a;if(l&&Ut(l)&&l.type===6&&Ut(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));const c=[];for(let u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r);if(this._updateWindowAndSessionIds(i),this.isIdle&&!ZR(i))return;if(ZR(i)){const a=i.data.payload;if(a){const l=a.lastActivityTimestamp,c=a.threshold;i.timestamp=l+c}}const s=(t=this.instance.config.session_recording.compress_events)===null||t===void 0||t?function(a){if(Pw(a)<1024)return a;try{if(a.type===_a.FullSnapshot)return{...a,data:Bl(a.data),cv:"2024-10"};if(a.type===_a.IncrementalSnapshot&&a.data.source===Di.Mutation)return{...a,cv:"2024-10",data:{...a.data,texts:Bl(a.data.texts),attributes:Bl(a.data.attributes),removes:Bl(a.data.removes),adds:Bl(a.data.adds)}};if(a.type===_a.IncrementalSnapshot&&a.data.source===Di.StyleSheetRule)return{...a,cv:"2024-10",data:{...a.data,adds:Bl(a.data.adds),removes:Bl(a.data.removes)}}}catch(l){X.error(Wn+" could not compress event - will use uncompressed event",l)}return a}(i):i,o={$snapshot_bytes:Pw(s),$snapshot_data:s,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(o):this.clearBuffer()}_pageViewFallBack(){if(this.instance.config.capture_pageview||!$)return;const e=this._maskUrl($.location.href);this._lastHref!==e&&(this._tryAddCustomEvent("$url_changed",{href:e}),this._lastHref=e)}_processQueuedEvents(){if(this.queuedRRWebEvents.length){const e=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],e.forEach(t=>{Date.now()-t.enqueuedAt<=2e3&&this._tryRRWebMethod(t)})}}_maskUrl(e){const t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var r;let i={url:e};return i=t.maskNetworkRequestFn(i),(r=i)===null||r===void 0?void 0:r.url}return e}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);const e=this.minimumDuration,t=this.sessionDuration,r=zr(t)&&t>=0,i=zr(e)&&r&&t<e;return this.status==="buffering"||i?(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3),this.buffer):(this.buffer.data.length>0&&eE(this.buffer).forEach(s=>{this._captureSnapshot({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId})}),this.clearBuffer())}_captureSnapshotBuffered(e){var t;const r=2+(((t=this.buffer)===null||t===void 0?void 0:t.data.length)||0);!this.isIdle&&(this.buffer.size+e.$snapshot_bytes+r>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3))}_captureSnapshot(e){this.instance.capture("$snapshot",e,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}_checkUrlTrigger(){if($===void 0||!$.location.href)return;const e=$.location.href;this._urlTriggers.some(t=>t.matching==="regex"&&new RegExp(t.url).test(e))&&this._activateUrlTrigger()}_activateUrlTrigger(){this.urlTriggerStatus==="trigger_pending"&&(this.urlTriggerStatus="trigger_activated",this._tryAddCustomEvent("url trigger activated",{}),this._flushBuffer(),X.info(Wn+" recording triggered by URL pattern match"))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._reportStarted("linked_flag_override")}overrideSampling(){var e;(e=this.instance.persistence)===null||e===void 0||e.register({[ap]:!0}),this._reportStarted("sampling_override")}_reportStarted(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>!0)()&&this.instance.register_for_session({$session_recording_start_reason:e})}}class wq{constructor(e){this.instance=e,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}call(){const e={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(bd),group_properties:this.instance.get_property(wa),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:e,compression:this.instance.config.disable_compression?void 0:Zi.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:t=>this.parseDecideResponse(t.json)})}parseDecideResponse(e){this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();const t=!e;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(e??{},t),t)X.error("Failed to fetch feature flags from PostHog.");else{if(!pe||!pe.body)return X.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.parseDecideResponse(e)},500);if(this.instance._afterDecideResponse(e),e.siteApps)if(this.instance.config.opt_in_site_apps)for(const{id:o,url:a}of e.siteApps){var r,i,s;Ie[`__$$ph_site_app_${o}`]=this.instance,(r=Ie.__PosthogExtensions__)===null||r===void 0||(i=(s=r).loadSiteApp)===null||i===void 0||i.call(s,this.instance,a,l=>{if(l)return X.error(`Error while initializing PostHog app with config id ${o}`,l)})}else e.siteApps.length>0&&X.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}const _q=$!=null&&$.location?Cw($.location.hash,"__posthog")||Cw(location.hash,"state"):null,JR="_postHogToolbarParams";var Zs;(function(n){n[n.UNINITIALIZED=0]="UNINITIALIZED",n[n.LOADING=1]="LOADING",n[n.LOADED=2]="LOADED"})(Zs||(Zs={}));class bq{constructor(e){this.instance=e}setToolbarState(e){Ie.ph_toolbar_state=e}getToolbarState(){var e;return(e=Ie.ph_toolbar_state)!==null&&e!==void 0?e:Zs.UNINITIALIZED}maybeLoadToolbar(){var e,t;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!$||!pe)return!1;r=(e=r)!==null&&e!==void 0?e:$.location,s=(t=s)!==null&&t!==void 0?t:$.history;try{if(!i){try{$.localStorage.setItem("test","test"),$.localStorage.removeItem("test")}catch{return!1}i=$==null?void 0:$.localStorage}const o=_q||Cw(r.hash,"__posthog")||Cw(r.hash,"state");let a;const l=o?xR(()=>JSON.parse(atob(decodeURIComponent(o))))||xR(()=>JSON.parse(decodeURIComponent(o))):null;return l&&l.action==="ph_authorize"?(a=l,a.source="url",a&&Object.keys(a).length>0&&(l.desiredHash?r.hash=l.desiredHash:s?s.replaceState(s.state,"",r.pathname+r.search):r.hash="")):(a=JSON.parse(i.getItem(JR)||"{}"),a.source="localstorage",delete a.userIntent),!(!a.token||this.instance.config.token!==a.token)&&(this.loadToolbar(a),!0)}catch{return!1}}_callLoadToolbar(e){(Ie.ph_load_toolbar||Ie.ph_load_editor)(e,this.instance)}loadToolbar(e){const t=!(pe==null||!pe.getElementById(XS));if(!$||t)return!1;const r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i={token:this.instance.config.token,...e,apiURL:this.instance.requestRouter.endpointFor("ui"),...r?{instrument:!1}:{}};if($.localStorage.setItem(JR,JSON.stringify({...i,source:void 0})),this.getToolbarState()===Zs.LOADED)this._callLoadToolbar(i);else if(this.getToolbarState()===Zs.UNINITIALIZED){var s,o;this.setToolbarState(Zs.LOADING),(s=Ie.__PosthogExtensions__)===null||s===void 0||(o=s.loadExternalDependency)===null||o===void 0||o.call(s,this.instance,"toolbar",a=>{if(a)return X.error("Failed to load toolbar",a),void this.setToolbarState(Zs.UNINITIALIZED);this.setToolbarState(Zs.LOADED),this._callLoadToolbar(i)}),ko($,"turbolinks:load",()=>{this.setToolbarState(Zs.UNINITIALIZED),this.loadToolbar(i)})}return!0}_loadEditor(e){return this.loadToolbar(e)}maybeLoadEditor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,r)}}class xq{constructor(e){G(this,"isPaused",!0);G(this,"queue",[]);G(this,"flushTimeoutMs",3e3);this.sendRequest=e}enqueue(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();const e=this.queue.length>0?this.formatQueue():{},t=Object.values(e);[...t.filter(r=>r.url.indexOf("/e")===0),...t.filter(r=>r.url.indexOf("/e")!==0)].map(r=>{this.sendRequest({...r,transport:"sendBeacon"})})}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){this.isPaused||(this.flushTimeout=setTimeout(()=>{if(this.clearFlushTimeout(),this.queue.length>0){const e=this.formatQueue();for(const t in e){const r=e[t],i=new Date().getTime();r.data&&tn(r.data)&&ct(r.data,s=>{s.offset=Math.abs(s.timestamp-i),delete s.timestamp}),this.sendRequest(r)}}},this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){const e={};return ct(this.queue,t=>{var r;const i=t,s=(i?i.batchKey:null)||i.url;ye(e[s])&&(e[s]={...i,data:[]}),(r=e[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],e}}const Sq=!!AP||!!CP,eM="text/plain",Mw=(n,e)=>{const[t,r]=n.split("?"),i={...e};r==null||r.split("&").forEach(o=>{const[a]=o.split("=");delete i[a]});let s=NG(i);return s=s?(r?r+"&":"")+s:r,`${t}?${s}`},IP=n=>{let{data:e,compression:t}=n;if(!e)return;if(t===Zi.GZipJS){const i=JN(eF(JSON.stringify(e)),{mtime:0}),s=new Blob([i],{type:eM});return{contentType:eM,body:s,estimatedSize:s.size}}if(t===Zi.Base64){const i=function(o){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let l,c,u,d,h,p,g,m,_=0,y=0,b="";const x=[];if(!o)return o;o=SG(o);do l=o.charCodeAt(_++),c=o.charCodeAt(_++),u=o.charCodeAt(_++),m=l<<16|c<<8|u,d=m>>18&63,h=m>>12&63,p=m>>6&63,g=63&m,x[y++]=a.charAt(d)+a.charAt(h)+a.charAt(p)+a.charAt(g);while(_<o.length);switch(b=x.join(""),o.length%3){case 1:b=b.slice(0,-2)+"==";break;case 2:b=b.slice(0,-1)+"="}return b}(JSON.stringify(e)),s=(o=>"data="+encodeURIComponent(typeof o=="string"?o:JSON.stringify(o)))(i);return{contentType:"application/x-www-form-urlencoded",body:s,estimatedSize:new Blob([s]).size}}const r=JSON.stringify(e);return{contentType:"application/json",body:r,estimatedSize:new Blob([r]).size}},Eq=n=>{var e;const t=new AP;t.open(n.method||"GET",n.url,!0);const{contentType:r,body:i}=(e=IP(n))!==null&&e!==void 0?e:{};ct(n.headers,function(s,o){t.setRequestHeader(o,s)}),r&&t.setRequestHeader("Content-Type",r),n.timeout&&(t.timeout=n.timeout),t.withCredentials=!0,t.onreadystatechange=()=>{if(t.readyState===4){var s;const o={statusCode:t.status,text:t.responseText};if(t.status===200)try{o.json=JSON.parse(t.responseText)}catch{}(s=n.callback)===null||s===void 0||s.call(n,o)}},t.send(i)},Cq=n=>{var e,t;const{contentType:r,body:i,estimatedSize:s}=(e=IP(n))!==null&&e!==void 0?e:{},o=new Headers;ct(n.headers,function(c,u){o.append(u,c)}),r&&o.append("Content-Type",r);const a=n.url;let l=null;if(yR){const c=new yR;l={signal:c.signal,timeout:setTimeout(()=>c.abort(),n.timeout)}}CP(a,{method:(n==null?void 0:n.method)||"GET",headers:o,keepalive:n.method==="POST"&&(s||0)<65536,body:i,signal:(t=l)===null||t===void 0?void 0:t.signal}).then(c=>c.text().then(u=>{var d;const h={statusCode:c.status,text:u};if(c.status===200)try{h.json=JSON.parse(u)}catch(p){X.error(p)}(d=n.callback)===null||d===void 0||d.call(n,h)})).catch(c=>{var u;X.error(c),(u=n.callback)===null||u===void 0||u.call(n,{statusCode:0,text:c})}).finally(()=>l?clearTimeout(l.timeout):null)},Aq=n=>{const e=Mw(n.url,{beacon:"1"});try{var t;const{contentType:r,body:i}=(t=IP(n))!==null&&t!==void 0?t:{},s=typeof i=="string"?new Blob([i],{type:r}):i;Gr.sendBeacon(e,s)}catch{}},Hp=[];AP&&Hp.push({transport:"XHR",method:Eq}),CP&&Hp.push({transport:"fetch",method:Cq}),Gr!=null&&Gr.sendBeacon&&Hp.push({transport:"sendBeacon",method:Aq});class Pq{constructor(e){G(this,"isPolling",!1);G(this,"pollIntervalMs",3e3);G(this,"queue",[]);this.instance=e,this.queue=[],this.areWeOnline=!0,!ye($)&&"onLine"in $.navigator&&(this.areWeOnline=$.navigator.onLine,$.addEventListener("online",()=>{this.areWeOnline=!0,this.flush()}),$.addEventListener("offline",()=>{this.areWeOnline=!1}))}retriableRequest(e){let{retriesPerformedSoFar:t,...r}=e;zr(t)&&t>0&&(r.url=Mw(r.url,{retry_count:t})),this.instance._send_request({...r,callback:i=>{var s;i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(t??0)<10?this.enqueue({retriesPerformedSoFar:t,...r}):(s=r.callback)===null||s===void 0||s.call(r,i)}})}enqueue(e){const t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;const r=function(o){const a=3e3*2**o,l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(t),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:e});let s=`Enqueued failed request for retry in ${r}`;navigator.onLine||(s+=" (Browser is offline)"),X.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout(()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()},this.pollIntervalMs)}flush(){const e=Date.now(),t=[],r=this.queue.filter(i=>i.retryAt<e||(t.push(i),!1));if(this.queue=t,r.length>0)for(const{requestOptions:i}of r)this.retriableRequest(i)}unload(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);for(const{requestOptions:e}of this.queue)try{this.instance._send_request({...e,transport:"sendBeacon"})}catch(t){X.error(t)}this.queue=[]}}const b0=1800;class Tq{constructor(e,t,r,i){G(this,"_sessionIdChangedHandlers",[]);var s;this.config=e,this.persistence=t,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||Ya,this._windowIdGenerator=i||Ya;const o=e.persistence_name||e.token;let a=e.session_idle_timeout_seconds||b0;if(zr(a)?a>b0?X.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):a<60&&X.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(X.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),a=b0),this._sessionTimeoutMs=1e3*Math.min(Math.max(a,60),b0),this._window_id_storage_key="ph_"+o+"_window_id",this._primary_window_exists_storage_key="ph_"+o+"_primary_window_exists",this._canUseSessionStorage()){const l=En.parse(this._window_id_storage_key),c=En.parse(this._primary_window_exists_storage_key);l&&!c?this._windowId=l:En.remove(this._window_id_storage_key),En.set(this._primary_window_exists_storage_key,!0)}if((s=this.config.bootstrap)!==null&&s!==void 0&&s.sessionID)try{const l=(c=>{const u=c.replace(/-/g,"");if(u.length!==32)throw new Error("Not a valid UUID");if(u[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(u.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,new Date().getTime(),l)}catch(l){X.error("Invalid sessionID in bootstrap",l)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return ye(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter(t=>t!==e)}}_canUseSessionStorage(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&En.is_supported()}_setWindowId(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&En.set(this._window_id_storage_key,e))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?En.parse(this._window_id_storage_key):null}_setSessionId(e,t,r){e===this._sessionId&&t===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register({[_w]:[t,e,r]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];const e=this.persistence.props[_w];return tn(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){$==null||$.addEventListener("beforeunload",()=>{this._canUseSessionStorage()&&En.remove(this._primary_window_exists_storage_key)})}checkAndGetSessionAndWindowId(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];const t=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime();let[r,i,s]=this._getSessionId(),o=this._getWindowId();const a=zr(s)&&s>0&&Math.abs(t-s)>864e5;let l=!1;const c=!i,u=!e&&Math.abs(t-r)>this.sessionTimeoutMs;c||u||a?(i=this._sessionIdGenerator(),o=this._windowIdGenerator(),X.info("[SessionId] new session ID generated",{sessionId:i,windowId:o,changeReason:{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:a}}),s=t,l=!0):o||(o=this._windowIdGenerator(),l=!0);const d=r===0||!e||a?t:r,h=s===0?new Date().getTime():s;return this._setWindowId(o),this._setSessionId(i,d,h),l&&this._sessionIdChangedHandlers.forEach(p=>p(i,o,l?{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:a}:void 0)),{sessionId:i,windowId:o,sessionStartTimestamp:h,changeReason:l?{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:a}:void 0}}}let uc;(function(n){n.US="us",n.EU="eu",n.CUSTOM="custom"})(uc||(uc={}));const tM="i.posthog.com";class kq{constructor(e){G(this,"_regionCache",{});this.instance=e}get apiHost(){const e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get uiHost(){var e;let t=(e=this.instance.config.ui_host)===null||e===void 0?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace(`.${tM}`,".posthog.com")),t==="https://app.posthog.com"?"https://us.posthog.com":t}get region(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=uc.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=uc.EU:this._regionCache[this.apiHost]=uc.CUSTOM),this._regionCache[this.apiHost]}endpointFor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t&&(t=t[0]==="/"?t:`/${t}`),e==="ui")return this.uiHost+t;if(this.region===uc.CUSTOM)return this.apiHost+t;const r=tM+t;switch(e){case"assets":return`https://${this.region}-assets.${r}`;case"api":return`https://${this.region}.${r}`}}}const tF="posthog-js";function nF(n){let{organization:e,projectId:t,prefix:r,severityAllowList:i=["error"]}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s=>{var o,a,l,c,u;if(!(i==="*"||i.includes(s.level))||!n.__loaded)return s;s.tags||(s.tags={});const d=n.requestRouter.endpointFor("ui",`/project/${n.config.token}/person/${n.get_distinct_id()}`);s.tags["PostHog Person URL"]=d,n.sessionRecordingStarted()&&(s.tags["PostHog Recording URL"]=n.get_session_replay_url({withTimestamp:!0}));const h=((o=s.exception)===null||o===void 0?void 0:o.values)||[],p={$exception_message:((a=h[0])===null||a===void 0?void 0:a.value)||s.message,$exception_type:(l=h[0])===null||l===void 0?void 0:l.type,$exception_personURL:d,$exception_level:s.level,$exception_list:h,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:((c=h[0])===null||c===void 0?void 0:c.value)||s.message,$sentry_exception_type:(u=h[0])===null||u===void 0?void 0:u.type,$sentry_tags:s.tags,$level:s.level};return e&&t&&(p.$sentry_url=(r||"https://sentry.io/organizations/")+e+"/issues/?project="+t+"&query="+s.event_id),n.exceptions.sendExceptionEvent(p),s}}class Rq{constructor(e,t,r,i,s){this.name=tF,this.setupOnce=function(o){o(nF(e,{organization:t,projectId:r,prefix:i,severityAllowList:s}))}}}function Mq(n,e){const t=n.config.segment;if(!t)return e();(function(r,i){const s=r.config.segment;if(!s)return i();const o=l=>{const c=()=>l.anonymousId()||Ya();r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(Qs,"identified")),i()},a=s.user();"then"in a&&gi(a.then)?a.then(l=>o(l)):o(a)})(n,()=>{t.register((r=>{Promise&&Promise.resolve||X.warn("This browser does not have Promise support, and can not use the segment integration");const i=(s,o)=>{var a;if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||(X.info("Segment integration does not have a userId set, resetting PostHog"),r.reset()),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(X.info("Segment integration has a userId set, identifying with PostHog"),r.identify(s.event.userId));const l=r._calculate_event_properties(o,(a=s.event.properties)!==null&&a!==void 0?a:{},new Date);return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(n)).then(()=>{e()})})}class Dq{constructor(e){this._instance=e}doPageView(e){var t;const r=this._previousPageViewProperties(e);return this._currentPath=(t=$==null?void 0:$.location.pathname)!==null&&t!==void 0?t:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=e,r}doPageLeave(e){return this._previousPageViewProperties(e)}_previousPageViewProperties(e){const t=this._currentPath,r=this._prevPageviewTimestamp,i=this._instance.scrollManager.getContext();if(!r)return{};let s={};if(i){let{maxScrollHeight:o,lastScrollY:a,maxScrollY:l,maxContentHeight:c,lastContentY:u,maxContentY:d}=i;ye(o)||ye(a)||ye(l)||ye(c)||ye(u)||ye(d)||(o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),s={$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:o<=1?1:x0(a/o,0,1),$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:o<=1?1:x0(l/o,0,1),$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:c<=1?1:x0(u/c,0,1),$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:c<=1?1:x0(d/c,0,1)})}return t&&(s.$prev_pageview_pathname=t),r&&(s.$prev_pageview_duration=(e.getTime()-r.getTime())/1e3),s}}function x0(n,e,t){return Math.max(e,Math.min(n,t))}let nM,Dw,Ti;(function(n){n.Popover="popover",n.API="api",n.Widget="widget"})(nM||(nM={})),function(n){n.Open="open",n.MultipleChoice="multiple_choice",n.SingleChoice="single_choice",n.Rating="rating",n.Link="link"}(Dw||(Dw={})),function(n){n.NextQuestion="next_question",n.End="end",n.ResponseBased="response_based",n.SpecificQuestion="specific_question"}(Ti||(Ti={}));class rF{constructor(){G(this,"events",{});this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.events[e]=this.events[e].filter(r=>r!==t)}}emit(e,t){for(const r of this.events[e]||[])r(t);for(const r of this.events["*"]||[])r(e,t)}}class ec{constructor(e){G(this,"_debugEventEmitter",new rF);G(this,"checkStep",(e,t)=>this.checkStepEvent(e,t)&&this.checkStepUrl(e,t)&&this.checkStepElement(e,t));G(this,"checkStepEvent",(e,t)=>t==null||!t.event||(e==null?void 0:e.event)===(t==null?void 0:t.event));this.instance=e,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var e;if(!ye((e=this.instance)===null||e===void 0?void 0:e._addCaptureHook)){var t;const r=(i,s)=>{this.on(i,s)};(t=this.instance)===null||t===void 0||t._addCaptureHook(r)}}register(e){var t,r;if(!ye((t=this.instance)===null||t===void 0?void 0:t._addCaptureHook)&&(e.forEach(s=>{var o,a;(o=this.actionRegistry)===null||o===void 0||o.add(s),(a=s.steps)===null||a===void 0||a.forEach(l=>{var c;(c=this.actionEvents)===null||c===void 0||c.add((l==null?void 0:l.event)||"")})}),(r=this.instance)!==null&&r!==void 0&&r.autocapture)){var i;const s=new Set;e.forEach(o=>{var a;(a=o.steps)===null||a===void 0||a.forEach(l=>{l!=null&&l.selector&&s.add(l==null?void 0:l.selector)})}),(i=this.instance)===null||i===void 0||i.autocapture.setElementSelectors(s)}}on(e,t){var r;t!=null&&e.length!=0&&(this.actionEvents.has(e)||this.actionEvents.has(t==null?void 0:t.event))&&this.actionRegistry&&((r=this.actionRegistry)===null||r===void 0?void 0:r.size)>0&&this.actionRegistry.forEach(i=>{this.checkAction(t,i)&&this._debugEventEmitter.emit("actionCaptured",i.name)})}_addActionHook(e){this.onAction("actionCaptured",t=>e(t))}checkAction(e,t){if((t==null?void 0:t.steps)==null)return!1;for(const r of t.steps)if(this.checkStep(e,r))return!0;return!1}onAction(e,t){return this._debugEventEmitter.on(e,t)}checkStepUrl(e,t){if(t!=null&&t.url){var r;const i=e==null||(r=e.properties)===null||r===void 0?void 0:r.$current_url;if(!i||typeof i!="string"||!ec.matchString(i,t==null?void 0:t.url,(t==null?void 0:t.url_matching)||"contains"))return!1}return!0}static matchString(e,t,r){switch(r){case"regex":return!!$&&tf(e,t);case"exact":return t===e;case"contains":const i=ec.escapeStringRegexp(t).replace(/_/g,".").replace(/%/g,".*");return tf(e,i);default:return!1}}static escapeStringRegexp(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}checkStepElement(e,t){if((t!=null&&t.href||t!=null&&t.tag_name||t!=null&&t.text)&&!this.getElementsList(e).some(i=>!(t!=null&&t.href&&!ec.matchString(i.href||"",t==null?void 0:t.href,(t==null?void 0:t.href_matching)||"exact"))&&(t==null||!t.tag_name||i.tag_name===(t==null?void 0:t.tag_name))&&!(t!=null&&t.text&&!ec.matchString(i.text||"",t==null?void 0:t.text,(t==null?void 0:t.text_matching)||"exact")&&!ec.matchString(i.$el_text||"",t==null?void 0:t.text,(t==null?void 0:t.text_matching)||"exact"))))return!1;if(t!=null&&t.selector){var r;const i=e==null||(r=e.properties)===null||r===void 0?void 0:r.$element_selectors;if(!i||!i.includes(t==null?void 0:t.selector))return!1}return!0}getElementsList(e){return(e==null?void 0:e.properties.$elements)==null?[]:e==null?void 0:e.properties.$elements}}const c_=class c_{constructor(e){this.instance=e,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(e){var t;ye((t=this.instance)===null||t===void 0?void 0:t._addCaptureHook)||(this.setupEventBasedSurveys(e),this.setupActionBasedSurveys(e))}setupActionBasedSurveys(e){const t=e.filter(r=>{var i,s,o,a;return((i=r.conditions)===null||i===void 0?void 0:i.actions)&&((s=r.conditions)===null||s===void 0||(o=s.actions)===null||o===void 0||(a=o.values)===null||a===void 0?void 0:a.length)>0});if(t.length!==0){if(this.actionMatcher==null){this.actionMatcher=new ec(this.instance),this.actionMatcher.init();const r=i=>{this.onAction(i)};this.actionMatcher._addActionHook(r)}t.forEach(r=>{var i,s,o,a,l,c,u,d,h,p;r.conditions&&(i=r.conditions)!==null&&i!==void 0&&i.actions&&(s=r.conditions)!==null&&s!==void 0&&(o=s.actions)!==null&&o!==void 0&&o.values&&((a=r.conditions)===null||a===void 0||(l=a.actions)===null||l===void 0||(c=l.values)===null||c===void 0?void 0:c.length)>0&&((u=this.actionMatcher)===null||u===void 0||u.register(r.conditions.actions.values),(d=r.conditions)===null||d===void 0||(h=d.actions)===null||h===void 0||(p=h.values)===null||p===void 0||p.forEach(g=>{if(g&&g.name){const m=this.actionToSurveys.get(g.name);m&&m.push(r.id),this.actionToSurveys.set(g.name,m||[r.id])}}))})}}setupEventBasedSurveys(e){var t;e.filter(r=>{var i,s,o,a;return((i=r.conditions)===null||i===void 0?void 0:i.events)&&((s=r.conditions)===null||s===void 0||(o=s.events)===null||o===void 0||(a=o.values)===null||a===void 0?void 0:a.length)>0}).length!==0&&((t=this.instance)===null||t===void 0||t._addCaptureHook((r,i)=>{this.onEvent(r,i)}),e.forEach(r=>{var i,s,o;(i=r.conditions)===null||i===void 0||(s=i.events)===null||s===void 0||(o=s.values)===null||o===void 0||o.forEach(a=>{if(a&&a.name){const l=this.eventToSurveys.get(a.name);l&&l.push(r.id),this.eventToSurveys.set(a.name,l||[r.id])}})}))}onEvent(e,t){var r,i;const s=((r=this.instance)===null||r===void 0||(i=r.persistence)===null||i===void 0?void 0:i.props[g0])||[];if(c_.SURVEY_SHOWN_EVENT_NAME==e&&t&&s.length>0){var o;const a=t==null||(o=t.properties)===null||o===void 0?void 0:o.$survey_id;if(a){const l=s.indexOf(a);l>=0&&(s.splice(l,1),this._updateActivatedSurveys(s))}}else this.eventToSurveys.has(e)&&this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(e)||[]))}onAction(e){var t,r;const i=((t=this.instance)===null||t===void 0||(r=t.persistence)===null||r===void 0?void 0:r.props[g0])||[];this.actionToSurveys.has(e)&&this._updateActivatedSurveys(i.concat(this.actionToSurveys.get(e)||[]))}_updateActivatedSurveys(e){var t,r;(t=this.instance)===null||t===void 0||(r=t.persistence)===null||r===void 0||r.register({[g0]:[...new Set(e)]})}getSurveys(){var e,t;return((e=this.instance)===null||e===void 0||(t=e.persistence)===null||t===void 0?void 0:t.props[g0])||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}};G(c_,"SURVEY_SHOWN_EVENT_NAME","survey shown");let Lw=c_;const Gf="[Surveys]",Lq={icontains:n=>!!$&&$.location.href.toLowerCase().indexOf(n.toLowerCase())>-1,not_icontains:n=>!!$&&$.location.href.toLowerCase().indexOf(n.toLowerCase())===-1,regex:n=>!!$&&tf($.location.href,n),not_regex:n=>!!$&&!tf($.location.href,n),exact:n=>($==null?void 0:$.location.href)===n,is_not:n=>($==null?void 0:$.location.href)!==n};class Iq{constructor(e){this.instance=e,this._surveyEventReceiver=null}afterDecideResponse(e){this._decideServerResponse=!!e.surveys,this.loadIfEnabled()}loadIfEnabled(){var e;const t=Ie==null||(e=Ie.__PosthogExtensions__)===null||e===void 0?void 0:e.generateSurveys;var r,i;this.instance.config.disable_surveys||!this._decideServerResponse||t||(this._surveyEventReceiver==null&&(this._surveyEventReceiver=new Lw(this.instance)),(r=Ie.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"surveys",s=>{var o,a;if(s)return X.error(Gf,"Could not load surveys script",s);this._surveyManager=(o=Ie.__PosthogExtensions__)===null||o===void 0||(a=o.generateSurveys)===null||a===void 0?void 0:a.call(o,this.instance)}))}getSurveys(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return e([]);this._surveyEventReceiver==null&&(this._surveyEventReceiver=new Lw(this.instance));const r=this.instance.get_property(WS);if(r&&!t)return e(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api",`/api/surveys/?token=${this.instance.config.token}`),method:"GET",transport:"XHR",callback:i=>{var s;if(i.statusCode!==200||!i.json)return e([]);const o=i.json.surveys||[],a=o.filter(c=>{var u,d,h,p,g,m,_,y,b,x,S,E;return((u=c.conditions)===null||u===void 0?void 0:u.events)&&((d=c.conditions)===null||d===void 0||(h=d.events)===null||h===void 0?void 0:h.values)&&((p=c.conditions)===null||p===void 0||(g=p.events)===null||g===void 0||(m=g.values)===null||m===void 0?void 0:m.length)>0||((_=c.conditions)===null||_===void 0?void 0:_.actions)&&((y=c.conditions)===null||y===void 0||(b=y.actions)===null||b===void 0?void 0:b.values)&&((x=c.conditions)===null||x===void 0||(S=x.actions)===null||S===void 0||(E=S.values)===null||E===void 0?void 0:E.length)>0});var l;return a.length>0&&((l=this._surveyEventReceiver)===null||l===void 0||l.register(a)),(s=this.instance.persistence)===null||s===void 0||s.register({[WS]:o}),e(o)}})}getActiveMatchingSurveys(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(r=>{var i;const s=r.filter(l=>!(!l.start_date||l.end_date)).filter(l=>{var c,u,d,h;if(!l.conditions)return!0;const p=(c=l.conditions)===null||c===void 0||!c.url||Lq[(u=(d=l.conditions)===null||d===void 0?void 0:d.urlMatchType)!==null&&u!==void 0?u:"icontains"](l.conditions.url),g=(h=l.conditions)===null||h===void 0||!h.selector||(pe==null?void 0:pe.querySelector(l.conditions.selector));return p&&g}),o=(i=this._surveyEventReceiver)===null||i===void 0?void 0:i.getSurveys(),a=s.filter(l=>{var c,u,d,h,p,g,m,_,y,b;if(!l.linked_flag_key&&!l.targeting_flag_key&&!l.internal_targeting_flag_key)return!0;const x=!l.linked_flag_key||this.instance.featureFlags.isFeatureEnabled(l.linked_flag_key),S=!l.targeting_flag_key||this.instance.featureFlags.isFeatureEnabled(l.targeting_flag_key),E=((c=l.conditions)===null||c===void 0?void 0:c.events)&&((u=l.conditions)===null||u===void 0||(d=u.events)===null||d===void 0?void 0:d.values)&&((h=l.conditions)===null||h===void 0||(p=h.events)===null||p===void 0?void 0:p.values.length)>0,k=((g=l.conditions)===null||g===void 0?void 0:g.actions)&&((m=l.conditions)===null||m===void 0||(_=m.actions)===null||_===void 0?void 0:_.values)&&((y=l.conditions)===null||y===void 0||(b=y.actions)===null||b===void 0?void 0:b.values.length)>0,R=!E&&!k||(o==null?void 0:o.includes(l.id)),T=this._canActivateRepeatedly(l),M=!(l.internal_targeting_flag_key&&!T)||this.instance.featureFlags.isFeatureEnabled(l.internal_targeting_flag_key);return x&&S&&M&&R});return e(a)},t)}getNextSurveyStep(e,t,r){var i;const s=e.questions[t],o=t+1;if((i=s.branching)===null||i===void 0||!i.type)return t===e.questions.length-1?Ti.End:o;if(s.branching.type===Ti.End)return Ti.End;if(s.branching.type===Ti.SpecificQuestion){if(Number.isInteger(s.branching.index))return s.branching.index}else if(s.branching.type===Ti.ResponseBased){if(s.type===Dw.SingleChoice){var a,l;const d=s.choices.indexOf(`${r}`);if((a=s.branching)!==null&&a!==void 0&&(l=a.responseValues)!==null&&l!==void 0&&l.hasOwnProperty(d)){const h=s.branching.responseValues[d];return Number.isInteger(h)?h:h===Ti.End?Ti.End:o}}else if(s.type===Dw.Rating){var c,u;if(typeof r!="number"||!Number.isInteger(r))throw new Error("The response type must be an integer");const d=function(h,p){if(p===3){if(h<1||h>3)throw new Error("The response must be in range 1-3");return h===1?"negative":h===2?"neutral":"positive"}if(p===5){if(h<1||h>5)throw new Error("The response must be in range 1-5");return h<=2?"negative":h===3?"neutral":"positive"}if(p===7){if(h<1||h>7)throw new Error("The response must be in range 1-7");return h<=3?"negative":h===4?"neutral":"positive"}if(p===10){if(h<0||h>10)throw new Error("The response must be in range 0-10");return h<=6?"detractors":h<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 7, 10")}(r,s.scale);if((c=s.branching)!==null&&c!==void 0&&(u=c.responseValues)!==null&&u!==void 0&&u.hasOwnProperty(d)){const h=s.branching.responseValues[d];return Number.isInteger(h)?h:h===Ti.End?Ti.End:o}}return o}return X.warn(Gf,"Falling back to next question index due to unexpected branching type"),o}_canActivateRepeatedly(e){var t;return It((t=Ie.__PosthogExtensions__)===null||t===void 0?void 0:t.canActivateRepeatedly)?(X.warn(Gf,"canActivateRepeatedly is not defined, must init before calling"),!1):Ie.__PosthogExtensions__.canActivateRepeatedly(e)}canRenderSurvey(e){It(this._surveyManager)?X.warn(Gf,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(t=>{const r=t.filter(i=>i.id===e)[0];this._surveyManager.canRenderSurvey(r)})}renderSurvey(e,t){It(this._surveyManager)?X.warn(Gf,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(r=>{const i=r.filter(s=>s.id===e)[0];this._surveyManager.renderSurvey(i,pe==null?void 0:pe.querySelector(t))})}}class Oq{constructor(e){G(this,"serverLimits",{});G(this,"lastEventRateLimited",!1);G(this,"checkForLimiting",e=>{const t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach(i=>{X.info(`[RateLimiter] ${i||"events"} is quota limited.`),this.serverLimits[i]=new Date().getTime()+6e4})}catch(r){return void X.warn(`[RateLimiter] could not rate limit - continuing. Error: "${r==null?void 0:r.message}"`,{text:t})}});var t,r;this.instance=e,this.captureEventsPerSecond=((t=e.config.rate_limiting)===null||t===void 0?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=e.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var e,t,r;let i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];const s=new Date().getTime(),o=(e=(t=this.instance.persistence)===null||t===void 0?void 0:t.get_property(qS))!==null&&e!==void 0?e:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);const a=o.tokens<1;return a||i||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:`posthog-js client rate limited. Config is set to ${this.captureEventsPerSecond} events per second and ${this.captureEventsBurstLimit} events burst limit.`},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(qS,o),{isRateLimited:a,remainingTokens:o.tokens}}isServerRateLimited(e){const t=this.serverLimits[e||"events"]||!1;return t!==!1&&new Date().getTime()<t}}const Nq=()=>({initialPathName:(fr==null?void 0:fr.pathname)||"",referringDomain:Qt.referringDomain(),...Qt.campaignParams()});class Fq{constructor(e,t,r){G(this,"_onSessionIdCallback",e=>{const t=this._getStoredProps();if(t&&t.sessionId===e)return;const r={sessionId:e,props:this._sessionSourceParamGenerator()};this._persistence.register({[GS]:r})});this._sessionIdManager=e,this._persistence=t,this._sessionSourceParamGenerator=r||Nq,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStoredProps(){return this._persistence.props[GS]}getSessionProps(){var e;const t=(e=this._getStoredProps())===null||e===void 0?void 0:e.props;return t?{$client_session_initial_referring_host:t.referringDomain,$client_session_initial_pathname:t.initialPathName,$client_session_initial_utm_source:t.utm_source,$client_session_initial_utm_campaign:t.utm_campaign,$client_session_initial_utm_medium:t.utm_medium,$client_session_initial_utm_content:t.utm_content,$client_session_initial_utm_term:t.utm_term}:{}}}const jq=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","headlesschrome","cypress","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],rM=function(n,e){if(!n)return!1;const t=n.toLowerCase();return jq.concat(e||[]).some(r=>{const i=r.toLowerCase();return t.indexOf(i)!==-1})},iF=function(n,e){if(!n)return!1;const t=n.userAgent;if(t&&rM(t,e))return!0;try{const r=n==null?void 0:n.userAgentData;if(r!=null&&r.brands&&r.brands.some(i=>rM(i==null?void 0:i.brand,e)))return!0}catch{}return!!n.webdriver};class sF{constructor(){this.clicks=[]}isRageClick(e,t,r){const i=this.clicks[this.clicks.length-1];if(i&&Math.abs(e-i.x)+Math.abs(t-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:t,timestamp:r}];return!1}}function iM(n){var e;return n.id===XS||!((e=n.closest)===null||e===void 0||!e.call(n,"#"+XS))}class $q{constructor(e){G(this,"rageclicks",new sF);G(this,"_enabledServerSide",!1);G(this,"_initialized",!1);G(this,"_flushInterval",null);var t;this.instance=e,this._enabledServerSide=!((t=this.instance.persistence)===null||t===void 0||!t.props[US]),$==null||$.addEventListener("beforeunload",()=>{this.flush()})}get flushIntervalMilliseconds(){let e=5e3;return Ut(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return ye(this.instance.config.capture_heatmaps)?ye(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;X.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var e;clearInterval((e=this._flushInterval)!==null&&e!==void 0?e:void 0),this.getAndClearBuffer()}}afterDecideResponse(e){const t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[US]:t}),this._enabledServerSide=t,this.startIfEnabled()}getAndClearBuffer(){const e=this.buffer;return this.buffer=void 0,e}_setupListeners(){$&&pe&&(ko(pe,"click",e=>this._onClick(e||($==null?void 0:$.event)),!1,!0),ko(pe,"mousemove",e=>this._onMouseMove(e||($==null?void 0:$.event)),!1,!0),this._initialized=!0)}_getProperties(e,t){const r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(a,l,c){let u=a;for(;u&&s1(u)&&!ol(u,"body");){if(u===c)return!1;if(Fe(l,$==null?void 0:$.getComputedStyle(u).position))return!0;u=VN(u)}return!1}(BN(e),["fixed","sticky"],s);return{x:e.clientX+(o?0:i),y:e.clientY+(o?0:r),target_fixed:o,type:t}}_onClick(e){var t;if(iM(e.target))return;const r=this._getProperties(e,"click");(t=this.rageclicks)!==null&&t!==void 0&&t.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this._capture({...r,type:"rageclick"}),this._capture(r)}_onMouseMove(e){iM(e.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(()=>{this._capture(this._getProperties(e,"mousemove"))},500))}_capture(e){if(!$)return;const t=$.location.href;this.buffer=this.buffer||{},this.buffer[t]||(this.buffer[t]=[]),this.buffer[t].push(e)}flush(){this.buffer&&!ry(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class Bq{constructor(e){G(this,"_updateScrollData",()=>{var e,t,r,i;this.context||(this.context={});const s=this.scrollElement(),o=this.scrollY(),a=s?Math.max(0,s.scrollHeight-s.clientHeight):0,l=o+((s==null?void 0:s.clientHeight)||0),c=(s==null?void 0:s.scrollHeight)||0;this.context.lastScrollY=Math.ceil(o),this.context.maxScrollY=Math.max(o,(e=this.context.maxScrollY)!==null&&e!==void 0?e:0),this.context.maxScrollHeight=Math.max(a,(t=this.context.maxScrollHeight)!==null&&t!==void 0?t:0),this.context.lastContentY=l,this.context.maxContentY=Math.max(l,(r=this.context.maxContentY)!==null&&r!==void 0?r:0),this.context.maxContentHeight=Math.max(c,(i=this.context.maxContentHeight)!==null&&i!==void 0?i:0)});this.instance=e}getContext(){return this.context}resetContext(){const e=this.context;return setTimeout(this._updateScrollData,0),e}startMeasuringScrollPosition(){$==null||$.addEventListener("scroll",this._updateScrollData,!0),$==null||$.addEventListener("scrollend",this._updateScrollData,!0),$==null||$.addEventListener("resize",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return $==null?void 0:$.document.documentElement;{const e=tn(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(const t of e){const r=$==null?void 0:$.document.querySelector(t);if(r)return r}}}scrollY(){if(this.instance.config.scroll_root_selector){const e=this.scrollElement();return e&&e.scrollTop||0}return $&&($.scrollY||$.pageYOffset||$.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){const e=this.scrollElement();return e&&e.scrollLeft||0}return $&&($.scrollX||$.pageXOffset||$.document.documentElement.scrollLeft)||0}}const Yb="$copy_autocapture";function Xb(n,e){return e.length>n?e.slice(0,n)+"...":e}class zq{constructor(e){G(this,"_initialized",!1);G(this,"_isDisabledServerSide",null);G(this,"rageclicks",new sF);G(this,"_elementsChainAsString",!1);this.instance=e,this._elementSelectors=null}get config(){var e,t;const r=Ut(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(e=r.url_allowlist)===null||e===void 0?void 0:e.map(i=>new RegExp(i)),r.url_ignorelist=(t=r.url_ignorelist)===null||t===void 0?void 0:t.map(i=>new RegExp(i)),r}_addDomEventHandlers(){if(!this.isBrowserSupported())return void X.info("Disabling Automatic Event Collection because this browser is not supported");if(!$||!pe)return;const e=r=>{r=r||($==null?void 0:$.event);try{this._captureEvent(r)}catch(i){X.error("Failed to capture event",i)}},t=r=>{r=r||($==null?void 0:$.event),this._captureEvent(r,Yb)};ko(pe,"submit",e,!1,!0),ko(pe,"change",e,!1,!0),ko(pe,"click",e,!1,!0),this.config.capture_copied_text&&(ko(pe,"copy",t,!1,!0),ko(pe,"cut",t,!1,!0))}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}afterDecideResponse(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[SR]:!!e.autocapture_opt_out}),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this._elementSelectors=e}getElementSelectors(e){var t;const r=[];return(t=this._elementSelectors)===null||t===void 0||t.forEach(i=>{const s=pe==null?void 0:pe.querySelectorAll(i);s==null||s.forEach(o=>{e===o&&r.push(i)})}),r}get isEnabled(){var e,t;const r=(e=this.instance.persistence)===null||e===void 0?void 0:e.props[SR],i=this._isDisabledServerSide;if(kl(i)&&!cc(r)&&!this.instance.config.advanced_disable_decide)return!1;const s=(t=this._isDisabledServerSide)!==null&&t!==void 0?t:!!r;return!!this.instance.config.autocapture&&!s}_previousElementSibling(e){if(e.previousElementSibling)return e.previousElementSibling;let t=e;do t=t.previousSibling;while(t&&!s1(t));return t}_getAugmentPropertiesFromElement(e){if(!nE(e))return{};const t={};return ct(e.attributes,function(r){if(r.name&&r.name.indexOf("data-ph-capture-attribute")===0){const i=r.name.replace("data-ph-capture-attribute-",""),s=r.value;i&&s&&Ud(s)&&(t[i]=s)}}),t}_getPropertiesFromElement(e,t,r){var i;const s=e.tagName.toLowerCase(),o={tag_name:s};tE.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?o.$el_text=Xb(1024,VR(e)):o.$el_text=Xb(1024,kw(e)));const a=Tw(e);a.length>0&&(o.classes=a.filter(function(h){return h!==""}));const l=(i=this.config)===null||i===void 0?void 0:i.element_attribute_ignorelist;ct(e.attributes,function(h){var p;if((!HN(e)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(l==null||!l.includes(h.name))&&!t&&Ud(h.value)&&(p=h.name,!Bn(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){let g=h.value;h.name==="class"&&(g=MP(g).join(" ")),o["attr__"+h.name]=Xb(1024,g)}});let c=1,u=1,d=e;for(;d=this._previousElementSibling(d);)c++,d.tagName===e.tagName&&u++;return o.nth_child=c,o.nth_of_type=u,o}_getDefaultProperties(e){return{$event_type:e,$ce_version:1}}_captureEvent(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(!this.isEnabled)return;let r=BN(e);var i;zN(r)&&(r=r.parentNode||null),t==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this._captureEvent(e,"$rageclick");const s=t===Yb;if(r&&KG(r,e,this.config,s,s?["copy","cut"]:void 0)){var o,a;const d=[r];let h=r;for(;h.parentNode&&!ol(h,"body");)UN(h.parentNode)?(d.push(h.parentNode.host),h=h.parentNode.host):(d.push(h.parentNode),h=h.parentNode);const p=[],g={};let m,_,y=!1;if(ct(d,S=>{const E=nE(S);S.tagName.toLowerCase()==="a"&&(m=S.getAttribute("href"),m=E&&Ud(m)&&m),Fe(Tw(S),"ph-no-capture")&&(y=!0),p.push(this._getPropertiesFromElement(S,this.instance.config.mask_all_element_attributes,this.instance.config.mask_all_text));const k=this._getAugmentPropertiesFromElement(S);Zn(g,k)}),this.instance.config.mask_all_text||(r.tagName.toLowerCase()==="a"||r.tagName.toLowerCase()==="button"?p[0].$el_text=VR(r):p[0].$el_text=kw(r)),m){var l,c;p[0].attr__href=m;const S=(l=Up(m))===null||l===void 0?void 0:l.host,E=$==null||(c=$.location)===null||c===void 0?void 0:c.host;S&&E&&S!==E&&(_=m)}if(y)return!1;const b=Zn(this._getDefaultProperties(e.type),this._elementsChainAsString?{$elements_chain:JG(p)}:{$elements:p},(o=p[0])!==null&&o!==void 0&&o.$el_text?{$el_text:(a=p[0])===null||a===void 0?void 0:a.$el_text}:{},_&&e.type==="click"?{$external_click_url:_}:{},g),x=this.getElementSelectors(r);if(x&&x.length>0&&(b.$element_selectors=x),t===Yb){var u;const S=$N($==null||(u=$.getSelection())===null||u===void 0?void 0:u.toString()),E=e.type||"clipboard";if(!S)return!1;b.$selected_content=S,b.$copy_type=E}return this.instance.capture(t,b),!0}}isBrowserSupported(){return gi(pe==null?void 0:pe.querySelectorAll)}}class Uq{constructor(e){G(this,"_restoreXHRPatch");G(this,"_restoreFetchPatch");G(this,"_startCapturing",()=>{var e,t,r,i;ye(this._restoreXHRPatch)&&((e=Ie.__PosthogExtensions__)===null||e===void 0||(t=e.tracingHeadersPatchFns)===null||t===void 0||t._patchXHR(this.instance.sessionManager)),ye(this._restoreFetchPatch)&&((r=Ie.__PosthogExtensions__)===null||r===void 0||(i=r.tracingHeadersPatchFns)===null||i===void 0||i._patchFetch(this.instance.sessionManager))});this.instance=e}_loadScript(e){var t,r,i;(t=Ie.__PosthogExtensions__)!==null&&t!==void 0&&t.tracingHeadersPatchFns&&e(),(r=Ie.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"tracing-headers",s=>{if(s)return X.error("[TRACING-HEADERS] failed to load script",s);e()})}startIfEnabledOrStop(){var e,t;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):((e=this._restoreXHRPatch)===null||e===void 0||e.call(this),(t=this._restoreFetchPatch)===null||t===void 0||t.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}let ba;(function(n){n[n.PENDING=-1]="PENDING",n[n.DENIED=0]="DENIED",n[n.GRANTED=1]="GRANTED"})(ba||(ba={}));class Vq{constructor(e){this.instance=e}get config(){return this.instance.config}get consent(){return this.getDnt()?ba.DENIED:this.storedConsent}isOptedOut(){return this.consent===ba.DENIED||this.consent===ba.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.storage.set(this.storageKey,e?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){const{token:e,opt_out_capturing_cookie_prefix:t}=this.instance.config;return(t||"__ph_opt_in_out_")+e}get storedConsent(){const e=this.storage.get(this.storageKey);return e==="1"?ba.GRANTED:e==="0"?ba.DENIED:ba.PENDING}get storage(){if(!this._storage){const e=this.config.opt_out_capturing_persistence_type;this._storage=e==="localStorage"?en:Io;const t=e==="localStorage"?Io:en;t.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(t.get(this.storageKey)==="1"),t.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!bN([Gr==null?void 0:Gr.doNotTrack,Gr==null?void 0:Gr.msDoNotTrack,Ie.doNotTrack],e=>Fe([!0,1,"1","yes"],e))}}const S0="[Exception Autocapture]";class Hq{constructor(e){G(this,"originalOnUnhandledRejectionHandler");G(this,"startCapturing",()=>{var e,t,r,i;if(!$||!this.isEnabled||this.hasHandlers||this.isCapturing)return;const s=(e=Ie.__PosthogExtensions__)===null||e===void 0||(t=e.errorWrappingFunctions)===null||t===void 0?void 0:t.wrapOnError,o=(r=Ie.__PosthogExtensions__)===null||r===void 0||(i=r.errorWrappingFunctions)===null||i===void 0?void 0:i.wrapUnhandledRejection;if(s&&o)try{this.unwrapOnError=s(this.captureException.bind(this)),this.unwrapUnhandledRejection=o(this.captureException.bind(this))}catch(a){X.error(S0+" failed to start",a),this.stopCapturing()}else X.error(S0+" failed to load error wrapping functions - cannot start")});var t;this.instance=e,this.remoteEnabled=!((t=this.instance.persistence)===null||t===void 0||!t.props[ER]),this.startIfEnabled()}get isEnabled(){var e;return(e=this.remoteEnabled)!==null&&e!==void 0&&e}get isCapturing(){var e;return!($==null||(e=$.onerror)===null||e===void 0||!e.__POSTHOG_INSTRUMENTED__)}get hasHandlers(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}startIfEnabled(){this.isEnabled&&!this.isCapturing&&(X.info(S0+" enabled, starting..."),this.loadScript(this.startCapturing))}loadScript(e){var t,r;this.hasHandlers&&e(),(t=Ie.__PosthogExtensions__)===null||t===void 0||(r=t.loadExternalDependency)===null||r===void 0||r.call(t,this.instance,"exception-autocapture",i=>{if(i)return X.error(S0+" failed to load script",i);e()})}stopCapturing(){var e,t;(e=this.unwrapOnError)===null||e===void 0||e.call(this),(t=this.unwrapUnhandledRejection)===null||t===void 0||t.call(this)}afterDecideResponse(e){const t=e.autocaptureExceptions;this.remoteEnabled=!!t||!1,this.instance.persistence&&this.instance.persistence.register({[ER]:this.remoteEnabled}),this.startIfEnabled()}captureException(e){const t=this.instance.requestRouter.endpointFor("ui");e.$exception_personURL=`${t}/project/${this.instance.config.token}/person/${this.instance.get_distinct_id()}`,this.instance.exceptions.sendExceptionEvent(e)}}const sM=9e5,zl="[Web Vitals]";class Wq{constructor(e){G(this,"_enabledServerSide",!1);G(this,"_initialized",!1);G(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0});G(this,"_flushToCapture",()=>{clearTimeout(this._delayedFlushTimer),this.buffer.metrics.length!==0&&(this.instance.capture("$web_vitals",this.buffer.metrics.reduce((e,t)=>({...e,[`$web_vitals_${t.name}_event`]:{...t},[`$web_vitals_${t.name}_value`]:t.value}),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})});G(this,"_addToBuffer",e=>{var t;const r=(t=this.instance.sessionManager)===null||t===void 0?void 0:t.checkAndGetSessionAndWindowId(!0);if(ye(r))return void X.error(zl+"Could not read session ID. Dropping metrics!");this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};const i=this._currentURL();if(!ye(i)){if(It(e==null?void 0:e.name)||It(e==null?void 0:e.value))return void X.error(zl+"Invalid metric received",e);if(this._maxAllowedValue&&e.value>=this._maxAllowedValue)return void X.error(zl+"Ignoring metric with value >= "+this._maxAllowedValue,e);this.buffer.url!==i&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),ye(this.buffer.url)&&(this.buffer.url=i),this.buffer.firstMetricTimestamp=ye(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,this.buffer.metrics.push({...e,$current_url:i,$session_id:r.sessionId,$window_id:r.windowId,timestamp:Date.now()}),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()}});G(this,"_startCapturing",()=>{let e,t,r,i;const s=Ie.__PosthogExtensions__;ye(s)||ye(s.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:r,onINP:i}=s.postHogWebVitalsCallbacks),e&&t&&r&&i?(this.allowedMetrics.indexOf("LCP")>-1&&e(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&t(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&r(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&i(this._addToBuffer.bind(this)),this._initialized=!0):X.error(zl+"web vitals callbacks not loaded - not starting")});var t;this.instance=e,this._enabledServerSide=!((t=this.instance.persistence)===null||t===void 0||!t.props[AR]),this.startIfEnabled()}get allowedMetrics(){var e,t;const r=Ut(this.instance.config.capture_performance)?(e=this.instance.config.capture_performance)===null||e===void 0?void 0:e.web_vitals_allowed_metrics:void 0;return ye(r)?((t=this.instance.persistence)===null||t===void 0?void 0:t.props[PR])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(Ut(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){const e=Ut(this.instance.config.capture_performance)&&zr(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:sM;return 0<e&&e<=6e4?sM:e}get isEnabled(){const e=Ut(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return cc(e)?e:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(X.info(zl+" enabled, starting..."),this.loadScript(this._startCapturing))}afterDecideResponse(e){const t=Ut(e.capturePerformance)&&!!e.capturePerformance.web_vitals,r=Ut(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[AR]:t}),this.instance.persistence.register({[PR]:r})),this._enabledServerSide=t,this.startIfEnabled()}loadScript(e){var t,r,i;(t=Ie.__PosthogExtensions__)!==null&&t!==void 0&&t.postHogWebVitalsCallbacks&&e(),(r=Ie.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"web-vitals",s=>{s?X.error(zl+" failed to load script",s):e()})}_currentURL(){const e=$?$.location.href:void 0;return e||X.error(zl+"Could not determine current URL"),e}}const Gq={icontains:(n,e)=>!!$&&e.href.toLowerCase().indexOf(n.toLowerCase())>-1,not_icontains:(n,e)=>!!$&&e.href.toLowerCase().indexOf(n.toLowerCase())===-1,regex:(n,e)=>!!$&&tf(e.href,n),not_regex:(n,e)=>!!$&&!tf(e.href,n),exact:(n,e)=>e.href===n,is_not:(n,e)=>e.href!==n};class on{constructor(e){G(this,"getWebExperimentsAndEvaluateDisplayLogic",(()=>{var e=this;return function(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];e.getWebExperiments(r=>{on.logInfo("retrieved web experiments from the server"),e._flagToExperiments=new Map,r.forEach(i=>{if(i.feature_flag_key&&e._featureFlags&&e._featureFlags[i.feature_flag_key]){var s;e._flagToExperiments&&(on.logInfo("setting flag key ",i.feature_flag_key," to web experiment ",i),(s=e._flagToExperiments)===null||s===void 0||s.set(i.feature_flag_key,i));const o=e._featureFlags[i.feature_flag_key];o&&i.variants[o]&&e.applyTransforms(i.name,o,i.variants[o].transforms)}else if(i.variants)for(const o in i.variants){const a=i.variants[o];on.matchesTestVariant(a)&&e.applyTransforms(i.name,o,a.transforms)}})},t)}})());this.instance=e;const t=r=>{this.applyFeatureFlagChanges(r)};this.instance.onFeatureFlags&&this.instance.onFeatureFlags(t),this._flagToExperiments=new Map}applyFeatureFlagChanges(e){It(this._flagToExperiments)||this.instance.config.disable_web_experiments||(on.logInfo("applying feature flags",e),e.forEach(t=>{var r;if(this._flagToExperiments&&(r=this._flagToExperiments)!==null&&r!==void 0&&r.has(t)){var i;const s=this.instance.getFeatureFlag(t),o=(i=this._flagToExperiments)===null||i===void 0?void 0:i.get(t);s&&o!=null&&o.variants[s]&&this.applyTransforms(o.name,s,o.variants[s].transforms)}}))}afterDecideResponse(e){this._is_bot()?on.logInfo("Refusing to render web experiment since the viewer is a likely bot"):(this._featureFlags=e.featureFlags,this.loadIfEnabled(),this.previewWebExperiment())}previewWebExperiment(){const e=on.getWindowLocation();if(e!=null&&e.search){const t=Ew(e==null?void 0:e.search,"__experiment_id"),r=Ew(e==null?void 0:e.search,"__experiment_variant");t&&r&&(on.logInfo(`previewing web experiments ${t} && ${r}`),this.getWebExperiments(i=>{this.showPreviewWebExperiment(parseInt(t),r,i)},!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,r){if(this.instance.config.disable_web_experiments&&!r)return e([]);const i=this.instance.get_property("$web_experiments");if(i&&!t)return e(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api",`/api/web_experiments/?token=${this.instance.config.token}`),method:"GET",transport:"XHR",callback:s=>{if(s.statusCode!==200||!s.json)return e([]);const o=s.json.experiments||[];return e(o)}})}showPreviewWebExperiment(e,t,r){const i=r.filter(s=>s.id===e);i&&i.length>0&&(on.logInfo(`Previewing web experiment [${i[0].name}] with variant [${t}]`),this.applyTransforms(i[0].name,t,i[0].variants[t].transforms,!0))}static matchesTestVariant(e){return!It(e.conditions)&&on.matchUrlConditions(e)&&on.matchUTMConditions(e)}static matchUrlConditions(e){var t;if(It(e.conditions)||It((t=e.conditions)===null||t===void 0?void 0:t.url))return!0;const r=on.getWindowLocation();if(r){var i,s,o;return(i=e.conditions)===null||i===void 0||!i.url||Gq[(s=(o=e.conditions)===null||o===void 0?void 0:o.urlMatchType)!==null&&s!==void 0?s:"icontains"](e.conditions.url,r)}return!1}static getWindowLocation(){return $==null?void 0:$.location}static matchUTMConditions(e){var t;if(It(e.conditions)||It((t=e.conditions)===null||t===void 0?void 0:t.utm))return!0;const r=Qt.campaignParams();if(r.utm_source){var i,s,o,a,l,c,u,d,h,p,g,m,_,y,b,x;const S=(i=e.conditions)===null||i===void 0||(s=i.utm)===null||s===void 0||!s.utm_campaign||((o=e.conditions)===null||o===void 0||(a=o.utm)===null||a===void 0?void 0:a.utm_campaign)==r.utm_campaign,E=(l=e.conditions)===null||l===void 0||(c=l.utm)===null||c===void 0||!c.utm_source||((u=e.conditions)===null||u===void 0||(d=u.utm)===null||d===void 0?void 0:d.utm_source)==r.utm_source,k=(h=e.conditions)===null||h===void 0||(p=h.utm)===null||p===void 0||!p.utm_medium||((g=e.conditions)===null||g===void 0||(m=g.utm)===null||m===void 0?void 0:m.utm_medium)==r.utm_medium,R=(_=e.conditions)===null||_===void 0||(y=_.utm)===null||y===void 0||!y.utm_term||((b=e.conditions)===null||b===void 0||(x=b.utm)===null||x===void 0?void 0:x.utm_term)==r.utm_term;return S&&k&&R&&E}return!1}static logInfo(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];X.info(`[WebExperiments] ${e}`,r)}applyTransforms(e,t,r,i){var s;this._is_bot()?on.logInfo("Refusing to render web experiment since the viewer is a likely bot"):t!=="control"?r.forEach(o=>{if(o.selector){var a;on.logInfo(`applying transform of variant ${t} for experiment ${e} `,o);let c=0;const u=(a=document)===null||a===void 0?void 0:a.querySelectorAll(o.selector);var l;u==null||u.forEach(d=>{const h=d;c+=1,o.attributes&&o.attributes.forEach(p=>{switch(p.name){case"text":h.innerText=p.value;break;case"html":h.innerHTML=p.value;break;case"cssClass":h.className=p.value;break;default:h.setAttribute(p.name,p.value)}}),o.text&&(h.innerText=o.text),o.html&&(h.parentElement?h.parentElement.innerHTML=o.html:h.innerHTML=o.html),o.css&&h.setAttribute("style",o.css)}),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:e,$web_experiment_variant:t,$web_experiment_preview:i,$web_experiment_document_url:(l=on.getWindowLocation())===null||l===void 0?void 0:l.href,$web_experiment_elements_modified:c})}}):(on.logInfo("Control variants leave the page unmodified."),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:e,$web_experiment_preview:i,$web_experiment_variant:t,$web_experiment_document_url:(s=on.getWindowLocation())===null||s===void 0?void 0:s.href,$web_experiment_elements_modified:0}))}_is_bot(){return Gr&&this.instance?iF(Gr,this.instance.config.custom_blocked_useragents):void 0}}const oM="/e/";class qq{constructor(e){var t;this.instance=e,this._endpointSuffix=((t=this.instance.persistence)===null||t===void 0?void 0:t.props[CR])||oM}get endpoint(){return this.instance.requestRouter.endpointFor("api",this._endpointSuffix)}afterDecideResponse(e){const t=e.autocaptureExceptions;this._endpointSuffix=Ut(t)&&t.endpoint||oM,this.instance.persistence&&this.instance.persistence.register({[CR]:this._endpointSuffix})}sendExceptionEvent(e){this.instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent",_url:this.endpoint})}}const Wp={},aM=()=>{},Ju="posthog";let oF=!Sq&&(cn==null?void 0:cn.indexOf("MSIE"))===-1&&(cn==null?void 0:cn.indexOf("Mozilla"))===-1;const lM=()=>{var n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:EG(pe==null?void 0:pe.location),persistence:"localStorage+cookie",persistence_name:"",loaded:aM,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:fr&&Bn(fr==null?void 0:fr.search)&&fr.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:($==null||(n=$.location)===null||n===void 0?void 0:n.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:e=>{const t="Bad HTTP status: "+e.statusCode+" "+e.text;X.error(t)},get_device_id:e=>e,_onCapture:aM,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",__add_tracing_headers:!1}},cM=n=>{const e={};ye(n.process_person)||(e.person_profiles=n.process_person),ye(n.xhr_headers)||(e.request_headers=n.xhr_headers),ye(n.cookie_name)||(e.persistence_name=n.cookie_name),ye(n.disable_cookie)||(e.disable_persistence=n.disable_cookie);const t=Zn({},e,n);return tn(n.property_blacklist)&&(ye(n.property_denylist)?t.property_denylist=n.property_blacklist:tn(n.property_denylist)?t.property_denylist=[...n.property_blacklist,...n.property_denylist]:X.error("Invalid value for property_denylist config: "+n.property_denylist)),t};class Kq{constructor(){G(this,"__forceAllowLocalhost",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(e){X.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class o1{constructor(){G(this,"webPerformance",new Kq);G(this,"version",ya.LIB_VERSION);G(this,"_internalEventEmitter",new rF);this.config=lM(),this.decideEndpointWasHit=!1,this.SentryIntegration=Rq,this.sentryIntegration=e=>function(t,r){const i=nF(t,r);return{name:tF,processEvent:s=>i(s)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this.featureFlags=new AG(this),this.toolbar=new bq(this),this.scrollManager=new Bq(this),this.pageViewManager=new Dq(this),this.surveys=new Iq(this),this.experiments=new on(this),this.exceptions=new qq(this),this.rateLimiter=new Oq(this),this.requestRouter=new kq(this),this.consent=new Vq(this),this.people={set:(e,t,r)=>{const i=Bn(e)?{[e]:t}:e;this.setPersonProperties(i),r==null||r({})},set_once:(e,t,r)=>{const i=Bn(e)?{[e]:t}:e;this.setPersonProperties(void 0,i),r==null||r({})}},this.on("eventCaptured",e=>X.info(`send "${e==null?void 0:e.event}"`,e))}init(e,t,r){if(r&&r!==Ju){var i;const s=(i=Wp[r])!==null&&i!==void 0?i:new o1;return s._init(e,t,r),Wp[r]=s,Wp[Ju][r]=s,s}return this._init(e,t,r)}_init(e){var t,r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;if(ye(e)||wR(e))return X.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return X.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],i.person_profiles&&(this._initialPersonProfilesConfig=i.person_profiles),this.set_config(Zn({},lM(),cM(i),{name:s,token:e})),this.config.on_xhr_error&&X.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=i.disable_compression?void 0:Zi.GZipJS,this.persistence=new qb(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new qb({...this.config,persistence:"sessionStorage"});const o={...this.persistence.props},a={...this.sessionPersistence.props};if(this._requestQueue=new xq(h=>this._send_retriable_request(h)),this._retryQueue=new Pq(this),this.__request_queue=[],this.sessionManager=new Tq(this.config,this.persistence),this.sessionPropsManager=new Fq(this.sessionManager,this.persistence),new Uq(this).startIfEnabledOrStop(),this.sessionRecording=new yq(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new zq(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new $q(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Wq(this),this.exceptionObserver=new Hq(this),this.exceptionObserver.startIfEnabled(),ya.DEBUG=ya.DEBUG||this.config.debug,ya.DEBUG&&X.info("Starting in debug mode",{this:this,config:i,thisC:{...this.config},p:o,s:a}),this._sync_opt_out_with_persistence(),((t=i.bootstrap)===null||t===void 0?void 0:t.distinctID)!==void 0){var l,c;const h=this.config.get_device_id(Ya()),p=(l=i.bootstrap)!==null&&l!==void 0&&l.isIdentifiedID?h:i.bootstrap.distinctID;this.persistence.set_property(Qs,(c=i.bootstrap)!==null&&c!==void 0&&c.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:i.bootstrap.distinctID,$device_id:p})}if(this._hasBootstrappedFeatureFlags()){var u,d;const h=Object.keys(((u=i.bootstrap)===null||u===void 0?void 0:u.featureFlags)||{}).filter(g=>{var m,_;return!((m=i.bootstrap)===null||m===void 0||(_=m.featureFlags)===null||_===void 0||!_[g])}).reduce((g,m)=>{var _,y;return g[m]=((_=i.bootstrap)===null||_===void 0||(y=_.featureFlags)===null||y===void 0?void 0:y[m])||!1,g},{}),p=Object.keys(((d=i.bootstrap)===null||d===void 0?void 0:d.featureFlagPayloads)||{}).filter(g=>h[g]).reduce((g,m)=>{var _,y,b,x;return(_=i.bootstrap)!==null&&_!==void 0&&(y=_.featureFlagPayloads)!==null&&y!==void 0&&y[m]&&(g[m]=(b=i.bootstrap)===null||b===void 0||(x=b.featureFlagPayloads)===null||x===void 0?void 0:x[m]),g},{});this.featureFlags.receivedFeatureFlags({featureFlags:h,featureFlagPayloads:p})}if(!this.get_distinct_id()){const h=this.config.get_device_id(Ya());this.register_once({distinct_id:h,$device_id:h},""),this.persistence.set_property(Qs,"anonymous")}return $==null||(r=$.addEventListener)===null||r===void 0||r.call($,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),i.segment?Mq(this,()=>this._loaded()):this._loaded(),gi(this.config._onCapture)&&this.on("eventCaptured",h=>this.config._onCapture(h.event,h)),this}_afterDecideResponse(e){var t,r,i,s,o,a,l,c,u;this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=Fe(e.supportedCompression,Zi.GZipJS)?Zi.GZipJS:Fe(e.supportedCompression,Zi.Base64)?Zi.Base64:void 0),(t=e.analytics)!==null&&t!==void 0&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:e.defaultIdentifiedOnly?"identified_only":"always"}),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(e),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(e),(s=this.heatmaps)===null||s===void 0||s.afterDecideResponse(e),(o=this.experiments)===null||o===void 0||o.afterDecideResponse(e),(a=this.surveys)===null||a===void 0||a.afterDecideResponse(e),(l=this.webVitalsAutocapture)===null||l===void 0||l.afterDecideResponse(e),(c=this.exceptions)===null||c===void 0||c.afterDecideResponse(e),(u=this.exceptionObserver)===null||u===void 0||u.afterDecideResponse(e)}_loaded(){const e=this.config.advanced_disable_decide;e||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(t){X.critical("`loaded` function failed",t)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this._captureInitialPageview()},1),e||(new wq(this).call(),this.featureFlags.resetRequestQueue())}_start_queue_if_opted_in(){var e;this.has_opted_out_capturing()||this.config.request_batching&&((e=this._requestQueue)===null||e===void 0||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||$d(this.__request_queue,e=>this._send_retriable_request(e)),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),(e=this._requestQueue)===null||e===void 0||e.unload(),(t=this._retryQueue)===null||t===void 0||t.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(e){this.__loaded&&(oF?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Mw(e.url,{ip:this.config.ip?1:0}),e.headers={...this.config.request_headers},e.compression=e.compression==="best-available"?this.compression:e.compression,(t=>{var r,i,s;const o={...t};o.timeout=o.timeout||6e4,o.url=Mw(o.url,{_:new Date().getTime().toString(),ver:ya.LIB_VERSION,compression:o.compression});const a=(r=o.transport)!==null&&r!==void 0?r:"XHR",l=(i=(s=bN(Hp,c=>c.transport===a))===null||s===void 0?void 0:s.method)!==null&&i!==void 0?i:Hp[0].method;if(!l)throw new Error("No available transport method");l(o)})({...e,callback:t=>{var r,i,s;this.rateLimiter.checkForLimiting(t),t.statusCode>=400&&((i=(s=this.config).on_request_error)===null||i===void 0||i.call(s,t)),(r=e.callback)===null||r===void 0||r.call(e,t)}})))}_send_retriable_request(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}_execute_array(e){let t;const r=[],i=[],s=[];$d(e,a=>{a&&(t=a[0],tn(t)?s.push(a):gi(a)?a.call(this):tn(a)&&t==="alias"?r.push(a):tn(a)&&t.indexOf("capture")!==-1&&gi(this[t])?s.push(a):i.push(a))});const o=function(a,l){$d(a,function(c){if(tn(c[0])){let u=l;ct(c,function(d){u=u[d[0]].apply(u,d.slice(1))})}else this[c[0]].apply(this,c.slice(1))},l)};o(r,this),o(i,this),o(s,this)}_hasBootstrappedFeatureFlags(){var e,t;return((e=this.config.bootstrap)===null||e===void 0?void 0:e.featureFlags)&&Object.keys((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return void X.uninitializedWarning("posthog.capture");if(this.consent.isOptedOut())return;if(ye(e)||!Bn(e))return void X.error("No event name provided to posthog.capture");if(!this.config.opt_out_useragent_filter&&this._is_bot())return;const s=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s!=null&&s.isRateLimited)return void X.critical("This capture call is ignored due to client rate limiting.");this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();const o=new Date,a=(r==null?void 0:r.timestamp)||o;let l={uuid:Ya(),event:e,properties:this._calculate_event_properties(e,t||{},a)};s&&(l.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),r!=null&&r.$set&&(l.$set=r==null?void 0:r.$set);const c=this._calculate_set_once_properties(r==null?void 0:r.$set_once);c&&(l.$set_once=c),l=xG(l,r!=null&&r._noTruncate?null:this.config.properties_string_max_length),l.timestamp=a,ye(r==null?void 0:r.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=o);const u={...l.properties.$set,...l.$set};ry(u)||this.setPersonPropertiesForFlags(u),this._internalEventEmitter.emit("eventCaptured",l);const d={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:l,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(d):this._requestQueue.enqueue(d),l}_addCaptureHook(e){return this.on("eventCaptured",t=>e(t.event,t))}_calculate_event_properties(e,t,r){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return t;const i=this.persistence.remove_event_timer(e);let s={...t};if(s.token=this.config.token,e==="$snapshot"){const c={...this.persistence.properties(),...this.sessionPersistence.properties()};return s.distinct_id=c.distinct_id,(!Bn(s.distinct_id)&&!zr(s.distinct_id)||wR(s.distinct_id))&&X.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),s}const o=Qt.properties();if(this.sessionManager){const{sessionId:c,windowId:u}=this.sessionManager.checkAndGetSessionAndWindowId();s.$session_id=c,s.$window_id=u}if(this.requestRouter.region===uc.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(e==="$pageview"||e==="$pageleave"||e==="$autocapture")){const c=this.sessionPropsManager.getSessionProps();s=Zn(s,c)}if(!this.config.disable_scroll_properties){let c={};e==="$pageview"?c=this.pageViewManager.doPageView(r):e==="$pageleave"&&(c=this.pageViewManager.doPageLeave(r)),s=Zn(s,c)}if(e==="$pageview"&&pe&&(s.title=pe.title),!ye(i)){const c=r.getTime()-i;s.$duration=parseFloat((c/1e3).toFixed(3))}cn&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?"bot":"browser"),s=Zn({},o,this.persistence.properties(),this.sessionPersistence.properties(),s),s.$is_identified=this._isIdentified(),tn(this.config.property_denylist)?ct(this.config.property_denylist,function(c){delete s[c]}):X.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);const a=this.config.sanitize_properties;a&&(s=a(s,e));const l=this._hasPersonProcessing();return s.$process_person_profile=l,l&&this._requirePersonProcessing("_calculate_event_properties"),s}_calculate_set_once_properties(e){if(!this.persistence||!this._hasPersonProcessing())return e;let t=Zn({},this.persistence.get_initial_props(),e||{});const r=this.config.sanitize_properties;return r&&(t=r(t,"$set_once")),ry(t)?void 0:t}register(e,t){var r;(r=this.persistence)===null||r===void 0||r.register(e,t)}register_once(e,t,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(e,t,r)}register_for_session(e){var t;(t=this.sessionPersistence)===null||t===void 0||t.register(e)}unregister(e){var t;(t=this.persistence)===null||t===void 0||t.unregister(e)}unregister_for_session(e){var t;(t=this.sessionPersistence)===null||t===void 0||t.unregister(e)}_register_single(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){const t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch{return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}getEarlyAccessFeatures(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,t)}on(e,t){return this._internalEventEmitter.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSessionId(e){var t,r;return(t=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(e))!==null&&t!==void 0?t:()=>{}}getSurveys(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){this.surveys.canRenderSurvey(e)}getNextSurveyStep(e,t,r){return this.surveys.getNextSurveyStep(e,t,r)}identify(e,t,r){if(!this.__loaded||!this.persistence)return X.uninitializedWarning("posthog.identify");if(zr(e)&&(e=e.toString(),X.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),!e)return void X.error("Unique user id has not been set in posthog.identify");if(["distinct_id","distinctid"].includes(e.toLowerCase()))return void X.critical(`The string "${e}" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.`);if(!this._requirePersonProcessing("posthog.identify"))return;const i=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){const o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}e!==i&&e!==this.get_property(sp)&&(this.unregister(sp),this.register({distinct_id:e}));const s=(this.persistence.get_property(Qs)||"anonymous")==="anonymous";e!==i&&s?(this.persistence.set_property(Qs,"identified"),this.setPersonPropertiesForFlags(t||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:i},{$set:t||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(t||r)&&this.setPersonProperties(t,r),e!==i&&(this.reloadFeatureFlags(),this.unregister(bw))}setPersonProperties(e,t){(e||t)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:t||{}}))}group(e,t,r){if(!e||!t)return void X.error("posthog.group requires a group type and group key");if(!this._requirePersonProcessing("posthog.group"))return;const i=this.getGroups();i[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:{...i,[e]:t}}),r&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:r}),this.setGroupPropertiesForFlags({[e]:r})),i[e]===t||r||this.reloadFeatureFlags()}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,r,i,s;if(X.info("reset"),!this.__loaded)return X.uninitializedWarning("posthog.reset");const o=this.get_property("$device_id");this.consent.reset(),(t=this.persistence)===null||t===void 0||t.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_property(Qs,"anonymous"),(s=this.sessionManager)===null||s===void 0||s.resetSessionId();const a=this.config.get_device_id(Ya());this.register_once({distinct_id:a,$device_id:e?a:o},"")}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,t;return(e=(t=this.sessionManager)===null||t===void 0?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";const{sessionId:t,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0);let i=this.requestRouter.endpointFor("ui",`/project/${this.config.token}/replay/${t}`);if(e!=null&&e.withTimestamp&&r){var s;const o=(s=e.timestampLookBack)!==null&&s!==void 0?s:10;if(!r)return i;i+=`?t=${Math.max(Math.floor((new Date().getTime()-r)/1e3)-o,0)}`}return i}alias(e,t){return e===this.get_property(xN)?(X.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(ye(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(sp,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(X.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){const t={...this.config};var r,i,s,o;Ut(e)&&(Zn(this.config,cM(e)),(r=this.persistence)===null||r===void 0||r.update_config(this.config,t),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new qb({...this.config,persistence:"sessionStorage"}),en.is_supported()&&en.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(ya.DEBUG=!0,X.info("set_config",{config:e,oldConfig:t,newConfig:{...this.config}})),(i=this.sessionRecording)===null||i===void 0||i.startIfEnabledOrStop(),(s=this.autocapture)===null||s===void 0||s.startIfEnabled(),(o=this.heatmaps)===null||o===void 0||o.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(e){const t=cc(e)&&e;if(t||e!=null&&e.sampling||e!=null&&e.linked_flag){var r;const o=(r=this.sessionManager)===null||r===void 0?void 0:r.checkAndGetSessionAndWindowId();var i,s;(t||e!=null&&e.sampling)&&((i=this.sessionRecording)===null||i===void 0||i.overrideSampling(),X.info("Session recording started with sampling override for session: ",o==null?void 0:o.sessionId)),(t||e!=null&&e.linked_flag)&&((s=this.sessionRecording)===null||s===void 0||s.overrideLinkedFlag(),X.info("Session recording started with linked_flags override"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)===null||e===void 0||!e.started)}captureException(e,t){var r;const i=new Error("PostHog syntheticException"),s=gi((r=Ie.__PosthogExtensions__)===null||r===void 0?void 0:r.parseErrorAsProperties)?Ie.__PosthogExtensions__.parseErrorAsProperties([e.message,void 0,void 0,void 0,e],{syntheticException:i}):{$exception_level:"error",$exception_list:[{type:e.name,value:e.message,mechanism:{handled:!0,synthetic:!1}}],...t};this.exceptions.sendExceptionEvent(s)}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return(t=this.persistence)===null||t===void 0?void 0:t.props[e]}getSessionProperty(e){var t;return(t=this.sessionPersistence)===null||t===void 0?void 0:t.props[e]}toString(){var e;let t=(e=this.config.name)!==null&&e!==void 0?e:Ju;return t!==Ju&&(t=Ju+"."+t),t}_isIdentified(){var e,t;return((e=this.persistence)===null||e===void 0?void 0:e.get_property(Qs))==="identified"||((t=this.sessionPersistence)===null||t===void 0?void 0:t.get_property(Qs))==="identified"}_hasPersonProcessing(){var e,t,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&ry(this.getGroups())&&((e=this.persistence)===null||e===void 0||(t=e.props)===null||t===void 0||!t[sp])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[xw]))}_shouldCapturePageleave(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}_requirePersonProcessing(e){return this.config.person_profiles==="never"?(X.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(xw,!0),!0)}_sync_opt_out_with_persistence(){var e,t;const r=this.consent.isOptedOut(),i=this.config.opt_out_persistence_by_default,s=this.config.disable_persistence||r&&!!i;var o,a;((e=this.persistence)===null||e===void 0?void 0:e.disabled)!==s&&((o=this.persistence)===null||o===void 0||o.set_disabled(s)),((t=this.sessionPersistence)===null||t===void 0?void 0:t.disabled)!==s&&((a=this.sessionPersistence)===null||a===void 0||a.set_disabled(s))}opt_in_capturing(e){var t;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(ye(e==null?void 0:e.captureEventName)||e!=null&&e.captureEventName)&&this.capture((t=e==null?void 0:e.captureEventName)!==null&&t!==void 0?t:"$opt_in",e==null?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return Gr?iF(Gr,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){pe&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture("$pageview",{title:pe.title},{send_instantly:!0}))}debug(e){e===!1?($==null||$.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):($==null||$.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}(function(n,e){for(let t=0;t<e.length;t++)n.prototype[e[t]]=bG(n.prototype[e[t]])})(o1,["identify"]);const sy=function(){const n=Wp[Ju]=new o1;return function(){function e(){e.done||(e.done=!0,oF=!1,ct(Wp,function(t){t._dom_loaded()}))}pe!=null&&pe.addEventListener&&(pe.readyState==="complete"?e():pe.addEventListener("DOMContentLoaded",e,!1)),$&&ko($,"load",e,!0)}(),n}();var Yq=w.createContext({client:sy});function Xq(n){var e=n.children,t=n.client,r=n.apiKey,i=n.options,s=w.useMemo(function(){return t&&r&&console.warn("[PostHog.js] You have provided both a client and an apiKey to PostHogProvider. The apiKey will be ignored in favour of the client."),t&&i&&console.warn("[PostHog.js] You have provided both a client and options to PostHogProvider. The options will be ignored in favour of the client."),t||(r&&(sy.__loaded&&console.warn("[PostHog.js] was already loaded elsewhere. This may cause issues."),sy.init(r,i)),sy)},[t,r]);return I.createElement(Yq.Provider,{value:{client:s}},e)}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sg(){return Sg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sg.apply(this,arguments)}var Xa;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Xa||(Xa={}));const uM="popstate";function Qq(n){n===void 0&&(n={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Iu(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),cE("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:aF(s))}function r(i,s){OP(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Jq(e,t,r,n)}function Ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function OP(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zq(){return Math.random().toString(36).substr(2,8)}function dM(n,e){return{usr:n.state,key:n.key,idx:e}}function cE(n,e,t,r){return t===void 0&&(t=null),Sg({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Iu(e):e,{state:t,key:e&&e.key||r||Zq()})}function aF(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Iu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Jq(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Xa.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Sg({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Xa.Pop;let _=u(),y=_==null?null:_-c;c=_,l&&l({action:a,location:m.location,delta:y})}function h(_,y){a=Xa.Push;let b=cE(m.location,_,y);t&&t(b,_),c=u()+1;let x=dM(b,c),S=m.createHref(b);try{o.pushState(x,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}s&&l&&l({action:a,location:m.location,delta:1})}function p(_,y){a=Xa.Replace;let b=cE(m.location,_,y);t&&t(b,_),c=u();let x=dM(b,c),S=m.createHref(b);o.replaceState(x,"",S),s&&l&&l({action:a,location:m.location,delta:0})}function g(_){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof _=="string"?_:aF(_);return b=b.replace(/ $/,"%20"),Ht(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return a},get location(){return n(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uM,d),l=_,()=>{i.removeEventListener(uM,d),l=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let y=g(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(_){return o.go(_)}};return m}var hM;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(hM||(hM={}));function eK(n,e,t){return t===void 0&&(t="/"),tK(n,e,t,!1)}function tK(n,e,t,r){let i=typeof e=="string"?Iu(e):e,s=uF(i.pathname||"/",t);if(s==null)return null;let o=lF(n);nK(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=fK(s);a=dK(o[l],c,r)}return a}function lF(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=uu([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(Ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lF(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:cK(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of cF(s.path))i(s,o,l)}),e}function cF(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=cF(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function nK(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uK(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const rK=/^:[\w-]+$/,iK=3,sK=2,oK=1,aK=10,lK=-2,fM=n=>n==="*";function cK(n,e){let t=n.split("/"),r=t.length;return t.some(fM)&&(r+=lK),e&&(r+=sK),t.filter(i=>!fM(i)).reduce((i,s)=>i+(rK.test(s)?iK:s===""?oK:aK),r)}function uK(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function dK(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=pM({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&t&&!r[r.length-1].route.index&&(d=pM({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:uu([s,d.pathname]),pathnameBase:vK(uu([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=uu([s,d.pathnameBase]))}return o}function pM(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=hK(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function hK(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),OP(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function fK(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return OP(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function uF(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function pK(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Iu(n):n;return{pathname:t?t.startsWith("/")?t:gK(t,e):e,search:yK(r),hash:wK(i)}}function gK(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Qb(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mK(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dF(n,e){let t=mK(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function hF(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Iu(n):(i=Sg({},n),Ht(!i.pathname||!i.pathname.includes("?"),Qb("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),Qb("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),Qb("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=pK(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const uu=n=>n.join("/").replace(/\/\/+/g,"/"),vK=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yK=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wK=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _K(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const fF=["post","put","patch","delete"];new Set(fF);const bK=["get",...fF];new Set(bK);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eg(){return Eg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Eg.apply(this,arguments)}const NP=w.createContext(null),xK=w.createContext(null),Ev=w.createContext(null),a1=w.createContext(null),Rl=w.createContext({outlet:null,matches:[],isDataRoute:!1}),pF=w.createContext(null);function Cv(){return w.useContext(a1)!=null}function wf(){return Cv()||Ht(!1),w.useContext(a1).location}function gF(n){w.useContext(Ev).static||w.useLayoutEffect(n)}function Ou(){let{isDataRoute:n}=w.useContext(Rl);return n?FK():SK()}function SK(){Cv()||Ht(!1);let n=w.useContext(NP),{basename:e,future:t,navigator:r}=w.useContext(Ev),{matches:i}=w.useContext(Rl),{pathname:s}=wf(),o=JSON.stringify(dF(i,t.v7_relativeSplatPath)),a=w.useRef(!1);return gF(()=>{a.current=!0}),w.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=hF(c,JSON.parse(o),s,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:uu([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,n])}const EK=w.createContext(null);function CK(n){let e=w.useContext(Rl).outlet;return e&&w.createElement(EK.Provider,{value:n},e)}function AK(n,e){return PK(n,e)}function PK(n,e,t,r){Cv()||Ht(!1);let{navigator:i}=w.useContext(Ev),{matches:s}=w.useContext(Rl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=wf(),u;if(e){var d;let _=typeof e=="string"?Iu(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Ht(!1),u=_}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=eK(n,{pathname:p}),m=DK(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:uu([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:uu([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,t,r);return e&&m?w.createElement(a1.Provider,{value:{location:Eg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Xa.Pop}},m):m}function TK(){let n=NK(),e=_K(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:i},t):null,null)}const kK=w.createElement(TK,null);class RK extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(Rl.Provider,{value:this.props.routeContext},w.createElement(pF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MK(n){let{routeContext:e,match:t,children:r}=n,i=w.useContext(NP);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Rl.Provider,{value:e},r)}function DK(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ht(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=t,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,g=!1,m=null,_=null;t&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||kK,l&&(c<0&&h===0?(g=!0,_=null):c===h&&(g=!0,_=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),b=()=>{let x;return p?x=m:g?x=_:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,w.createElement(MK,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:t!=null},children:x})};return t&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(RK,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var mF=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(mF||{}),Iw=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Iw||{});function LK(n){let e=w.useContext(NP);return e||Ht(!1),e}function IK(n){let e=w.useContext(xK);return e||Ht(!1),e}function OK(n){let e=w.useContext(Rl);return e||Ht(!1),e}function vF(n){let e=OK(),t=e.matches[e.matches.length-1];return t.route.id||Ht(!1),t.route.id}function NK(){var n;let e=w.useContext(pF),t=IK(Iw.UseRouteError),r=vF(Iw.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function FK(){let{router:n}=LK(mF.UseNavigateStable),e=vF(Iw.UseNavigateStable),t=w.useRef(!1);return gF(()=>{t.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Eg({fromRouteId:e},s)))},[n,e])}function Cg(n){let{to:e,replace:t,state:r,relative:i}=n;Cv()||Ht(!1);let{future:s,static:o}=w.useContext(Ev),{matches:a}=w.useContext(Rl),{pathname:l}=wf(),c=Ou(),u=hF(e,dF(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return w.useEffect(()=>c(JSON.parse(d),{replace:t,state:r,relative:i}),[c,d,i,t,r]),null}function jK(n){return CK(n.context)}function ri(n){Ht(!1)}function $K(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Xa.Pop,navigator:s,static:o=!1,future:a}=n;Cv()&&Ht(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:s,static:o,future:Eg({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Iu(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,m=w.useMemo(()=>{let _=uF(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:g},navigationType:i}},[l,u,d,h,p,g,i]);return m==null?null:w.createElement(Ev.Provider,{value:c},w.createElement(a1.Provider,{children:t,value:m}))}function BK(n){let{children:e,location:t}=n;return AK(uE(e),t)}new Promise(()=>{});function uE(n,e){e===void 0&&(e=[]);let t=[];return w.Children.forEach(n,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){t.push.apply(t,uE(r.props.children,s));return}r.type!==ri&&Ht(!1),!r.props.index||!r.props.children||Ht(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=uE(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const zK="6";try{window.__reactRouterVersion=zK}catch{}const UK="startTransition",gM=$y[UK];function VK(n){let{basename:e,children:t,future:r,window:i}=n,s=w.useRef();s.current==null&&(s.current=Qq({window:i,v5Compat:!0}));let o=s.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=w.useCallback(d=>{c&&gM?gM(()=>l(d)):l(d)},[l,c]);return w.useLayoutEffect(()=>o.listen(u),[o,u]),w.createElement($K,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}var mM;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(mM||(mM={}));var vM;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(vM||(vM={}));function HK(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}function Ag(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const dE=n=>Array.isArray(n);function yF(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Pg(n){return typeof n=="string"||Array.isArray(n)}function yM(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function FP(n,e,t,r){if(typeof e=="function"){const[i,s]=yM(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=yM(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function l1(n,e,t){const r=n.getProps();return FP(r,e,t!==void 0?t:r.custom,n)}const jP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$P=["initial",...jP],Av=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ml=new Set(Av),Oo=n=>n*1e3,No=n=>n/1e3,WK={type:"spring",stiffness:500,damping:25,restSpeed:10},GK=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),qK={type:"keyframes",duration:.8},KK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YK=(n,{keyframes:e})=>e.length>2?qK:Ml.has(n)?n.startsWith("scale")?GK(e[1]):WK:KK;function BP(n,e){return n?n[e]||n.default||n:void 0}const XK={skipAnimations:!1,useManualTiming:!1},QK=n=>n!==null;function c1(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(QK),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Vn=n=>n;function ZK(n){let e=new Set,t=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),n()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const p=d&&r?e:t;return u&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{t.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,t]=[t,e],t.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const E0=["read","resolveKeyframes","update","preRender","render","postRender"],JK=40;function wF(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=E0.reduce((y,b)=>(y[b]=ZK(s),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=o,p=()=>{const y=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,JK),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(p))},g=()=>{t=!0,r=!0,i.isProcessing||n(p)};return{schedule:E0.reduce((y,b)=>{const x=o[b];return y[b]=(S,E=!1,k=!1)=>(t||g(),x.schedule(S,E,k)),y},{}),cancel:y=>{for(let b=0;b<E0.length;b++)o[E0[b]].cancel(y)},state:i,steps:o}}const{schedule:Je,cancel:fl,state:Sn,steps:Zb}=wF(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vn,!0),_F=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,eY=1e-7,tY=12;function nY(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=_F(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>eY&&++a<tY);return o}function Pv(n,e,t,r){if(n===e&&t===r)return Vn;const i=s=>nY(s,0,1,n,t);return s=>s===0||s===1?s:_F(i(s),e,r)}const bF=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,xF=n=>e=>1-n(1-e),SF=Pv(.33,1.53,.69,.99),zP=xF(SF),EF=bF(zP),CF=n=>(n*=2)<1?.5*zP(n):.5*(2-Math.pow(2,-10*(n-1))),UP=n=>1-Math.sin(Math.acos(n)),AF=xF(UP),PF=bF(UP),TF=n=>/^0[^.\s]+$/u.test(n);function rY(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||TF(n):!0}let hE=Vn;const kF=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),RF=n=>e=>typeof e=="string"&&e.startsWith(n),MF=RF("--"),iY=RF("var(--"),VP=n=>iY(n)?sY.test(n.split("/*")[0].trim()):!1,sY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aY(n){const e=oY.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function DF(n,e,t=1){const[r,i]=aY(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return kF(o)?parseFloat(o):o}return VP(i)?DF(i,e,t+1):i}const pl=(n,e,t)=>t>e?e:t<n?n:t,_f={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Tg={..._f,transform:n=>pl(0,1,n)},C0={..._f,default:1},Tv=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ua=Tv("deg"),Is=Tv("%"),be=Tv("px"),lY=Tv("vh"),cY=Tv("vw"),wM={...Is,parse:n=>Is.parse(n)/100,transform:n=>Is.transform(n*100)},uY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),_M=n=>n===_f||n===be,bM=(n,e)=>parseFloat(n.split(", ")[e]),xM=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return bM(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?bM(s[1],n):0}},dY=new Set(["x","y","z"]),hY=Av.filter(n=>!dY.has(n));function fY(n){const e=[];return hY.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const sf={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:xM(4,13),y:xM(5,14)};sf.translateX=sf.x;sf.translateY=sf.y;const LF=n=>e=>e.test(n),pY={test:n=>n==="auto",parse:n=>n},IF=[_f,be,Is,ua,cY,lY,pY],SM=n=>IF.find(LF(n)),du=new Set;let fE=!1,pE=!1;function OF(){if(pE){const n=Array.from(du).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=fY(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pE=!1,fE=!1,du.forEach(n=>n.complete()),du.clear()}function NF(){du.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pE=!0)})}function gY(){NF(),OF()}class HP{constructor(e,t,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(du.add(this),fE||(fE=!0,Je.read(NF),Je.resolveKeyframes(OF))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&t){const l=r.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),du.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,du.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Gp=n=>Math.round(n*1e5)/1e5,WP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mY(n){return n==null}const vY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,GP=(n,e)=>t=>!!(typeof t=="string"&&vY.test(t)&&t.startsWith(n)||e&&!mY(t)&&Object.prototype.hasOwnProperty.call(t,e)),FF=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(WP);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},yY=n=>pl(0,255,n),Jb={..._f,transform:n=>Math.round(yY(n))},dc={test:GP("rgb","red"),parse:FF("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Jb.transform(n)+", "+Jb.transform(e)+", "+Jb.transform(t)+", "+Gp(Tg.transform(r))+")"};function wY(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const gE={test:GP("#"),parse:wY,transform:dc.transform},xd={test:GP("hsl","hue"),parse:FF("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Is.transform(Gp(e))+", "+Is.transform(Gp(t))+", "+Gp(Tg.transform(r))+")"},Nn={test:n=>dc.test(n)||gE.test(n)||xd.test(n),parse:n=>dc.test(n)?dc.parse(n):xd.test(n)?xd.parse(n):gE.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?dc.transform(n):xd.transform(n)},_Y=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bY(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(WP))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(_Y))===null||t===void 0?void 0:t.length)||0)>0}const jF="number",$F="color",xY="var",SY="var(",EM="${}",EY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kg(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(EY,l=>(Nn.test(l)?(r.color.push(s),i.push($F),t.push(Nn.parse(l))):l.startsWith(SY)?(r.var.push(s),i.push(xY),t.push(l)):(r.number.push(s),i.push(jF),t.push(parseFloat(l))),++s,EM)).split(EM);return{values:t,split:a,indexes:r,types:i}}function BF(n){return kg(n).values}function zF(n){const{split:e,types:t}=kg(n),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=t[o];a===jF?s+=Gp(i[o]):a===$F?s+=Nn.transform(i[o]):s+=i[o]}return s}}const CY=n=>typeof n=="number"?0:n;function AY(n){const e=BF(n);return zF(n)(e.map(CY))}const gl={test:bY,parse:BF,createTransformer:zF,getAnimatableNone:AY},PY=new Set(["brightness","contrast","saturate","opacity"]);function TY(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(WP)||[];if(!r)return n;const i=t.replace(r,"");let s=PY.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const kY=/\b([a-z-]*)\(.*?\)/gu,mE={...gl,getAnimatableNone:n=>{const e=n.match(kY);return e?e.map(TY).join(" "):n}},RY={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be},MY={rotate:ua,rotateX:ua,rotateY:ua,rotateZ:ua,scale:C0,scaleX:C0,scaleY:C0,scaleZ:C0,skew:ua,skewX:ua,skewY:ua,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Tg,originX:wM,originY:wM,originZ:be},CM={..._f,transform:Math.round},qP={...RY,...MY,zIndex:CM,size:be,fillOpacity:Tg,strokeOpacity:Tg,numOctaves:CM},DY={...qP,color:Nn,backgroundColor:Nn,outlineColor:Nn,fill:Nn,stroke:Nn,borderColor:Nn,borderTopColor:Nn,borderRightColor:Nn,borderBottomColor:Nn,borderLeftColor:Nn,filter:mE,WebkitFilter:mE},KP=n=>DY[n];function UF(n,e){let t=KP(n);return t!==mE&&(t=gl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const LY=new Set(["auto","none","0"]);function IY(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!LY.has(s)&&kg(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=UF(t,i)}class VF extends HP{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),VP(c))){const u=DF(c,t.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!uY.has(r)||e.length!==2)return;const[i,s]=e,o=SM(i),a=SM(s);if(o!==a)if(_M(o)&&_M(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)rY(e[i])&&r.push(i);r.length&&IY(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sf[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=sf[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function YP(n){return typeof n=="function"}let oy;function OY(){oy=void 0}const Os={now:()=>(oy===void 0&&Os.set(Sn.isProcessing||XK.useManualTiming?Sn.timestamp:performance.now()),oy),set:n=>{oy=n,queueMicrotask(OY)}},AM=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(gl.test(n)||n==="0")&&!n.startsWith("url("));function NY(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function FY(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=AM(i,e),a=AM(s,e);return!o||!a?!1:NY(n)||(t==="spring"||YP(t))&&r}const jY=40;class HF{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Os.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>jY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&gY(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Os.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!FY(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(c1(e,this.options,t)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,t);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function WF(n,e){return e?n*(1e3/e):0}const $Y=5;function GF(n,e,t){const r=Math.max(e-$Y,0);return WF(t-n(r),e-r)}const ex=.001,BY=.01,zY=10,UY=.05,VY=1;function HY({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s,o=1-e;o=pl(UY,VY,o),n=pl(BY,zY,No(n)),o<1?(i=c=>{const u=c*o,d=u*n,h=u-t,p=vE(c,o),g=Math.exp(-d);return ex-h/p*g},s=c=>{const d=c*o*n,h=d*t+t,p=Math.pow(o,2)*Math.pow(c,2)*n,g=Math.exp(-d),m=vE(Math.pow(c,2),o);return(-i(c)+ex>0?-1:1)*((h-p)*g)/m}):(i=c=>{const u=Math.exp(-c*n),d=(c-t)*n+1;return-ex+u*d},s=c=>{const u=Math.exp(-c*n),d=(t-c)*(n*n);return u*d});const a=5/n,l=GY(i,s,a);if(n=Oo(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const WY=12;function GY(n,e,t){let r=t;for(let i=1;i<WY;i++)r=r-n(r)/e(r);return r}function vE(n,e){return n*Math.sqrt(1-e*e)}const qY=["duration","bounce"],KY=["stiffness","damping","mass"];function PM(n,e){return e.some(t=>n[t]!==void 0)}function YY(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!PM(n,KY)&&PM(n,qY)){const t=HY(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function qF({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:h}=YY({...r,velocity:-No(r.velocity||0)}),p=d||0,g=l/(2*Math.sqrt(a*c)),m=s-i,_=No(Math.sqrt(a/c)),y=Math.abs(m)<5;t||(t=y?.01:2),e||(e=y?.005:.5);let b;if(g<1){const x=vE(_,g);b=S=>{const E=Math.exp(-g*_*S);return s-E*((p+g*_*m)/x*Math.sin(x*S)+m*Math.cos(x*S))}}else if(g===1)b=x=>s-Math.exp(-_*x)*(m+(p+_*m)*x);else{const x=_*Math.sqrt(g*g-1);b=S=>{const E=Math.exp(-g*_*S),k=Math.min(x*S,300);return s-E*((p+g*_*m)*Math.sinh(k)+x*m*Math.cosh(k))/x}}return{calculatedDuration:h&&u||null,next:x=>{const S=b(x);if(h)o.done=x>=u;else{let E=0;g<1&&(E=x===0?Oo(p):GF(b,x,S));const k=Math.abs(E)<=t,R=Math.abs(s-S)<=e;o.done=k&&R}return o.value=o.done?s:S,o}}}function TM({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=n[0],h={done:!1,value:d},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,g=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let m=t*e;const _=d+m,y=o===void 0?_:o(_);y!==_&&(m=y-d);const b=T=>-m*Math.exp(-T/r),x=T=>y+b(T),S=T=>{const M=b(T),L=x(T);h.done=Math.abs(M)<=c,h.value=h.done?y:L};let E,k;const R=T=>{p(h.value)&&(E=T,k=qF({keyframes:[h.value,g(h.value)],velocity:GF(x,T,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:T=>{let M=!1;return!k&&E===void 0&&(M=!0,S(T),R(T)),E!==void 0&&T>=E?k.next(T-E):(!M&&S(T),h)}}}const XY=Pv(.42,0,1,1),QY=Pv(0,0,.58,1),KF=Pv(.42,0,.58,1),ZY=n=>Array.isArray(n)&&typeof n[0]!="number",XP=n=>Array.isArray(n)&&typeof n[0]=="number",kM={linear:Vn,easeIn:XY,easeInOut:KF,easeOut:QY,circIn:UP,circInOut:PF,circOut:AF,backIn:zP,backInOut:EF,backOut:SF,anticipate:CF},RM=n=>{if(XP(n)){hE(n.length===4);const[e,t,r,i]=n;return Pv(e,t,r,i)}else if(typeof n=="string")return hE(kM[n]!==void 0),kM[n];return n},JY=(n,e)=>t=>e(n(t)),Fo=(...n)=>n.reduce(JY),of=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},At=(n,e,t)=>n+(e-n)*t;function tx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function eX({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=tx(l,a,n+1/3),s=tx(l,a,n),o=tx(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Ow(n,e){return t=>t>0?e:n}const nx=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},tX=[gE,dc,xd],nX=n=>tX.find(e=>e.test(n));function MM(n){const e=nX(n);if(!e)return!1;let t=e.parse(n);return e===xd&&(t=eX(t)),t}const DM=(n,e)=>{const t=MM(n),r=MM(e);if(!t||!r)return Ow(n,e);const i={...t};return s=>(i.red=nx(t.red,r.red,s),i.green=nx(t.green,r.green,s),i.blue=nx(t.blue,r.blue,s),i.alpha=At(t.alpha,r.alpha,s),dc.transform(i))},yE=new Set(["none","hidden"]);function rX(n,e){return yE.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function iX(n,e){return t=>At(n,e,t)}function QP(n){return typeof n=="number"?iX:typeof n=="string"?VP(n)?Ow:Nn.test(n)?DM:aX:Array.isArray(n)?YF:typeof n=="object"?Nn.test(n)?DM:sX:Ow}function YF(n,e){const t=[...n],r=t.length,i=n.map((s,o)=>QP(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}}function sX(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=QP(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function oX(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=n.indexes[o][i[o]],l=(t=n.values[a])!==null&&t!==void 0?t:0;r[s]=l,i[o]++}return r}const aX=(n,e)=>{const t=gl.createTransformer(e),r=kg(n),i=kg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?yE.has(n)&&!i.values.length||yE.has(e)&&!r.values.length?rX(n,e):Fo(YF(oX(r,i),i.values),t):Ow(n,e)};function XF(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?At(n,e,t):QP(n)(n,e)}function lX(n,e,t){const r=[],i=t||XF,s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Vn:e;a=Fo(l,a)}r.push(a)}return r}function cX(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(hE(s===e.length),s===1)return()=>e[0];if(s===2&&n[0]===n[1])return()=>e[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=lX(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const d=of(n[u],n[u+1],c);return o[u](d)};return t?c=>l(pl(n[0],n[s-1],c)):l}function uX(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=of(0,e,r);n.push(At(t,1,i))}}function dX(n){const e=[0];return uX(e,n.length-1),e}function hX(n,e){return n.map(t=>t*e)}function fX(n,e){return n.map(()=>e||KF).splice(0,n.length-1)}function Nw({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=ZY(r)?r.map(RM):RM(r),s={done:!1,value:e[0]},o=hX(t&&t.length===e.length?t:dX(e),n),a=cX(o,e,{ease:Array.isArray(i)?i:fX(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const LM=2e4;function pX(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<LM;)e+=t,r=n.next(e);return e>=LM?1/0:e}const gX=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Je.update(e,!0),stop:()=>fl(e),now:()=>Sn.isProcessing?Sn.timestamp:Os.now()}},mX={decay:TM,inertia:TM,tween:Nw,keyframes:Nw,spring:qF},vX=n=>n/100;class ZP extends HF{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||HP,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,t,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=YP(t)?t:mX[t]||Nw;let l,c;a!==Nw&&typeof e[0]!="number"&&(l=Fo(vX,XF(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=pX(u));const{calculatedDuration:d}=u,h=d+i,p=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:p,repeatType:g,repeatDelay:m,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),b=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,S=s;if(p){const T=Math.min(this.currentTime,u)/d;let M=Math.floor(T),L=T%1;!L&&T>=1&&(L=1),L===1&&M--,M=Math.min(M,p+1),!!(M%2)&&(g==="reverse"?(L=1-L,m&&(L-=m/d)):g==="mirror"&&(S=o)),x=pl(0,1,L)*d}const E=b?{done:!1,value:l[0]}:S.next(x);a&&(E.value=a(E.value));let{done:k}=E;!b&&c!==null&&(k=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return R&&i!==void 0&&(E.value=c1(l,this.options,i)),_&&_(E.value),R&&this.finish(),E}get duration(){const{resolved:e}=this;return e?No(e.calculatedDuration):0}get time(){return No(this.currentTime)}set time(e){e=Oo(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=No(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=gX,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const QF=new Set(["opacity","clipPath","filter","transform"]),yX=10,wX=(n,e)=>{let t="";const r=Math.max(Math.round(e/yX),2);for(let i=0;i<r;i++)t+=n(of(0,r-1,i))+", ";return`linear(${t.substring(0,t.length-2)})`};function JP(n){let e;return()=>(e===void 0&&(e=n()),e)}const _X={linearEasing:void 0};function bX(n,e){const t=JP(n);return()=>{var r;return(r=_X[e])!==null&&r!==void 0?r:t()}}const Fw=bX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function ZF(n){return!!(typeof n=="function"&&Fw()||!n||typeof n=="string"&&(n in wE||Fw())||XP(n)||Array.isArray(n)&&n.every(ZF))}const cp=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,wE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cp([0,.65,.55,1]),circOut:cp([.55,0,1,.45]),backIn:cp([.31,.01,.66,-.59]),backOut:cp([.33,1.53,.69,.99])};function JF(n,e){if(n)return typeof n=="function"&&Fw()?wX(n,e):XP(n)?cp(n):Array.isArray(n)?n.map(t=>JF(t,e)||wE.easeOut):wE[n]}function xX(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=JF(a,i);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function IM(n,e){n.timeline=e,n.onfinish=null}const SX=JP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jw=10,EX=2e4;function CX(n){return YP(n.type)||n.type==="spring"||!ZF(n.ease)}function AX(n,e){const t=new ZP({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let s=0;for(;!r.done&&s<EX;)r=t.sample(s),i.push(r.value),s+=jw;return{times:void 0,keyframes:i,duration:s-jw,ease:"linear"}}const e4={anticipate:CF,backInOut:EF,circInOut:PF};function PX(n){return n in e4}class OM extends HF{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new VF(s,(o,a)=>this.onKeyframesResolved(o,a),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&Fw()&&PX(o)&&(o=e4[o]),CX(this.options)){const{onComplete:h,onUpdate:p,motionValue:g,element:m,..._}=this.options,y=AX(e,_);e=y.keyframes,e.length===1&&(e[1]=e[0]),i=y.duration,s=y.times,o=y.ease,a="keyframes"}const d=xX(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(IM(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(c1(e,this.options,t)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return No(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return No(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Oo(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Vn;const{animation:r}=t;IM(r,e)}return Vn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:h,...p}=this.options,g=new ZP({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),m=Oo(this.time);c.setWithVelocity(g.sample(m-jw).value,g.sample(m).value,jw)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return SX()&&r&&QF.has(r)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const TX=JP(()=>window.ScrollTimeline!==void 0);class kX{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>TX()&&i.attachTimeline?i.attachTimeline(e):t(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function RX({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const e2=(n,e,t,r={},i,s)=>o=>{const a=BP(r,n)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Oo(l);let u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:i};RX(a)||(u={...u,...YK(n,u)}),u.duration&&(u.duration=Oo(u.duration)),u.repeatDelay&&(u.repeatDelay=Oo(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=c1(u.keyframes,a);if(h!==void 0)return Je.update(()=>{u.onUpdate(h),u.onComplete()}),new kX([])}return!s&&OM.supports(u)?new OM(u):new ZP(u)},MX=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),DX=n=>dE(n)?n[n.length-1]||0:n;function t2(n,e){n.indexOf(e)===-1&&n.push(e)}function n2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class r2{constructor(){this.subscriptions=[]}add(e){return t2(this.subscriptions,e),()=>n2(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const NM=30,LX=n=>!isNaN(parseFloat(n));class IX{constructor(e,t={}){this.version="11.11.9",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Os.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Os.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=LX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new r2);const r=this.events[e].add(t);return e==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Os.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>NM)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,NM);return WF(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rg(n,e){return new IX(n,e)}function OX(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Rg(t))}function NX(n,e){const t=l1(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const o in s){const a=DX(s[o]);OX(n,o,a)}}const u1=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FX="framerAppearId",t4="data-"+u1(FX);function n4(n){return n.props[t4]}const zn=n=>!!(n&&n.getVelocity);function jX(n){return!!(zn(n)&&n.add)}function _E(n,e){if(!n.applyWillChange)return;const t=n.getValue("willChange");if(jX(t))return t.add(e)}function $X({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function r4(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var s;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const d in l){const h=n.getValue(d,(s=n.latestValues[d])!==null&&s!==void 0?s:null),p=l[d];if(p===void 0||u&&$X(u,d))continue;const g={delay:t,...BP(o||{},d)};let m=!1;if(window.MotionHandoffAnimation){const y=n4(n);if(y){const b=window.MotionHandoffAnimation(y,d,Je);b!==null&&(g.startTime=b,m=!0)}}_E(n,d),h.start(e2(d,h,p,n.shouldReduceMotion&&Ml.has(d)?{type:!1}:g,n,m));const _=h.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{Je.update(()=>{a&&NX(n,a)})}),c}function bE(n,e,t={}){var r;const i=l1(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>Promise.all(r4(n,i,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return BX(n,e,u+c,d,h,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(t.delay)])}function BX(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(zX).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(bE(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function zX(n,e){return n.sortNodePosition(e)}function UX(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>bE(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=bE(n,e,t);else{const i=typeof e=="function"?l1(n,e,t.custom):e;r=Promise.all(r4(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const VX=$P.length;function i4(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?i4(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<VX;t++){const r=$P[t],i=n.props[r];(Pg(i)||i===!1)&&(e[r]=i)}return e}const HX=[...jP].reverse(),WX=jP.length;function GX(n){return e=>Promise.all(e.map(({animation:t,options:r})=>UX(n,t,r)))}function qX(n){let e=GX(n),t=FM(),r=!0;const i=l=>(c,u)=>{var d;const h=l1(n,u,l==="exit"?(d=n.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:p,transitionEnd:g,...m}=h;c={...c,...m,...g}}return c};function s(l){e=l(n)}function o(l){const{props:c}=n,u=i4(n.parent)||{},d=[],h=new Set;let p={},g=1/0;for(let _=0;_<WX;_++){const y=HX[_],b=t[y],x=c[y]!==void 0?c[y]:u[y],S=Pg(x),E=y===l?b.isActive:null;E===!1&&(g=_);let k=x===u[y]&&x!==c[y]&&S;if(k&&r&&n.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...p},!b.isActive&&E===null||!x&&!b.prevProp||Ag(x)||typeof x=="boolean")continue;const R=KX(b.prevProp,x);let T=R||y===l&&b.isActive&&!k&&S||_>g&&S,M=!1;const L=Array.isArray(x)?x:[x];let N=L.reduce(i(y),{});E===!1&&(N={});const{prevResolvedValues:z={}}=b,W={...z,...N},O=j=>{T=!0,h.has(j)&&(M=!0,h.delete(j)),b.needsAnimating[j]=!0;const D=n.getValue(j);D&&(D.liveStyle=!1)};for(const j in W){const D=N[j],F=z[j];if(p.hasOwnProperty(j))continue;let q=!1;dE(D)&&dE(F)?q=!yF(D,F):q=D!==F,q?D!=null?O(j):h.add(j):D!==void 0&&h.has(j)?O(j):b.protectedKeys[j]=!0}b.prevProp=x,b.prevResolvedValues=N,b.isActive&&(p={...p,...N}),r&&n.blockInitialAnimation&&(T=!1),T&&(!(k&&R)||M)&&d.push(...L.map(j=>({animation:j,options:{type:y}})))}if(h.size){const _={};h.forEach(y=>{const b=n.getBaseTarget(y),x=n.getValue(y);x&&(x.liveStyle=!0),_[y]=b??null}),d.push({animation:_})}let m=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(d):Promise.resolve()}function a(l,c){var u;if(t[l].isActive===c)return Promise.resolve();(u=n.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),t[l].isActive=c;const d=o(l);for(const h in t)t[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=FM(),r=!0}}}function KX(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!yF(e,n):!1}function Ul(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FM(){return{animate:Ul(!0),whileInView:Ul(),whileHover:Ul(),whileTap:Ul(),whileDrag:Ul(),whileFocus:Ul(),exit:Ul()}}class Dl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class YX extends Dl{constructor(e){super(e),e.animationState||(e.animationState=qX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ag(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let XX=0;class QX extends Dl{constructor(){super(...arguments),this.id=XX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const ZX={animation:{Feature:YX},exit:{Feature:QX}},s4=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function d1(n,e="page"){return{point:{x:n[`${e}X`],y:n[`${e}Y`]}}}const JX=n=>e=>s4(e)&&n(e,d1(e));function Do(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function jo(n,e,t,r){return Do(n,e,JX(t),r)}const jM=(n,e)=>Math.abs(n-e);function eQ(n,e){const t=jM(n.x,e.x),r=jM(n.y,e.y);return Math.sqrt(t**2+r**2)}class o4{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ix(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=eQ(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=d,{timestamp:m}=Sn;this.history.push({...g,timestamp:m});const{onStart:_,onMove:y}=this.handlers;h||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=rx(h,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ix(d.type==="pointercancel"?this.lastMoveEventInfo:rx(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,_),g&&g(d,_)},!s4(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=d1(e),a=rx(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Sn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,ix(a,this.history)),this.removeListeners=Fo(jo(this.contextWindow,"pointermove",this.handlePointerMove),jo(this.contextWindow,"pointerup",this.handlePointerUp),jo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fl(this.updatePoint)}}function rx(n,e){return e?{point:e(n.point)}:n}function $M(n,e){return{x:n.x-e.x,y:n.y-e.y}}function ix({point:n},e){return{point:n,delta:$M(n,a4(e)),offset:$M(n,tQ(e)),velocity:nQ(e,.1)}}function tQ(n){return n[0]}function a4(n){return n[n.length-1]}function nQ(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=a4(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Oo(e)));)t--;if(!r)return{x:0,y:0};const s=No(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function l4(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const BM=l4("dragHorizontal"),zM=l4("dragVertical");function c4(n){let e=!1;if(n==="y")e=zM();else if(n==="x")e=BM();else{const t=BM(),r=zM();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function u4(){const n=c4(!0);return n?(n(),!1):!0}function Sd(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}const d4=1e-4,rQ=1-d4,iQ=1+d4,h4=.01,sQ=0-h4,oQ=0+h4;function Zr(n){return n.max-n.min}function aQ(n,e,t){return Math.abs(n-e)<=t}function UM(n,e,t,r=.5){n.origin=r,n.originPoint=At(e.min,e.max,n.origin),n.scale=Zr(t)/Zr(e),n.translate=At(t.min,t.max,n.origin)-n.originPoint,(n.scale>=rQ&&n.scale<=iQ||isNaN(n.scale))&&(n.scale=1),(n.translate>=sQ&&n.translate<=oQ||isNaN(n.translate))&&(n.translate=0)}function qp(n,e,t,r){UM(n.x,e.x,t.x,r?r.originX:void 0),UM(n.y,e.y,t.y,r?r.originY:void 0)}function VM(n,e,t){n.min=t.min+e.min,n.max=n.min+Zr(e)}function lQ(n,e,t){VM(n.x,e.x,t.x),VM(n.y,e.y,t.y)}function HM(n,e,t){n.min=e.min-t.min,n.max=n.min+Zr(e)}function Kp(n,e,t){HM(n.x,e.x,t.x),HM(n.y,e.y,t.y)}function cQ(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?At(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?At(t,n,r.max):Math.min(n,t)),n}function WM(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function uQ(n,{top:e,left:t,bottom:r,right:i}){return{x:WM(n.x,t,i),y:WM(n.y,e,r)}}function GM(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function dQ(n,e){return{x:GM(n.x,e.x),y:GM(n.y,e.y)}}function hQ(n,e){let t=.5;const r=Zr(n),i=Zr(e);return i>r?t=of(e.min,e.max-r,n.min):r>i&&(t=of(n.min,n.max-i,e.min)),pl(0,1,t)}function fQ(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const xE=.35;function pQ(n=xE){return n===!1?n=0:n===!0&&(n=xE),{x:qM(n,"left","right"),y:qM(n,"top","bottom")}}function qM(n,e,t){return{min:KM(n,e),max:KM(n,t)}}function KM(n,e){return typeof n=="number"?n:n[e]||0}const YM=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ed=()=>({x:YM(),y:YM()}),XM=()=>({min:0,max:0}),Nt=()=>({x:XM(),y:XM()});function ii(n){return[n("x"),n("y")]}function f4({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function gQ({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function mQ(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function sx(n){return n===void 0||n===1}function SE({scale:n,scaleX:e,scaleY:t}){return!sx(n)||!sx(e)||!sx(t)}function Kl(n){return SE(n)||p4(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function p4(n){return QM(n.x)||QM(n.y)}function QM(n){return n&&n!=="0%"}function $w(n,e,t){const r=n-t,i=e*r;return t+i}function ZM(n,e,t,r,i){return i!==void 0&&(n=$w(n,i,r)),$w(n,t,r)+e}function EE(n,e=0,t=1,r,i){n.min=ZM(n.min,e,t,r,i),n.max=ZM(n.max,e,t,r,i)}function g4(n,{x:e,y:t}){EE(n.x,e.translate,e.scale,e.originPoint),EE(n.y,t.translate,t.scale,t.originPoint)}const JM=.999999999999,eD=1.0000000000001;function vQ(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ad(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,g4(n,o)),r&&Kl(s.latestValues)&&Ad(n,s.latestValues))}e.x<eD&&e.x>JM&&(e.x=1),e.y<eD&&e.y>JM&&(e.y=1)}function Cd(n,e){n.min=n.min+e,n.max=n.max+e}function tD(n,e,t,r,i=.5){const s=At(n.min,n.max,i);EE(n,e,t,s,r)}function Ad(n,e){tD(n.x,e.x,e.scaleX,e.scale,e.originX),tD(n.y,e.y,e.scaleY,e.scale,e.originY)}function m4(n,e){return f4(mQ(n.getBoundingClientRect(),e))}function yQ(n,e,t){const r=m4(n,t),{scroll:i}=e;return i&&(Cd(r.x,i.offset.x),Cd(r.y,i.offset.y)),r}const v4=({current:n})=>n?n.ownerDocument.defaultView:null,wQ=new WeakMap;class _Q{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(d1(u,"page").point)},s=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=c4(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(_=>{let y=this.getAxisMotionValue(_).get()||0;if(Is.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[_];x&&(y=Zr(x)*(parseFloat(y)/100))}}this.originPoint[_]=y}),g&&Je.postRender(()=>g(u,d)),_E(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:_}=d;if(p&&this.currentDirection===null){this.currentDirection=bQ(_),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,_),this.updateAxis("y",d.point,_),this.visualElement.render(),m&&m(u,d)},a=(u,d)=>this.stop(u,d),l=()=>ii(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new o4(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:v4(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Je.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!A0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=cQ(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Sd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=uQ(i.layoutBox,t):this.constraints=!1,this.elastic=pQ(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ii(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fQ(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Sd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=yQ(r,i.root,this.visualElement.getTransformPagePoint());let o=dQ(i.layout.layoutBox,s);if(t){const a=t(gQ(o));this.hasMutatedConstraints=!!a,a&&(o=f4(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ii(u=>{if(!A0(u,t,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return _E(this.visualElement,e),r.start(e2(e,r,0,t,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ii(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ii(t=>{const{drag:r}=this.getProps();if(!A0(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-At(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Sd(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ii(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=hQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ii(o=>{if(!A0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(At(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;wQ.set(this.visualElement,this);const e=this.visualElement.current,t=jo(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Sd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Je.read(r);const o=Do(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ii(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=xE,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function A0(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function bQ(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class xQ extends Dl{constructor(e){super(e),this.removeGroupControls=Vn,this.removeListeners=Vn,this.controls=new _Q(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const nD=n=>(e,t)=>{n&&Je.postRender(()=>n(e,t))};class SQ extends Dl{constructor(){super(...arguments),this.removePointerDownListener=Vn}onPointerDown(e){this.session=new o4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:v4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:nD(e),onStart:nD(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Je.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=jo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const i2=w.createContext(null);function EQ(){const n=w.useContext(i2);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=w.useId();w.useEffect(()=>r(i),[]);const s=w.useCallback(()=>t&&t(i),[i,t]);return!e&&t?[!1,s]:[!0]}const y4=w.createContext({}),w4=w.createContext({}),ay={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rD(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const qf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(be.test(n))n=parseFloat(n);else return n;const t=rD(n,e.target.x),r=rD(n,e.target.y);return`${t}% ${r}%`}},CQ={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=gl.parse(n);if(i.length>5)return r;const s=gl.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=At(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},Bw={};function AQ(n){Object.assign(Bw,n)}const{schedule:s2,cancel:ofe}=wF(queueMicrotask,!1);class PQ extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;AQ(TQ),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ay.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Je.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),s2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _4(n){const[e,t]=EQ(),r=w.useContext(y4);return v.jsx(PQ,{...n,layoutGroup:r,switchLayoutGroup:w.useContext(w4),isPresent:e,safeToRemove:t})}const TQ={borderRadius:{...qf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qf,borderTopRightRadius:qf,borderBottomLeftRadius:qf,borderBottomRightRadius:qf,boxShadow:CQ},b4=["TopLeft","TopRight","BottomLeft","BottomRight"],kQ=b4.length,iD=n=>typeof n=="string"?parseFloat(n):n,sD=n=>typeof n=="number"||be.test(n);function RQ(n,e,t,r,i,s){i?(n.opacity=At(0,t.opacity!==void 0?t.opacity:1,MQ(r)),n.opacityExit=At(e.opacity!==void 0?e.opacity:1,0,DQ(r))):s&&(n.opacity=At(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<kQ;o++){const a=`border${b4[o]}Radius`;let l=oD(e,a),c=oD(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||sD(l)===sD(c)?(n[a]=Math.max(At(iD(l),iD(c),r),0),(Is.test(c)||Is.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=At(e.rotate||0,t.rotate||0,r))}function oD(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const MQ=x4(0,.5,AF),DQ=x4(.5,.95,Vn);function x4(n,e,t){return r=>r<n?0:r>e?1:t(of(n,e,r))}function aD(n,e){n.min=e.min,n.max=e.max}function ti(n,e){aD(n.x,e.x),aD(n.y,e.y)}function lD(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function cD(n,e,t,r,i){return n-=e,n=$w(n,1/t,r),i!==void 0&&(n=$w(n,1/i,r)),n}function LQ(n,e=0,t=1,r=.5,i,s=n,o=n){if(Is.test(e)&&(e=parseFloat(e),e=At(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=At(s.min,s.max,r);n===s&&(a-=e),n.min=cD(n.min,e,t,a,i),n.max=cD(n.max,e,t,a,i)}function uD(n,e,[t,r,i],s,o){LQ(n,e[t],e[r],e[i],e.scale,s,o)}const IQ=["x","scaleX","originX"],OQ=["y","scaleY","originY"];function dD(n,e,t,r){uD(n.x,e,IQ,t?t.x:void 0,r?r.x:void 0),uD(n.y,e,OQ,t?t.y:void 0,r?r.y:void 0)}function hD(n){return n.translate===0&&n.scale===1}function S4(n){return hD(n.x)&&hD(n.y)}function fD(n,e){return n.min===e.min&&n.max===e.max}function NQ(n,e){return fD(n.x,e.x)&&fD(n.y,e.y)}function pD(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function E4(n,e){return pD(n.x,e.x)&&pD(n.y,e.y)}function gD(n){return Zr(n.x)/Zr(n.y)}function mD(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class FQ{constructor(){this.members=[]}add(e){t2(this.members,e),e.scheduleRender()}remove(e){if(n2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jQ(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:p,skewY:g}=t;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const $Q=(n,e)=>n.depth-e.depth;class BQ{constructor(){this.children=[],this.isDirty=!1}add(e){t2(this.children,e),this.isDirty=!0}remove(e){n2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($Q),this.isDirty=!1,this.children.forEach(e)}}function ly(n){const e=zn(n)?n.get():n;return MX(e)?e.toValue():e}function zQ(n,e){const t=Os.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(fl(r),n(s-e))};return Je.read(r,!0),()=>fl(r)}function UQ(n){return n instanceof SVGElement&&n.tagName!=="svg"}function VQ(n,e,t){const r=zn(n)?n:Rg(n);return r.start(e2("",r,e,t)),r.animation}const Yl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},up=typeof window<"u"&&window.MotionDebug!==void 0,ox=["","X","Y","Z"],HQ={visibility:"hidden"},vD=1e3;let WQ=0;function ax(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function C4(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=n4(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Je,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&C4(r)}function A4({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=WQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,up&&(Yl.totalNodes=Yl.resolvedTargetDeltas=Yl.recalculatedProjection=0),this.nodes.forEach(KQ),this.nodes.forEach(JQ),this.nodes.forEach(eZ),this.nodes.forEach(YQ),up&&window.MotionDebug.record(Yl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new BQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new r2),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UQ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let d;const h=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=zQ(h,250),ay.hasAnimatedSinceResize&&(ay.hasAnimatedSinceResize=!1,this.nodes.forEach(wD))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||sZ,{onLayoutAnimationStart:_,onLayoutAnimationComplete:y}=u.getProps(),b=!this.targetLayout||!E4(this.targetLayout,g)||p,x=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const S={...BP(m,"layout"),onPlay:_,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||wD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tZ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&C4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yD);return}this.isUpdating||this.nodes.forEach(QQ),this.isUpdating=!1,this.nodes.forEach(ZQ),this.nodes.forEach(GQ),this.nodes.forEach(qQ),this.clearAllSnapshots();const a=Os.now();Sn.delta=pl(0,1e3/60,a-Sn.timestamp),Sn.timestamp=a,Sn.isProcessing=!0,Zb.update.process(Sn),Zb.preRender.process(Sn),Zb.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XQ),this.sharedNodes.forEach(nZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!S4(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Kl(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),oZ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Nt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(aZ))){const{scroll:u}=this.root;u&&(Cd(l.x,u.offset.x),Cd(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Nt();if(ti(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&ti(l,o),Cd(l.x,d.offset.x),Cd(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Nt();ti(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ad(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Kl(u.latestValues)&&Ad(l,u.latestValues)}return Kl(this.latestValues)&&Ad(l,this.latestValues),l}removeTransform(o){const a=Nt();ti(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Kl(c.latestValues))continue;SE(c.latestValues)&&c.updateSnapshot();const u=Nt(),d=c.measurePageBox();ti(u,d),dD(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Kl(this.latestValues)&&dD(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Sn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Kp(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ti(this.target,this.layout.layoutBox),g4(this.target,this.targetDelta)):ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Kp(this.relativeTargetOrigin,this.target,p.target),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}up&&Yl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||SE(this.parent.latestValues)||p4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ti(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;vQ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Nt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lD(this.prevProjectionDelta.x,this.projectionDelta.x),lD(this.prevProjectionDelta.y,this.projectionDelta.y)),qp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!mD(this.projectionDelta.x,this.prevProjectionDelta.x)||!mD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),up&&Yl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ed(),this.projectionDelta=Ed(),this.projectionDeltaWithTransform=Ed()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Ed();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Nt(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,_=this.getStack(),y=!_||_.members.length<=1,b=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(iZ));this.animationProgress=0;let x;this.mixTargetDelta=S=>{const E=S/1e3;_D(d.x,o.x,E),_D(d.y,o.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kp(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rZ(this.relativeTarget,this.relativeTargetOrigin,h,E),x&&NQ(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Nt()),ti(x,this.relativeTarget)),m&&(this.animationValues=u,RQ(u,c,this.latestValues,E,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{ay.hasAnimatedSinceResize=!0,this.currentAnimation=VQ(0,vD,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&P4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Nt();const d=Zr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Zr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}ti(a,l),Ad(a,u),qp(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new FQ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&ax("z",o,c,this.animationValues);for(let u=0;u<ox.length;u++)ax(`rotate${ox[u]}`,o,c,this.animationValues),ax(`skew${ox[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return HQ;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ly(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=ly(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Kl(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=jQ(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in Bw){if(h[m]===void 0)continue;const{correct:_,applyTo:y}=Bw[m],b=c.transform==="none"?h[m]:_(h[m],d);if(y){const x=y.length;for(let S=0;S<x;S++)c[y[S]]=b}else c[m]=b}return this.options.layoutId&&(c.pointerEvents=d===this?ly(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(yD),this.root.sharedNodes.clear()}}}function GQ(n){n.updateLayout()}function qQ(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?ii(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],p=Zr(h);h.min=r[d].min,h.max=h.min+p}):P4(s,t.layoutBox,r)&&ii(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],p=Zr(r[d]);h.max=h.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+p)});const a=Ed();qp(a,r,t.layoutBox);const l=Ed();o?qp(l,n.applyTransform(i,!0),t.measuredBox):qp(l,r,t.layoutBox);const c=!S4(a);let u=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const g=Nt();Kp(g,t.layoutBox,h.layoutBox);const m=Nt();Kp(m,r,p.layoutBox),E4(g,m)||(u=!0),d.options.layoutRoot&&(n.relativeTarget=m,n.relativeTargetOrigin=g,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function KQ(n){up&&Yl.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function YQ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function XQ(n){n.clearSnapshot()}function yD(n){n.clearMeasurements()}function QQ(n){n.isLayoutDirty=!1}function ZQ(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function wD(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function JQ(n){n.resolveTargetDelta()}function eZ(n){n.calcProjection()}function tZ(n){n.resetSkewAndRotation()}function nZ(n){n.removeLeadSnapshot()}function _D(n,e,t){n.translate=At(e.translate,0,t),n.scale=At(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function bD(n,e,t,r){n.min=At(e.min,t.min,r),n.max=At(e.max,t.max,r)}function rZ(n,e,t,r){bD(n.x,e.x,t.x,r),bD(n.y,e.y,t.y,r)}function iZ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const sZ={duration:.45,ease:[.4,0,.1,1]},xD=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),SD=xD("applewebkit/")&&!xD("chrome/")?Math.round:Vn;function ED(n){n.min=SD(n.min),n.max=SD(n.max)}function oZ(n){ED(n.x),ED(n.y)}function P4(n,e,t){return n==="position"||n==="preserve-aspect"&&!aQ(gD(e),gD(t),.2)}function aZ(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const lZ=A4({attachResizeListener:(n,e)=>Do(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lx={current:void 0},T4=A4({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!lx.current){const n=new lZ({});n.mount(window),n.setOptions({layoutScroll:!0}),lx.current=n}return lx.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),cZ={pan:{Feature:SQ},drag:{Feature:xQ,ProjectionNode:T4,MeasureLayout:_4}};function CD(n,e){const t=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||u4())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e);const l=a[r];l&&Je.postRender(()=>l(s,o))};return jo(n.current,t,i,{passive:!n.getProps()[r]})}class uZ extends Dl{mount(){this.unmount=Fo(CD(this.node,!0),CD(this.node,!1))}unmount(){}}class dZ extends Dl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fo(Do(this.node.current,"focus",()=>this.onFocus()),Do(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const k4=(n,e)=>e?n===e?!0:k4(n,e.parentElement):!1;function cx(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,d1(t))}class hZ extends Dl{constructor(){super(...arguments),this.removeStartListeners=Vn,this.removeEndListeners=Vn,this.removeAccessibleListeners=Vn,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=jo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),h=!d&&!k4(this.node.current,a.target)?u:c;h&&Je.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=jo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Fo(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||cx("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Je.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Do(this.node.current,"keyup",o),cx("down",(a,l)=>{this.startPress(a,l)})},t=Do(this.node.current,"keydown",e),r=()=>{this.isPressing&&cx("cancel",(s,o)=>this.cancelPress(s,o))},i=Do(this.node.current,"blur",r);this.removeAccessibleListeners=Fo(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Je.postRender(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!u4()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Je.postRender(()=>r(e,t))}mount(){const e=this.node.getProps(),t=jo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Do(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fo(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const CE=new WeakMap,ux=new WeakMap,fZ=n=>{const e=CE.get(n.target);e&&e(n)},pZ=n=>{n.forEach(fZ)};function gZ({root:n,...e}){const t=n||document;ux.has(t)||ux.set(t,{});const r=ux.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(pZ,{root:n,...e})),r[i]}function mZ(n,e,t){const r=gZ(e);return CE.set(n,t),r.observe(n),()=>{CE.delete(n),r.unobserve(n)}}const vZ={some:0,all:1};class yZ extends Dl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:vZ[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return mZ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(wZ(e,t))&&this.startObserver()}unmount(){}}function wZ({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const _Z={inView:{Feature:yZ},tap:{Feature:hZ},focus:{Feature:dZ},hover:{Feature:uZ}},bZ={layout:{ProjectionNode:T4,MeasureLayout:_4}},R4=w.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),h1=w.createContext({}),o2=typeof window<"u",xZ=o2?w.useLayoutEffect:w.useEffect,M4=w.createContext({strict:!1});function SZ(n,e,t,r,i){var s,o;const{visualElement:a}=w.useContext(h1),l=w.useContext(M4),c=w.useContext(i2),u=w.useContext(R4).reducedMotion,d=w.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(n,{visualState:e,parent:a,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,p=w.useContext(w4);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&EZ(d.current,t,i,p),w.useInsertionEffect(()=>{h&&h.update(t,c)});const g=t[t4],m=w.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return xZ(()=>{h&&(window.MotionIsMounted=!0,h.updateFeatures(),s2.render(h.render),m.current&&h.animationState&&h.animationState.animateChanges())}),w.useEffect(()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,g)}),m.current=!1))}),h}function EZ(n,e,t,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:D4(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Sd(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function D4(n){if(n)return n.options.allowProjection!==!1?n.projection:D4(n.parent)}function CZ(n,e,t){return w.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Sd(t)&&(t.current=r))},[e])}function f1(n){return Ag(n.animate)||$P.some(e=>Pg(n[e]))}function L4(n){return!!(f1(n)||n.variants)}function AZ(n,e){if(f1(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Pg(t)?t:void 0,animate:Pg(r)?r:void 0}}return n.inherit!==!1?e:{}}function PZ(n){const{initial:e,animate:t}=AZ(n,w.useContext(h1));return w.useMemo(()=>({initial:e,animate:t}),[AD(e),AD(t)])}function AD(n){return Array.isArray(n)?n.join(" "):n}const PD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},af={};for(const n in PD)af[n]={isEnabled:e=>PD[n].some(t=>!!e[t])};function TZ(n){for(const e in n)af[e]={...af[e],...n[e]}}const kZ=Symbol.for("motionComponentSymbol");function RZ({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&TZ(n);function s(a,l){let c;const u={...w.useContext(R4),...a,layoutId:MZ(a)},{isStatic:d}=u,h=PZ(a),p=r(a,d);if(!d&&o2){DZ();const g=LZ(u);c=g.MeasureLayout,h.visualElement=SZ(i,p,u,e,g.ProjectionNode)}return v.jsxs(h1.Provider,{value:h,children:[c&&h.visualElement?v.jsx(c,{visualElement:h.visualElement,...u}):null,t(i,a,CZ(p,h.visualElement,l),p,d,h.visualElement)]})}const o=w.forwardRef(s);return o[kZ]=i,o}function MZ({layoutId:n}){const e=w.useContext(y4).id;return e&&n!==void 0?e+"-"+n:n}function DZ(n,e){w.useContext(M4).strict}function LZ(n){const{drag:e,layout:t}=af;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const IZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function a2(n){return typeof n!="string"||n.includes("-")?!1:!!(IZ.indexOf(n)>-1||/[A-Z]/u.test(n))}function I4(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const O4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function N4(n,e,t,r){I4(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(O4.has(i)?i:u1(i),e.attrs[i])}function F4(n,{layout:e,layoutId:t}){return Ml.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Bw[n]||n==="opacity")}function l2(n,e,t){var r;const{style:i}=n,s={};for(const o in i)(zn(i[o])||e.style&&zn(e.style[o])||F4(o,n)||((r=t==null?void 0:t.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return t&&i&&typeof i.willChange=="string"&&(t.applyWillChange=!1),s}function j4(n,e,t){const r=l2(n,e,t);for(const i in n)if(zn(n[i])||zn(e[i])){const s=Av.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}function OZ(n){const e=w.useRef(null);return e.current===null&&(e.current=n()),e.current}function NZ(n){if(Ml.has(n))return"transform";if(QF.has(n))return u1(n)}function FZ({applyWillChange:n=!1,scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},i,s,o,a){const l={latestValues:jZ(i,s,o,a?!1:n,e),renderState:t()};return r&&(l.mount=c=>r(i,c,l)),l}const $4=n=>(e,t)=>{const r=w.useContext(h1),i=w.useContext(i2),s=()=>FZ(n,e,r,i,t);return t?s():OZ(s)};function TD(n,e,t){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=FP(n,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;t(l,o)}}}function jZ(n,e,t,r,i){var s;const o={},a=new Set,l=r&&((s=n.style)===null||s===void 0?void 0:s.willChange)===void 0,c=i(n,{});for(const _ in c)o[_]=ly(c[_]);let{initial:u,animate:d}=n;const h=f1(n),p=L4(n);e&&p&&!h&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const m=g?d:u;return m&&typeof m!="boolean"&&!Ag(m)&&TD(n,m,(_,y)=>{for(const b in _){let x=_[b];if(Array.isArray(x)){const S=g?x.length-1:0;x=x[S]}x!==null&&(o[b]=x)}for(const b in y)o[b]=y[b]}),l&&(d&&u!==!1&&!Ag(d)&&TD(n,d,_=>{for(const y in _){const b=NZ(y);b&&a.add(b)}}),a.size&&(o.willChange=Array.from(a).join(","))),o}const c2=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),B4=()=>({...c2(),attrs:{}}),z4=(n,e)=>e&&typeof n=="number"?e.transform(n):n,$Z={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BZ=Av.length;function zZ(n,e,t){let r="",i=!0;for(let s=0;s<BZ;s++){const o=Av[s],a=n[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const c=z4(a,qP[o]);if(!l){i=!1;const u=$Z[o]||o;r+=`${u}(${c}) `}t&&(e[o]=c)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function u2(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ml.has(l)){o=!0;continue}else if(MF(l)){i[l]=c;continue}else{const u=z4(c,qP[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||t?r.transform=zZ(e,n.transform,t):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}function kD(n,e,t){return typeof n=="string"?n:be.transform(e+t*n)}function UZ(n,e,t){const r=kD(e,n.x,n.width),i=kD(t,n.y,n.height);return`${r} ${i}`}const VZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},HZ={offset:"strokeDashoffset",array:"strokeDasharray"};function WZ(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?VZ:HZ;n[s.offset]=be.transform(-r);const o=be.transform(e),a=be.transform(t);n[s.array]=`${o} ${a}`}function d2(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(u2(n,c,d),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:h,style:p,dimensions:g}=n;h.transform&&(g&&(p.transform=h.transform),delete h.transform),g&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=UZ(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),r!==void 0&&(h.scale=r),o!==void 0&&WZ(h,o,a,l,!1)}const h2=n=>typeof n=="string"&&n.toLowerCase()==="svg",GZ={useVisualState:$4({scrapeMotionValuesFromProps:j4,createRenderState:B4,onMount:(n,e,{renderState:t,latestValues:r})=>{Je.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Je.render(()=>{d2(t,r,h2(e.tagName),n.transformTemplate),N4(e,t)})}})},qZ={useVisualState:$4({applyWillChange:!0,scrapeMotionValuesFromProps:l2,createRenderState:c2})};function U4(n,e,t){for(const r in e)!zn(e[r])&&!F4(r,t)&&(n[r]=e[r])}function KZ({transformTemplate:n},e){return w.useMemo(()=>{const t=c2();return u2(t,e,n),Object.assign({},t.vars,t.style)},[e])}function YZ(n,e){const t=n.style||{},r={};return U4(r,t,n),Object.assign(r,KZ(n,e)),r}function XZ(n,e){const t={},r=YZ(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const QZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zw(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||QZ.has(n)}let V4=n=>!zw(n);function ZZ(n){n&&(V4=e=>e.startsWith("on")?!zw(e):n(e))}try{ZZ(require("@emotion/is-prop-valid").default)}catch{}function JZ(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(V4(i)||t===!0&&zw(i)||!e&&!zw(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function eJ(n,e,t,r){const i=w.useMemo(()=>{const s=B4();return d2(s,e,h2(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};U4(s,n.style,n),i.style={...s,...i.style}}return i}function tJ(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(a2(t)?eJ:XZ)(r,s,o,t),c=JZ(r,typeof t=="string",n),u=t!==w.Fragment?{...c,...l,ref:i}:{},{children:d}=r,h=w.useMemo(()=>zn(d)?d.get():d,[d]);return w.createElement(t,{...u,children:h})}}function nJ(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...a2(r)?GZ:qZ,preloadedFeatures:n,useRender:tJ(i),createVisualElement:e,Component:r};return RZ(o)}}const AE={current:null},H4={current:!1};function rJ(){if(H4.current=!0,!!o2)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>AE.current=n.matches;n.addListener(e),e()}else AE.current=!1}function iJ(n,e,t){for(const r in e){const i=e[r],s=t[r];if(zn(i))n.addValue(r,i);else if(zn(s))n.addValue(r,Rg(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,Rg(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const RD=new WeakMap,sJ=[...IF,Nn,gl],oJ=n=>sJ.find(LF(n)),MD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aJ{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=HP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Os.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Je.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=f1(t),this.isVariantNode=L4(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in d){const p=d[h];l[h]!==void 0&&zn(p)&&p.set(l[h],!1)}}mount(e){this.current=e,RD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),H4.current||rJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:AE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){RD.delete(this.current),this.projection&&this.projection.unmount(),fl(this.notifyUpdate),fl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ml.has(e),i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in af){const t=af[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<MD.length;r++){const i=MD[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=iJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Rg(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(kF(i)||TF(i))?i=parseFloat(i):!oJ(i)&&gl.test(t)&&(i=UF(e,t)),this.setBaseTarget(e,zn(i)?i.get():i)),zn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=FP(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!zn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new r2),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class W4 extends aJ{constructor(){super(...arguments),this.KeyframeResolver=VF}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}}function lJ(n){return window.getComputedStyle(n)}class cJ extends W4{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=I4}readValueFromInstance(e,t){if(Ml.has(t)){const r=KP(t);return r&&r.default||0}else{const r=lJ(e),i=(MF(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return m4(e,t)}build(e,t,r){u2(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return l2(e,t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class uJ extends W4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ml.has(t)){const r=KP(t);return r&&r.default||0}return t=O4.has(t)?t:u1(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return j4(e,t,r)}build(e,t,r){d2(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){N4(e,t,r,i)}mount(e){this.isSVGTag=h2(e.tagName),super.mount(e)}}const dJ=(n,e)=>a2(n)?new uJ(e):new cJ(e,{allowProjection:n!==w.Fragment}),hJ=nJ({...ZX,..._Z,...cZ,...bZ},dJ),qe=HK(hJ),G4=w.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:Se("rounded-xl border bg-card text-card-foreground shadow",n),...e}));G4.displayName="Card";const fJ=w.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:Se("flex flex-col space-y-1.5 p-6",n),...e}));fJ.displayName="CardHeader";const pJ=w.forwardRef(({className:n,...e},t)=>v.jsx("h3",{ref:t,className:Se("font-semibold leading-none tracking-tight",n),...e}));pJ.displayName="CardTitle";const gJ=w.forwardRef(({className:n,...e},t)=>v.jsx("p",{ref:t,className:Se("text-sm text-muted-foreground",n),...e}));gJ.displayName="CardDescription";const q4=w.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:Se("p-6 pt-0",n),...e}));q4.displayName="CardContent";const K4=w.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:Se("flex items-center p-6 pt-0",n),...e}));K4.displayName="CardFooter";function mJ(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function p1(...n){return e=>n.forEach(t=>mJ(t,e))}function Ge(...n){return w.useCallback(p1(...n),n)}var ml=w.forwardRef((n,e)=>{const{children:t,...r}=n,i=w.Children.toArray(t),s=i.find(vJ);if(s){const o=s.props.children,a=i.map(l=>l===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:l);return v.jsx(PE,{...r,ref:e,children:w.isValidElement(o)?w.cloneElement(o,void 0,a):null})}return v.jsx(PE,{...r,ref:e,children:t})});ml.displayName="Slot";var PE=w.forwardRef((n,e)=>{const{children:t,...r}=n;if(w.isValidElement(t)){const i=wJ(t);return w.cloneElement(t,{...yJ(r,t.props),ref:e?p1(e,i):i})}return w.Children.count(t)>1?w.Children.only(null):null});PE.displayName="SlotClone";var f2=({children:n})=>v.jsx(v.Fragment,{children:n});function vJ(n){return w.isValidElement(n)&&n.type===f2}function yJ(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function wJ(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Y4(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=Y4(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function _J(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=Y4(n))&&(r&&(r+=" "),r+=e);return r}const DD=n=>typeof n=="boolean"?"".concat(n):n===0?"0":n,LD=_J,p2=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return LD(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=t==null?void 0:t[c],d=s==null?void 0:s[c];if(u===null)return null;const h=DD(u)||DD(d);return i[c][h]}),a=t&&Object.entries(t).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...p}=u;return Object.entries(p).every(g=>{let[m,_]=g;return Array.isArray(_)?_.includes({...s,...a}[m]):{...s,...a}[m]===_})?[...c,d,h]:c},[]);return LD(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)},g2=p2("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),We=w.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?ml:"button";return v.jsx(o,{className:Se(g2({variant:e,size:t,className:n})),ref:s,...i})});We.displayName="Button";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X4=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...xJ,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:X4("lucide",i),...a},[...o.map(([c,u])=>w.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(n,e)=>{const t=w.forwardRef(({className:r,...i},s)=>w.createElement(SJ,{ref:s,iconNode:e,className:X4(`lucide-${bJ(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=Bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=Bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=Bt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=Bt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=Bt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=Bt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Bt("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=Bt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=Bt("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Bt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=Bt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Bt("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=Bt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=Bt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=Bt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=Bt("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=Bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=Bt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=Bt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=Bt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function de(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function $J(n,e){const t=w.createContext(e),r=s=>{const{children:o,...a}=s,l=w.useMemo(()=>a,Object.values(a));return v.jsx(t.Provider,{value:l,children:o})};r.displayName=n+"Provider";function i(s){const o=w.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function bf(n,e=[]){let t=[];function r(s,o){const a=w.createContext(o),l=t.length;t=[...t,o];const c=d=>{var y;const{scope:h,children:p,...g}=d,m=((y=h==null?void 0:h[n])==null?void 0:y[l])||a,_=w.useMemo(()=>g,Object.values(g));return v.jsx(m.Provider,{value:_,children:p})};c.displayName=s+"Provider";function u(d,h){var m;const p=((m=h==null?void 0:h[n])==null?void 0:m[l])||a,g=w.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=t.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return w.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,BJ(i,...e)]}function BJ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var rr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},zJ=$y.useId||(()=>{}),UJ=0;function Ns(n){const[e,t]=w.useState(zJ());return rr(()=>{t(r=>r??String(UJ++))},[n]),e?`radix-${e}`:""}function Ei(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function Ko({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=VJ({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=Ei(t),l=w.useCallback(c=>{if(s){const d=typeof c=="function"?c(n):c;d!==n&&a(d)}else i(c)},[s,n,i,a]);return[o,l]}function VJ({defaultProp:n,onChange:e}){const t=w.useState(n),[r]=t,i=w.useRef(r),s=Ei(e);return w.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var HJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],De=HJ.reduce((n,e)=>{const t=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?ml:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function tj(n,e){n&&gf.flushSync(()=>n.dispatchEvent(e))}function WJ(n,e=globalThis==null?void 0:globalThis.document){const t=Ei(n);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var GJ="DismissableLayer",TE="dismissableLayer.update",qJ="dismissableLayer.pointerDownOutside",KJ="dismissableLayer.focusOutside",ID,nj=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rv=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=w.useContext(nj),[u,d]=w.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),g=Ge(e,R=>d(R)),m=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(_),b=u?m.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,E=QJ(R=>{const T=R.target,M=[...c.branches].some(L=>L.contains(T));!S||M||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},h),k=ZJ(R=>{const T=R.target;[...c.branches].some(L=>L.contains(T))||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},h);return WJ(R=>{b===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},h),w.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ID=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),OD(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ID)}},[u,h,t,c]),w.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),OD())},[u,c]),w.useEffect(()=>{const R=()=>p({});return document.addEventListener(TE,R),()=>document.removeEventListener(TE,R)},[]),v.jsx(De.div,{...l,ref:g,style:{pointerEvents:x?S?"auto":"none":void 0,...n.style},onFocusCapture:de(n.onFocusCapture,k.onFocusCapture),onBlurCapture:de(n.onBlurCapture,k.onBlurCapture),onPointerDownCapture:de(n.onPointerDownCapture,E.onPointerDownCapture)})});Rv.displayName=GJ;var YJ="DismissableLayerBranch",XJ=w.forwardRef((n,e)=>{const t=w.useContext(nj),r=w.useRef(null),i=Ge(e,r);return w.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),v.jsx(De.div,{...n,ref:i})});XJ.displayName=YJ;function QJ(n,e=globalThis==null?void 0:globalThis.document){const t=Ei(n),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){rj(qJ,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function ZJ(n,e=globalThis==null?void 0:globalThis.document){const t=Ei(n),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&rj(KJ,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OD(){const n=new CustomEvent(TE);document.dispatchEvent(n)}function rj(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?tj(i,s):i.dispatchEvent(s)}var dx="focusScope.autoFocusOnMount",hx="focusScope.autoFocusOnUnmount",ND={bubbles:!1,cancelable:!0},JJ="FocusScope",g1=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=w.useState(null),c=Ei(i),u=Ei(s),d=w.useRef(null),h=Ge(e,m=>l(m)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let m=function(x){if(p.paused||!a)return;const S=x.target;a.contains(S)?d.current=S:da(d.current,{select:!0})},_=function(x){if(p.paused||!a)return;const S=x.relatedTarget;S!==null&&(a.contains(S)||da(d.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const E of x)E.removedNodes.length>0&&da(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",_);const b=new MutationObserver(y);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",_),b.disconnect()}}},[r,a,p.paused]),w.useEffect(()=>{if(a){jD.add(p);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(dx,ND);a.addEventListener(dx,c),a.dispatchEvent(y),y.defaultPrevented||(eee(see(ij(a)),{select:!0}),document.activeElement===m&&da(a))}return()=>{a.removeEventListener(dx,c),setTimeout(()=>{const y=new CustomEvent(hx,ND);a.addEventListener(hx,u),a.dispatchEvent(y),y.defaultPrevented||da(m??document.body,{select:!0}),a.removeEventListener(hx,u),jD.remove(p)},0)}}},[a,c,u,p]);const g=w.useCallback(m=>{if(!t&&!r||p.paused)return;const _=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(_&&y){const b=m.currentTarget,[x,S]=tee(b);x&&S?!m.shiftKey&&y===S?(m.preventDefault(),t&&da(x,{select:!0})):m.shiftKey&&y===x&&(m.preventDefault(),t&&da(S,{select:!0})):y===b&&m.preventDefault()}},[t,r,p.paused]);return v.jsx(De.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});g1.displayName=JJ;function eee(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(da(r,{select:e}),document.activeElement!==t)return}function tee(n){const e=ij(n),t=FD(e,n),r=FD(e.reverse(),n);return[t,r]}function ij(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function FD(n,e){for(const t of n)if(!nee(t,{upTo:e}))return t}function nee(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function ree(n){return n instanceof HTMLInputElement&&"select"in n}function da(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&ree(n)&&e&&n.select()}}var jD=iee();function iee(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=$D(n,e),n.unshift(e)},remove(e){var t;n=$D(n,e),(t=n[0])==null||t.resume()}}}function $D(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function see(n){return n.filter(e=>e.tagName!=="A")}var oee="Portal",Fn=w.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=w.useState(!1);rr(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Jz.createPortal(v.jsx(De.div,{...r,ref:e}),o):null});Fn.displayName=oee;function aee(n,e){return w.useReducer((t,r)=>e[t][r]??t,n)}var ta=n=>{const{present:e,children:t}=n,r=lee(e),i=typeof t=="function"?t({present:r.isPresent}):w.Children.only(t),s=Ge(r.ref,cee(i));return typeof t=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};ta.displayName="Presence";function lee(n){const[e,t]=w.useState(),r=w.useRef({}),i=w.useRef(n),s=w.useRef("none"),o=n?"mounted":"unmounted",[a,l]=aee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=T0(r.current);s.current=a==="mounted"?c:"none"},[a]),rr(()=>{const c=r.current,u=i.current;if(u!==n){const h=s.current,p=T0(c);n?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),rr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=p=>{const m=T0(r.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},h=p=>{p.target===e&&(s.current=T0(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function T0(n){return(n==null?void 0:n.animationName)||"none"}function cee(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var fx=0;function m2(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??BD()),document.body.insertAdjacentElement("beforeend",n[1]??BD()),fx++,()=>{fx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fx--}},[])}function BD(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Ps=function(){return Ps=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ps.apply(this,arguments)};function sj(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function xf(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function Sf(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zD(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function kE(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var cy="right-scroll-bar-position",uy="width-before-scroll-bar",uee="with-scroll-bars-hidden",dee="--removed-body-scroll-bar-size";function px(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function hee(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var fee=typeof window<"u"?w.useLayoutEffect:w.useEffect,UD=new WeakMap;function pee(n,e){var t=hee(null,function(r){return n.forEach(function(i){return px(i,r)})});return fee(function(){var r=UD.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||px(a,null)}),s.forEach(function(a){i.has(a)||px(a,o)})}UD.set(t,n)},[n]),t}function gee(n){return n}function mee(n,e){e===void 0&&(e=gee);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return i}function vee(n){n===void 0&&(n={});var e=mee(null);return e.options=Ps({async:!0,ssr:!1},n),e}var oj=function(n){var e=n.sideCar,t=sj(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Ps({},t))};oj.isSideCarExport=!0;function yee(n,e){return n.useMedium(e),oj}var aj=vee(),gx=function(){},m1=w.forwardRef(function(n,e){var t=w.useRef(null),r=w.useState({onScrollCapture:gx,onWheelCapture:gx,onTouchMoveCapture:gx}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,d=n.shards,h=n.sideCar,p=n.noIsolation,g=n.inert,m=n.allowPinchZoom,_=n.as,y=_===void 0?"div":_,b=n.gapMode,x=sj(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=pee([t,e]),k=Ps(Ps({},x),i);return w.createElement(w.Fragment,null,u&&w.createElement(S,{sideCar:aj,removeScrollBar:c,shards:d,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:t,gapMode:b}),o?w.cloneElement(w.Children.only(a),Ps(Ps({},k),{ref:E})):w.createElement(y,Ps({},k,{className:l,ref:E}),a))});m1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};m1.classNames={fullWidth:uy,zeroRight:cy};var wee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _ee(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=wee();return e&&n.setAttribute("nonce",e),n}function bee(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function xee(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var See=function(){var n=0,e=null;return{add:function(t){n==0&&(e=_ee())&&(bee(e,t),xee(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Eee=function(){var n=See();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},lj=function(){var n=Eee(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Cee={left:0,top:0,right:0,gap:0},mx=function(n){return parseInt(n||"",10)||0},Aee=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[mx(t),mx(r),mx(i)]},Pee=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Cee;var e=Aee(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Tee=lj(),Vd="data-scroll-locked",kee=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(uee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Vd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cy,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(uy,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cy," .").concat(cy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(uy," .").concat(uy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vd,`] {
    `).concat(dee,": ").concat(a,`px;
  }
`)},VD=function(){var n=parseInt(document.body.getAttribute(Vd)||"0",10);return isFinite(n)?n:0},Ree=function(){w.useEffect(function(){return document.body.setAttribute(Vd,(VD()+1).toString()),function(){var n=VD()-1;n<=0?document.body.removeAttribute(Vd):document.body.setAttribute(Vd,n.toString())}},[])},Mee=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;Ree();var s=w.useMemo(function(){return Pee(i)},[i]);return w.createElement(Tee,{styles:kee(s,!e,i,t?"":"!important")})},RE=!1;if(typeof window<"u")try{var k0=Object.defineProperty({},"passive",{get:function(){return RE=!0,!0}});window.addEventListener("test",k0,k0),window.removeEventListener("test",k0,k0)}catch{RE=!1}var Ku=RE?{passive:!1}:!1,Dee=function(n){return n.tagName==="TEXTAREA"},cj=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Dee(n)&&t[e]==="visible")},Lee=function(n){return cj(n,"overflowY")},Iee=function(n){return cj(n,"overflowX")},HD=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=uj(n,r);if(i){var s=dj(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Oee=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Nee=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},uj=function(n,e){return n==="v"?Lee(e):Iee(e)},dj=function(n,e){return n==="v"?Oee(e):Nee(e)},Fee=function(n,e){return n==="h"&&e==="rtl"?-1:1},jee=function(n,e,t,r,i){var s=Fee(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{var p=dj(n,a),g=p[0],m=p[1],_=p[2],y=m-_-s*g;(g||y)&&uj(n,a)&&(d+=y,h+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(h)<1||!i))&&(c=!0),c},R0=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},WD=function(n){return[n.deltaX,n.deltaY]},GD=function(n){return n&&"current"in n?n.current:n},$ee=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Bee=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},zee=0,Yu=[];function Uee(n){var e=w.useRef([]),t=w.useRef([0,0]),r=w.useRef(),i=w.useState(zee++)[0],s=w.useState(lj)[0],o=w.useRef(n);w.useEffect(function(){o.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var m=kE([n.lockRef.current],(n.shards||[]).map(GD),!0).filter(Boolean);return m.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=w.useCallback(function(m,_){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=R0(m),b=t.current,x="deltaX"in m?m.deltaX:b[0]-y[0],S="deltaY"in m?m.deltaY:b[1]-y[1],E,k=m.target,R=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in m&&R==="h"&&k.type==="range")return!1;var T=HD(R,k);if(!T)return!0;if(T?E=R:(E=R==="v"?"h":"v",T=HD(R,k)),!T)return!1;if(!r.current&&"changedTouches"in m&&(x||S)&&(r.current=E),!E)return!0;var M=r.current||E;return jee(M,_,m,M==="h"?x:S,!0)},[]),l=w.useCallback(function(m){var _=m;if(!(!Yu.length||Yu[Yu.length-1]!==s)){var y="deltaY"in _?WD(_):R0(_),b=e.current.filter(function(E){return E.name===_.type&&(E.target===_.target||_.target===E.shadowParent)&&$ee(E.delta,y)})[0];if(b&&b.should){_.cancelable&&_.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(GD).filter(Boolean).filter(function(E){return E.contains(_.target)}),S=x.length>0?a(_,x[0]):!o.current.noIsolation;S&&_.cancelable&&_.preventDefault()}}},[]),c=w.useCallback(function(m,_,y,b){var x={name:m,delta:_,target:y,should:b,shadowParent:Vee(y)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(S){return S!==x})},1)},[]),u=w.useCallback(function(m){t.current=R0(m),r.current=void 0},[]),d=w.useCallback(function(m){c(m.type,WD(m),m.target,a(m,n.lockRef.current))},[]),h=w.useCallback(function(m){c(m.type,R0(m),m.target,a(m,n.lockRef.current))},[]);w.useEffect(function(){return Yu.push(s),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ku),document.addEventListener("touchmove",l,Ku),document.addEventListener("touchstart",u,Ku),function(){Yu=Yu.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,Ku),document.removeEventListener("touchmove",l,Ku),document.removeEventListener("touchstart",u,Ku)}},[]);var p=n.removeScrollBar,g=n.inert;return w.createElement(w.Fragment,null,g?w.createElement(s,{styles:Bee(i)}):null,p?w.createElement(Mee,{gapMode:n.gapMode}):null)}function Vee(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Hee=yee(aj,Uee);var v1=w.forwardRef(function(n,e){return w.createElement(m1,Ps({},n,{ref:e,sideCar:Hee}))});v1.classNames=m1.classNames;var Wee=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Xu=new WeakMap,M0=new WeakMap,D0={},vx=0,hj=function(n){return n&&(n.host||hj(n.parentNode))},Gee=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=hj(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},qee=function(n,e,t,r){var i=Gee(e,Array.isArray(n)?n:[n]);D0[t]||(D0[t]=new WeakMap);var s=D0[t],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",m=(Xu.get(h)||0)+1,_=(s.get(h)||0)+1;Xu.set(h,m),s.set(h,_),o.push(h),m===1&&g&&M0.set(h,!0),_===1&&h.setAttribute(t,"true"),g||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(e),a.clear(),vx++,function(){o.forEach(function(d){var h=Xu.get(d)-1,p=s.get(d)-1;Xu.set(d,h),s.set(d,p),h||(M0.has(d)||d.removeAttribute(r),M0.delete(d)),p||d.removeAttribute(t)}),vx--,vx||(Xu=new WeakMap,Xu=new WeakMap,M0=new WeakMap,D0={})}},v2=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=Wee(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),qee(r,i,t,"aria-hidden")):function(){return null}},y2="Dialog",[fj,pj]=bf(y2),[Kee,ss]=fj(y2),gj=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=n,a=w.useRef(null),l=w.useRef(null),[c=!1,u]=Ko({prop:r,defaultProp:i,onChange:s});return v.jsx(Kee,{scope:e,triggerRef:a,contentRef:l,contentId:Ns(),titleId:Ns(),descriptionId:Ns(),open:c,onOpenChange:u,onOpenToggle:w.useCallback(()=>u(d=>!d),[u]),modal:o,children:t})};gj.displayName=y2;var mj="DialogTrigger",vj=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=ss(mj,t),s=Ge(e,i.triggerRef);return v.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":b2(i.open),...r,ref:s,onClick:de(n.onClick,i.onOpenToggle)})});vj.displayName=mj;var w2="DialogPortal",[Yee,yj]=fj(w2,{forceMount:void 0}),wj=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=ss(w2,e);return v.jsx(Yee,{scope:e,forceMount:t,children:w.Children.map(r,o=>v.jsx(ta,{present:t||s.open,children:v.jsx(Fn,{asChild:!0,container:i,children:o})}))})};wj.displayName=w2;var Uw="DialogOverlay",_j=w.forwardRef((n,e)=>{const t=yj(Uw,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=ss(Uw,n.__scopeDialog);return s.modal?v.jsx(ta,{present:r||s.open,children:v.jsx(Xee,{...i,ref:e})}):null});_j.displayName=Uw;var Xee=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=ss(Uw,t);return v.jsx(v1,{as:ml,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(De.div,{"data-state":b2(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),bu="DialogContent",bj=w.forwardRef((n,e)=>{const t=yj(bu,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=ss(bu,n.__scopeDialog);return v.jsx(ta,{present:r||s.open,children:s.modal?v.jsx(Qee,{...i,ref:e}):v.jsx(Zee,{...i,ref:e})})});bj.displayName=bu;var Qee=w.forwardRef((n,e)=>{const t=ss(bu,n.__scopeDialog),r=w.useRef(null),i=Ge(e,t.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return v2(s)},[]),v.jsx(xj,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:de(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:de(n.onFocusOutside,s=>s.preventDefault())})}),Zee=w.forwardRef((n,e)=>{const t=ss(bu,n.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return v.jsx(xj,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),xj=w.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=n,a=ss(bu,t),l=w.useRef(null),c=Ge(e,l);return m2(),v.jsxs(v.Fragment,{children:[v.jsx(g1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:v.jsx(Rv,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":b2(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(ete,{titleId:a.titleId}),v.jsx(nte,{contentRef:l,descriptionId:a.descriptionId})]})]})}),_2="DialogTitle",Sj=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=ss(_2,t);return v.jsx(De.h2,{id:i.titleId,...r,ref:e})});Sj.displayName=_2;var Ej="DialogDescription",Cj=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=ss(Ej,t);return v.jsx(De.p,{id:i.descriptionId,...r,ref:e})});Cj.displayName=Ej;var Aj="DialogClose",Pj=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=ss(Aj,t);return v.jsx(De.button,{type:"button",...r,ref:e,onClick:de(n.onClick,()=>i.onOpenChange(!1))})});Pj.displayName=Aj;function b2(n){return n?"open":"closed"}var Tj="DialogTitleWarning",[Jee,kj]=$J(Tj,{contentName:bu,titleName:_2,docsSlug:"dialog"}),ete=({titleId:n})=>{const e=kj(Tj),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},tte="DialogDescriptionWarning",nte=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kj(tte).contentName}}.`;return w.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},Rj=gj,Mj=vj,Dj=wj,x2=_j,S2=bj,E2=Sj,C2=Cj,A2=Pj;function Nu(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var rte=["color"],ite=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nu(n,rte);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),ste=["color"],Lj=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nu(n,ste);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),ote=["color"],ate=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nu(n,ote);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lte=["color"],cte=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nu(n,lte);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),ute=["color"],dte=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nu(n,ute);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),hte=["color"],fte=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nu(n,hte);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),pte=["color"],gte=w.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nu(n,pte);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))});const P2=Rj,mte=Mj,vte=Dj,Ij=w.forwardRef(({className:n,...e},t)=>v.jsx(x2,{ref:t,className:Se("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));Ij.displayName=x2.displayName;const y1=w.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(vte,{children:[v.jsx(Ij,{}),v.jsxs(S2,{ref:r,className:Se("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,v.jsxs(A2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[v.jsx(fte,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));y1.displayName=S2.displayName;const w1=({className:n,...e})=>v.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});w1.displayName="DialogHeader";const T2=({className:n,...e})=>v.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});T2.displayName="DialogFooter";const _1=w.forwardRef(({className:n,...e},t)=>v.jsx(E2,{ref:t,className:Se("text-lg font-semibold leading-none tracking-tight",n),...e}));_1.displayName=E2.displayName;const b1=w.forwardRef(({className:n,...e},t)=>v.jsx(C2,{ref:t,className:Se("text-sm text-muted-foreground",n),...e}));b1.displayName=C2.displayName;const je={deleteFile:"Delete file",areYouSureDelete:"Are you sure you want to delete this file?",cancel:"Cancel",uploadFiles:"Upload files",close:"Close",save:"Save",measure:"Measure",zoomIn:"Zoom in",zoomOut:"Zoom out",reset:"Reset",resetView:"Reset view",pencil:"Pencil",eraser:"Eraser",rectangle:"Rectangle",circle:"Circle",ruler:"Ruler",line:"Line",text:"Text",colorPicker:"Color picker",undo:"Undo",redo:"Redo",clear:"Clear",export:"Export",import:"Import",settings:"Settings",language:"Language",theme:"Theme",about:"About",help:"Help",feedback:"Feedback",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",contactUs:"Contact Us",download:"Download",delete:"Delete",open:"Open",gallery:"Gallery",upload:"Upload",showAll:"Show all measurements",scale:"Scale",setScale:"Set Scale",enterActualDistance:"Enter the actual distance between the two points you placed.",enterDistance:"Enter distance",setScaleDistanceInstructions:"Place two points to define a known distance. Finish with double click or hit Enter. You will then be prompted to enter the actual length.",setScaleAreaInstructions:"Place at least three points to define a known area. Finish with double click or hit Enter. You will then be prompted to enter the actual area.",welcomeTitle:"Welcome!",welcomeMessage:"You're already ready to start measuring - just point and shoot!",WelcomeTip1:"Hot tip - you can finish a measurement in 3 different ways:",WelcomeTip1_1:"- by double clicking when you place the last point",WelcomeTip1_2:"- by clicking near the first point",WelcomeTip1_3:"- by hitting the Enter key",fileSaved:"File saved successfully!",enterActualArea:"Enter the actual area of the selected region",enterArea:"Enter area",distance:"Distance",area:"Area",selectUnit:"Select unit",preview:"Preview"};var Yp={};Yp.d=(n,e)=>{for(var t in e)Yp.o(e,t)&&!Yp.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Yp.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Ee=globalThis.pdfjsLib={};Yp.d(Ee,{AbortException:()=>ju,AnnotationEditorLayer:()=>BC,AnnotationEditorParamsType:()=>Ce,AnnotationEditorType:()=>$e,AnnotationEditorUIManager:()=>Su,AnnotationLayer:()=>gre,AnnotationMode:()=>Ca,CMapCompressionType:()=>DE,ColorPicker:()=>Yw,DOMSVGFactory:()=>M2,DrawLayer:()=>HC,FeatureTest:()=>wr,GlobalWorkerOptions:()=>$o,ImageKind:()=>dy,InvalidPDFException:()=>Nj,MissingPDFException:()=>Fu,OPS:()=>Li,Outliner:()=>bC,PDFDataRangeTransport:()=>M5,PDFDateString:()=>Vj,PDFWorker:()=>Wd,PasswordResponses:()=>bte,PermissionFlag:()=>_te,PixelsPerInch:()=>vl,RenderingCancelledException:()=>D2,TextLayer:()=>qw,UnexpectedResponseException:()=>C1,Util:()=>ge,VerbosityLevel:()=>x1,XfaLayer:()=>L5,build:()=>Yne,createValidAbsoluteUrl:()=>Cte,fetchData:()=>R1,getDocument:()=>Bne,getFilenameFromUrl:()=>Ote,getPdfFilenameFromUrl:()=>Nte,getXfaPageViewport:()=>Fte,isDataScheme:()=>L2,isPdfFile:()=>I2,noContextMenu:()=>Er,normalizeUnicode:()=>Mte,renderTextLayer:()=>Mne,setLayerDimensions:()=>xu,shadow:()=>Be,updateTextLayer:()=>Dne,version:()=>Kne});const Un=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Oj=[1,0,0,1,0,0],ME=[.001,0,0,.001,0,0],yte=1e7,yx=1.35,ci={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Ca={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},wte="pdfjs_internal_editor_",$e={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Ce={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},_te={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Dn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},dy={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Gt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Kf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},x1={ERRORS:0,WARNINGS:1,INFOS:5},DE={NONE:0,BINARY:1},Li={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},bte={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let S1=x1.WARNINGS;function xte(n){Number.isInteger(n)&&(S1=n)}function Ste(){return S1}function E1(n){S1>=x1.INFOS&&console.log(`Info: ${n}`)}function ke(n){S1>=x1.WARNINGS&&console.log(`Warning: ${n}`)}function et(n){throw new Error(n)}function nn(n,e){n||et(e)}function Ete(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Cte(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=Rte(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(Ete(r))return r}catch{}return null}function Be(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Ll=function(){function e(t,r){this.constructor===e&&et("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class LE extends Ll{constructor(e,t){super(e,"PasswordException"),this.code=t}}class IE extends Ll{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Nj extends Ll{constructor(e){super(e,"InvalidPDFException")}}class Fu extends Ll{constructor(e){super(e,"MissingPDFException")}}class C1 extends Ll{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class Ate extends Ll{constructor(e){super(e,"FormatError")}}class ju extends Ll{constructor(e){super(e,"AbortException")}}function Fj(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&et("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function A1(n){typeof n!="string"&&et("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function Pte(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function k2(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function Tte(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function kte(){try{return new Function(""),!0}catch{return!1}}class wr{static get isLittleEndian(){return Be(this,"isLittleEndian",Tte())}static get isEvalSupported(){return Be(this,"isEvalSupported",kte())}static get isOffscreenCanvasSupported(){return Be(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Be(this,"platform",{isMac:navigator.platform.includes("Mac")}):Be(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Be(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const wx=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var zo,hy,OE;class ge{static makeHexColor(e,t,r){return`#${wx[e]}${wx[t]}${wx[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],A(this,zo,OE).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),A(this,zo,OE).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c),c}}zo=new WeakSet,hy=function(e,t,r,i,s,o,a,l,c,u){if(c<=0||c>=1)return;const d=1-c,h=c*c,p=h*c,g=d*(d*(d*e+3*c*t)+3*h*r)+p*i,m=d*(d*(d*s+3*c*o)+3*h*a)+p*l;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],m)},OE=function(e,t,r,i,s,o,a,l,c,u,d,h){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&A(this,zo,hy).call(this,e,t,r,i,s,o,a,l,-d/u,h);return}const p=u**2-4*d*c;if(p<0)return;const g=Math.sqrt(p),m=2*c;A(this,zo,hy).call(this,e,t,r,i,s,o,a,l,(-u+g)/m,h),A(this,zo,hy).call(this,e,t,r,i,s,o,a,l,(-u-g)/m,h)},P(ge,zo);function Rte(n){return decodeURIComponent(escape(n))}let _x=null,qD=null;function Mte(n){return _x||(_x=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,qD=new Map([["","t"]])),n.replaceAll(_x,(e,t,r)=>t?t.normalize("NFKC"):qD.get(r))}function Dte(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return Fj(n)}const jj="pdfjs_internal_id_",qs={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class P1{constructor(){this.constructor===P1&&et("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var Fg;const xT=class xT{constructor({enableHWA:e=!1}={}){P(this,Fg,!1);this.constructor===xT&&et("Cannot initialize BaseCanvasFactory."),C(this,Fg,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!f(this,Fg)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){et("Abstract method `_createCanvas` called.")}};Fg=new WeakMap;let Vw=xT;class T1{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===T1&&et("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?DE.BINARY:DE.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){et("Abstract method `_fetchData` called.")}}class k1{constructor({baseUrl:e=null}){this.constructor===k1&&et("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){et("Abstract method `_fetchData` called.")}}class R2{constructor(){this.constructor===R2&&et("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){et("Abstract method `_createSVG` called.")}}const Ys="http://www.w3.org/2000/svg",nc=class nc{};G(nc,"CSS",96),G(nc,"PDF",72),G(nc,"PDF_TO_CSS_UNITS",nc.CSS/nc.PDF);let vl=nc;var fc,us,io,cr,u_,pc,fe,Ln,ed,td,fy,$j,NE,nd,dp,hp,FE,fp;class Lte extends P1{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();P(this,fe);P(this,fc);P(this,us);P(this,io);P(this,cr);P(this,u_);P(this,pc,0);C(this,io,t),C(this,cr,r)}addFilter(t){if(!t)return"none";let r=f(this,fe,Ln).get(t);if(r)return r;const[i,s,o]=A(this,fe,fy).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=f(this,fe,Ln).get(a),r)return f(this,fe,Ln).set(t,r),r;const l=`g_${f(this,io)}_transfer_map_${Ar(this,pc)._++}`,c=`url(#${l})`;f(this,fe,Ln).set(t,c),f(this,fe,Ln).set(a,c);const u=A(this,fe,nd).call(this,l);return A(this,fe,hp).call(this,i,s,o,u),c}addHCMFilter(t,r){var g;const i=`${t}-${r}`,s="base";let o=f(this,fe,ed).get(s);if((o==null?void 0:o.key)===i||(o?((g=o.filter)==null||g.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},f(this,fe,ed).set(s,o)),!t||!r))return o.url;const a=A(this,fe,fp).call(this,t);t=ge.makeHexColor(...a);const l=A(this,fe,fp).call(this,r);if(r=ge.makeHexColor(...l),f(this,fe,td).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const c=new Array(256);for(let m=0;m<=255;m++){const _=m/255;c[m]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const u=c.join(","),d=`g_${f(this,io)}_hcm_filter`,h=o.filter=A(this,fe,nd).call(this,d);A(this,fe,hp).call(this,u,u,u,h),A(this,fe,NE).call(this,h);const p=(m,_)=>{const y=a[m]/255,b=l[m]/255,x=new Array(_+1);for(let S=0;S<=_;S++)x[S]=y+S/_*(b-y);return x.join(",")};return A(this,fe,hp).call(this,p(0,5),p(1,5),p(2,5),h),o.url=`url(#${d})`,o.url}addAlphaFilter(t){let r=f(this,fe,Ln).get(t);if(r)return r;const[i]=A(this,fe,fy).call(this,[t]),s=`alpha_${i}`;if(r=f(this,fe,Ln).get(s),r)return f(this,fe,Ln).set(t,r),r;const o=`g_${f(this,io)}_alpha_map_${Ar(this,pc)._++}`,a=`url(#${o})`;f(this,fe,Ln).set(t,a),f(this,fe,Ln).set(s,a);const l=A(this,fe,nd).call(this,o);return A(this,fe,FE).call(this,i,l),a}addLuminosityFilter(t){let r=f(this,fe,Ln).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=A(this,fe,fy).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=f(this,fe,Ln).get(s),r)return f(this,fe,Ln).set(t,r),r;const o=`g_${f(this,io)}_luminosity_map_${Ar(this,pc)._++}`,a=`url(#${o})`;f(this,fe,Ln).set(t,a),f(this,fe,Ln).set(s,a);const l=A(this,fe,nd).call(this,o);return A(this,fe,$j).call(this,l),t&&A(this,fe,FE).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var b;const a=`${r}-${i}-${s}-${o}`;let l=f(this,fe,ed).get(t);if((l==null?void 0:l.key)===a||(l?((b=l.filter)==null||b.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},f(this,fe,ed).set(t,l)),!r||!i))return l.url;const[c,u]=[r,i].map(A(this,fe,fp).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,g]=[s,o].map(A(this,fe,fp).bind(this));h<d&&([d,h,p,g]=[h,d,g,p]),f(this,fe,td).style.color="";const m=(x,S,E)=>{const k=new Array(256),R=(h-d)/E,T=x/255,M=(S-x)/(255*E);let L=0;for(let N=0;N<=E;N++){const z=Math.round(d+N*R),W=T+N*M;for(let O=L;O<=z;O++)k[O]=W;L=z+1}for(let N=L;N<256;N++)k[N]=k[L-1];return k.join(",")},_=`g_${f(this,io)}_hcm_${t}_filter`,y=l.filter=A(this,fe,nd).call(this,_);return A(this,fe,NE).call(this,y),A(this,fe,hp).call(this,m(p[0],g[0],5),m(p[1],g[1],5),m(p[2],g[2],5),y),l.url=`url(#${_})`,l.url}destroy(t=!1){t&&f(this,fe,ed).size!==0||(f(this,us)&&(f(this,us).parentNode.parentNode.remove(),C(this,us,null)),f(this,fc)&&(f(this,fc).clear(),C(this,fc,null)),C(this,pc,0))}}fc=new WeakMap,us=new WeakMap,io=new WeakMap,cr=new WeakMap,u_=new WeakMap,pc=new WeakMap,fe=new WeakSet,Ln=function(){return f(this,fc)||C(this,fc,new Map)},ed=function(){return f(this,u_)||C(this,u_,new Map)},td=function(){if(!f(this,us)){const t=f(this,cr).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=f(this,cr).createElementNS(Ys,"svg");i.setAttribute("width",0),i.setAttribute("height",0),C(this,us,f(this,cr).createElementNS(Ys,"defs")),t.append(i),i.append(f(this,us)),f(this,cr).body.append(t)}return f(this,us)},fy=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=c[h]/255;const d=u.join(",");return[d,d,d]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},$j=function(t){const r=f(this,cr).createElementNS(Ys,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},NE=function(t){const r=f(this,cr).createElementNS(Ys,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},nd=function(t){const r=f(this,cr).createElementNS(Ys,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),f(this,fe,td).append(r),r},dp=function(t,r,i){const s=f(this,cr).createElementNS(Ys,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},hp=function(t,r,i,s){const o=f(this,cr).createElementNS(Ys,"feComponentTransfer");s.append(o),A(this,fe,dp).call(this,o,"feFuncR",t),A(this,fe,dp).call(this,o,"feFuncG",r),A(this,fe,dp).call(this,o,"feFuncB",i)},FE=function(t,r){const i=f(this,cr).createElementNS(Ys,"feComponentTransfer");r.append(i),A(this,fe,dp).call(this,i,"feFuncA",t)},fp=function(t){return f(this,fe,td).style.color=t,O2(getComputedStyle(f(this,fe,td)).getPropertyValue("color"))};class Ite extends Vw{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function R1(n,e="text"){if(pp(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Bj extends T1{_fetchData(e,t){return R1(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):A1(r),compressionType:t}))}}class zj extends k1{_fetchData(e){return R1(e,"arraybuffer").then(t=>new Uint8Array(t))}}class M2 extends R2{_createSVG(e){return document.createElementNS(Ys,e)}}class Mv{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,d,h;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,u=0,d=0,h=1;break;case 90:c=0,u=1,d=1,h=0;break;case 270:c=0,u=-1,d=-1,h=0;break;case 0:c=1,u=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,h=-h);let p,g,m,_;c===0?(p=Math.abs(l-e[1])*t+i,g=Math.abs(a-e[0])*t+s,m=(e[3]-e[1])*t,_=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+i,g=Math.abs(l-e[1])*t+s,m=(e[2]-e[0])*t,_=(e[3]-e[1])*t),this.transform=[c*t,u*t,d*t,h*t,p-c*t*a-d*t*l,g-u*t*a-h*t*l],this.width=m,this.height=_}get rawDims(){const{viewBox:e}=this;return Be(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Mv({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return ge.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=ge.applyTransform([e[0],e[1]],this.transform),r=ge.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return ge.applyInverseTransform([e,t],this.transform)}}class D2 extends Ll{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function L2(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function I2(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Ote(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Nte(n,e="document.pdf"){if(typeof n!="string")return e;if(L2(n))return ke('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class KD{constructor(){G(this,"started",Object.create(null));G(this,"times",[])}time(e){e in this.started&&ke(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ke(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function pp(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Er(n){n.preventDefault()}function Uj(n){console.log("Deprecated API usage: "+n)}let YD;class Vj{static toDateObject(e){if(!e||typeof e!="string")return null;YD||(YD=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=YD.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=u,a+=d):c==="+"&&(o-=u,a-=d),new Date(Date.UTC(r,i,s,o,a,l))}}function Fte(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Mv({viewBox:s,scale:e,rotation:t})}function O2(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ke(`Not a valid color format: "${n}"`),[0,0,0])}function jte(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,O2(r))}e.remove()}function St(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function Ks(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function xu(n,e,t=!1,r=!0){if(e instanceof Mv){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=wr.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${c}, 1px)`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=d):(o.width=d,o.height=u)}r&&n.setAttribute("data-main-rotation",e.rotation)}var gc,mc,Dr,vc,d_,Hj,tr,Wj,Gj,py,qj,$E;const h_=class h_{constructor(e){P(this,tr);P(this,gc,null);P(this,mc,null);P(this,Dr);P(this,vc,null);C(this,Dr,e)}render(){const e=C(this,gc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,Dr)._uiManager._signal;e.addEventListener("contextmenu",Er,{signal:t}),e.addEventListener("pointerdown",A(h_,d_,Hj),{signal:t});const r=C(this,vc,document.createElement("div"));r.className="buttons",e.append(r);const i=f(this,Dr).toolbarPosition;if(i){const{style:s}=e,o=f(this,Dr)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,tr,qj).call(this),e}hide(){var e;f(this,gc).classList.add("hidden"),(e=f(this,mc))==null||e.hideDropdown()}show(){f(this,gc).classList.remove("hidden")}addAltTextButton(e){A(this,tr,py).call(this,e),f(this,vc).prepend(e,f(this,tr,$E))}addColorPicker(e){C(this,mc,e);const t=e.renderButton();A(this,tr,py).call(this,t),f(this,vc).prepend(t,f(this,tr,$E))}remove(){var e;f(this,gc).remove(),(e=f(this,mc))==null||e.destroy(),C(this,mc,null)}};gc=new WeakMap,mc=new WeakMap,Dr=new WeakMap,vc=new WeakMap,d_=new WeakSet,Hj=function(e){e.stopPropagation()},tr=new WeakSet,Wj=function(e){f(this,Dr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Gj=function(e){f(this,Dr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},py=function(e){const t=f(this,Dr)._uiManager._signal;e.addEventListener("focusin",A(this,tr,Wj).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",A(this,tr,Gj).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Er,{signal:t})},qj=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${f(this,Dr).editorType}-button`),A(this,tr,py).call(this,e),e.addEventListener("click",t=>{f(this,Dr)._uiManager.delete()},{signal:f(this,Dr)._uiManager._signal}),f(this,vc).append(e)},$E=function(){const e=document.createElement("div");return e.className="divider",e},P(h_,d_);let jE=h_;var jg,yc,wc,Sl,Kj,Yj,Xj;class $te{constructor(e){P(this,Sl);P(this,jg,null);P(this,yc,null);P(this,wc);C(this,wc,e)}show(e,t,r){const[i,s]=A(this,Sl,Yj).call(this,t,r),{style:o}=f(this,yc)||C(this,yc,A(this,Sl,Kj).call(this));e.append(f(this,yc)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,yc).remove()}}jg=new WeakMap,yc=new WeakMap,wc=new WeakMap,Sl=new WeakSet,Kj=function(){const e=C(this,yc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Er,{signal:f(this,wc)._signal});const t=C(this,jg,document.createElement("div"));return t.className="buttons",e.append(t),A(this,Sl,Xj).call(this),e},Yj=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},Xj=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=f(this,wc)._signal;e.addEventListener("contextmenu",Er,{signal:r}),e.addEventListener("click",()=>{f(this,wc).highlightSelection("floating_button")},{signal:r}),f(this,jg).append(e)};function Hw(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function Bte(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var f_;class zte{constructor(){P(this,f_,0)}get id(){return`${wte}${Ar(this,f_)._++}`}}f_=new WeakMap;var $g,p_,si,Bg,zE;const ST=class ST{constructor(){P(this,Bg);P(this,$g,Dte());P(this,p_,0);P(this,si,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Be(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return A(this,Bg,zE).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return A(this,Bg,zE).call(this,e,e)}async getFromId(e){f(this,si)||C(this,si,new Map);const t=f(this,si).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=f(this,si).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){f(this,si)||C(this,si,new Map);const t=f(this,si).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${f(this,$g)}_`)}};$g=new WeakMap,p_=new WeakMap,si=new WeakMap,Bg=new WeakSet,zE=async function(e,t){f(this,si)||C(this,si,new Map);let r=f(this,si).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${f(this,$g)}_${Ar(this,p_)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await R1(t,"blob")):i=r.file=t,i.type==="image/svg+xml"){const s=ST._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const d=r.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=u});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return f(this,si).set(e,r),r&&f(this,si).set(r.id,r),r};let BE=ST;var an,Aa,zg,ln;class Ute{constructor(e=128){P(this,an,[]);P(this,Aa,!1);P(this,zg);P(this,ln,-1);C(this,zg,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),f(this,Aa))return;const l={cmd:e,undo:t,post:r,type:s};if(f(this,ln)===-1){f(this,an).length>0&&(f(this,an).length=0),C(this,ln,0),f(this,an).push(l);return}if(o&&f(this,an)[f(this,ln)].type===s){a&&(l.undo=f(this,an)[f(this,ln)].undo),f(this,an)[f(this,ln)]=l;return}const c=f(this,ln)+1;c===f(this,zg)?f(this,an).splice(0,1):(C(this,ln,c),c<f(this,an).length&&f(this,an).splice(c)),f(this,an).push(l)}undo(){if(f(this,ln)===-1)return;C(this,Aa,!0);const{undo:e,post:t}=f(this,an)[f(this,ln)];e(),t==null||t(),C(this,Aa,!1),C(this,ln,f(this,ln)-1)}redo(){if(f(this,ln)<f(this,an).length-1){C(this,ln,f(this,ln)+1),C(this,Aa,!0);const{cmd:e,post:t}=f(this,an)[f(this,ln)];e(),t==null||t(),C(this,Aa,!1)}}hasSomethingToUndo(){return f(this,ln)!==-1}hasSomethingToRedo(){return f(this,ln)<f(this,an).length-1}destroy(){C(this,an,null)}}an=new WeakMap,Aa=new WeakMap,zg=new WeakMap,ln=new WeakMap;var g_,Qj;class Dv{constructor(e){P(this,g_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=wr.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(A(this,g_,Qj).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}g_=new WeakSet,Qj=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const m_=class m_{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return jte(e),Be(this,"_colors",e)}convert(e){const t=O2(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return m_._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?ge.makeHexColor(...t):e}};G(m_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let UE=m_;var Xd,Lr,qt,gn,Qd,so,Zd,Ii,Jd,_c,ds,Oi,bc,Ug,Vg,hs,eh,Pa,fs,v_,Ta,Hg,xc,Wg,th,mn,Ke,oo,Sc,Gg,qg,Kg,Yg,Xg,Qg,Zg,Jg,em,tm,nm,rm,im,ka,ps,ao,sm,se,gy,Zj,Jj,my,e5,t5,n5,VE,r5,HE,WE,i5,Kn,ha,s5,o5,GE,a5,gp,qE;const Td=class Td{constructor(e,t,r,i,s,o,a,l,c){P(this,se);P(this,Xd,new AbortController);P(this,Lr,null);P(this,qt,new Map);P(this,gn,new Map);P(this,Qd,null);P(this,so,null);P(this,Zd,null);P(this,Ii,new Ute);P(this,Jd,0);P(this,_c,new Set);P(this,ds,null);P(this,Oi,null);P(this,bc,new Set);P(this,Ug,!1);P(this,Vg,null);P(this,hs,null);P(this,eh,null);P(this,Pa,!1);P(this,fs,null);P(this,v_,new zte);P(this,Ta,!1);P(this,Hg,!1);P(this,xc,null);P(this,Wg,null);P(this,th,null);P(this,mn,$e.NONE);P(this,Ke,new Set);P(this,oo,null);P(this,Sc,null);P(this,Gg,null);P(this,qg,this.blur.bind(this));P(this,Kg,this.focus.bind(this));P(this,Yg,this.copy.bind(this));P(this,Xg,this.cut.bind(this));P(this,Qg,this.paste.bind(this));P(this,Zg,this.keydown.bind(this));P(this,Jg,this.keyup.bind(this));P(this,em,this.onEditingAction.bind(this));P(this,tm,this.onPageChanging.bind(this));P(this,nm,this.onScaleChanging.bind(this));P(this,rm,this.onRotationChanging.bind(this));P(this,im,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});P(this,ka,[0,0]);P(this,ps,null);P(this,ao,null);P(this,sm,null);this._signal=f(this,Xd).signal,C(this,ao,e),C(this,sm,t),C(this,Qd,r),this._eventBus=i,this._eventBus._on("editingaction",f(this,em)),this._eventBus._on("pagechanging",f(this,tm)),this._eventBus._on("scalechanging",f(this,nm)),this._eventBus._on("rotationchanging",f(this,rm)),A(this,se,e5).call(this),A(this,se,i5).call(this),A(this,se,VE).call(this),C(this,so,s.annotationStorage),C(this,Vg,s.filterFactory),C(this,Sc,o),C(this,eh,a||null),C(this,Ug,l),C(this,th,c||null),this.viewParameters={realScale:vl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Td.prototype,t=o=>f(o,ao).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Be(this,"_keyboardManager",new Dv([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&f(o,ao).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&f(o,ao).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r;(e=f(this,Xd))==null||e.abort(),C(this,Xd,null),this._signal=null,this._eventBus._off("editingaction",f(this,em)),this._eventBus._off("pagechanging",f(this,tm)),this._eventBus._off("scalechanging",f(this,nm)),this._eventBus._off("rotationchanging",f(this,rm));for(const i of f(this,gn).values())i.destroy();f(this,gn).clear(),f(this,qt).clear(),f(this,bc).clear(),C(this,Lr,null),f(this,Ke).clear(),f(this,Ii).destroy(),(t=f(this,Qd))==null||t.destroy(),(r=f(this,fs))==null||r.hide(),C(this,fs,null),f(this,hs)&&(clearTimeout(f(this,hs)),C(this,hs,null)),f(this,ps)&&(clearTimeout(f(this,ps)),C(this,ps,null))}async mlGuess(e){var t;return((t=f(this,th))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!f(this,th)}get hcmFilter(){return Be(this,"hcmFilter",f(this,Sc)?f(this,Vg).addHCMFilter(f(this,Sc).foreground,f(this,Sc).background):"none")}get direction(){return Be(this,"direction",getComputedStyle(f(this,ao)).direction)}get highlightColors(){return Be(this,"highlightColors",f(this,eh)?new Map(f(this,eh).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Be(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){C(this,Wg,e)}editAltText(e){var t;(t=f(this,Qd))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){C(this,Jd,e-1)}focusMainContainer(){f(this,ao).focus()}findParent(e,t){for(const r of f(this,gn).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){f(this,sm).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,bc).add(e)}removeShouldRescale(e){f(this,bc).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*vl.PDF_TO_CSS_UNITS;for(const t of f(this,bc))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),c=A(this,se,gy).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(c);if(u){t.empty(),f(this,mn)===$e.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:$e.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of f(this,gn).values())if(d.hasTextLayer(c)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&f(this,so)&&!f(this,so).has(e.id)&&f(this,so).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,f(this,Pa)&&(C(this,Pa,!1),A(this,se,my).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,Ke))if(t.div.contains(e)){C(this,xc,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,xc))return;const[e,t]=f(this,xc);C(this,xc,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){A(this,se,VE).call(this),A(this,se,HE).call(this)}removeEditListeners(){A(this,se,r5).call(this),A(this,se,WE).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of f(this,Oi))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of f(this,Oi))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=f(this,Lr))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of f(this,Ke)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of f(this,Oi))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){ke(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)A(this,se,GE).call(this,l);A(this,se,qE).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){ke(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,mn)!==$e.NONE&&!this.isEditorHandlingKeyboard&&Td._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,Pa)&&(C(this,Pa,!1),A(this,se,my).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(A(this,se,t5).call(this),A(this,se,HE).call(this),A(this,se,Kn).call(this,{isEditing:f(this,mn)!==$e.NONE,isEmpty:A(this,se,gp).call(this),hasSomethingToUndo:f(this,Ii).hasSomethingToUndo(),hasSomethingToRedo:f(this,Ii).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,se,n5).call(this),A(this,se,WE).call(this),A(this,se,Kn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,Oi)){C(this,Oi,e);for(const t of f(this,Oi))A(this,se,ha).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,v_).id}get currentLayer(){return f(this,gn).get(f(this,Jd))}getLayer(e){return f(this,gn).get(e)}get currentPageIndex(){return f(this,Jd)}addLayer(e){f(this,gn).set(e.pageIndex,e),f(this,Ta)?e.enable():e.disable()}removeLayer(e){f(this,gn).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(f(this,mn)!==e){if(C(this,mn,e),e===$e.NONE){this.setEditingState(!1),A(this,se,o5).call(this);return}this.setEditingState(!0),A(this,se,s5).call(this),this.unselectAll();for(const i of f(this,gn).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of f(this,qt).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==f(this,mn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(f(this,Oi)){switch(e){case Ce.CREATE:this.currentLayer.addNewEditor();return;case Ce.HIGHLIGHT_DEFAULT_COLOR:(r=f(this,Wg))==null||r.updateColor(t);break;case Ce.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,Gg)||C(this,Gg,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of f(this,Ke))i.updateParams(e,t);for(const i of f(this,Oi))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of f(this,qt).values())o.editorType===e&&o.show(t);(((s=f(this,Gg))==null?void 0:s.get(Ce.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,se,ha).call(this,[[Ce.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,Hg)!==e){C(this,Hg,e);for(const t of f(this,gn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of f(this,qt).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return f(this,qt).get(e)}addEditor(e){f(this,qt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(f(this,hs)&&clearTimeout(f(this,hs)),C(this,hs,setTimeout(()=>{this.focusMainContainer(),C(this,hs,null)},0))),f(this,qt).delete(e.id),this.unselect(e),(!e.annotationElementId||!f(this,_c).has(e.annotationElementId))&&((t=f(this,so))==null||t.remove(e.id))}addDeletedAnnotationElement(e){f(this,_c).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,_c).has(e)}removeDeletedAnnotationElement(e){f(this,_c).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Lr)!==e&&(C(this,Lr,e),e&&A(this,se,ha).call(this,e.propertiesToUpdate))}updateUI(e){f(this,se,a5)===e&&A(this,se,ha).call(this,e.propertiesToUpdate)}toggleSelected(e){if(f(this,Ke).has(e)){f(this,Ke).delete(e),e.unselect(),A(this,se,Kn).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,Ke).add(e),e.select(),A(this,se,ha).call(this,e.propertiesToUpdate),A(this,se,Kn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of f(this,Ke))t!==e&&t.unselect();f(this,Ke).clear(),f(this,Ke).add(e),e.select(),A(this,se,ha).call(this,e.propertiesToUpdate),A(this,se,Kn).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,Ke).has(e)}get firstSelectedEditor(){return f(this,Ke).values().next().value}unselect(e){e.unselect(),f(this,Ke).delete(e),A(this,se,Kn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,Ke).size!==0}get isEnterHandled(){return f(this,Ke).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){f(this,Ii).undo(),A(this,se,Kn).call(this,{hasSomethingToUndo:f(this,Ii).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,se,gp).call(this)})}redo(){f(this,Ii).redo(),A(this,se,Kn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,Ii).hasSomethingToRedo(),isEmpty:A(this,se,gp).call(this)})}addCommands(e){f(this,Ii).add(e),A(this,se,Kn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,se,gp).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...f(this,Ke)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)A(this,se,GE).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Lr))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Lr)||this.hasSelection}selectAll(){for(const e of f(this,Ke))e.commit();A(this,se,qE).call(this,f(this,qt).values())}unselectAll(){if(!(f(this,Lr)&&(f(this,Lr).commitOrRemove(),f(this,mn)!==$e.NONE))&&this.hasSelection){for(const e of f(this,Ke))e.unselect();f(this,Ke).clear(),A(this,se,Kn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;f(this,ka)[0]+=e,f(this,ka)[1]+=t;const[i,s]=f(this,ka),o=[...f(this,Ke)],a=1e3;f(this,ps)&&clearTimeout(f(this,ps)),C(this,ps,setTimeout(()=>{C(this,ps,null),f(this,ka)[0]=f(this,ka)[1]=0,this.addCommands({cmd:()=>{for(const l of o)f(this,qt).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)f(this,qt).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),C(this,ds,new Map);for(const e of f(this,Ke))f(this,ds).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,ds))return!1;this.disableUserSelect(!1);const e=f(this,ds);C(this,ds,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(f(this,qt).has(i.id)){const l=f(this,gn).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,ds))for(const r of f(this,ds).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,Ke).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Lr)===e}getActive(){return f(this,Lr)}getMode(){return f(this,mn)}get imageManager(){return Be(this,"imageManager",new BE)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,d,h)=>({x:(u-i)/o,y:1-(c+d-r)/s,width:h/o,height:d/s});break;case"180":a=(c,u,d,h)=>({x:1-(c+d-r)/s,y:1-(u+h-i)/o,width:d/s,height:h/o});break;case"270":a=(c,u,d,h)=>({x:1-(u+h-i)/o,y:(c-r)/s,width:h/o,height:d/s});break;default:a=(c,u,d,h)=>({x:(c-r)/s,y:(u-i)/o,width:d/s,height:h/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:h,y:p,width:g,height:m}of d.getClientRects())g===0||m===0||l.push(a(h,p,g,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,Zd)||C(this,Zd,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,Zd))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=f(this,Zd))==null?void 0:i.get(e.data.id);if(!t)return;const r=f(this,so).getRawValue(t);r&&(f(this,mn)===$e.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};Xd=new WeakMap,Lr=new WeakMap,qt=new WeakMap,gn=new WeakMap,Qd=new WeakMap,so=new WeakMap,Zd=new WeakMap,Ii=new WeakMap,Jd=new WeakMap,_c=new WeakMap,ds=new WeakMap,Oi=new WeakMap,bc=new WeakMap,Ug=new WeakMap,Vg=new WeakMap,hs=new WeakMap,eh=new WeakMap,Pa=new WeakMap,fs=new WeakMap,v_=new WeakMap,Ta=new WeakMap,Hg=new WeakMap,xc=new WeakMap,Wg=new WeakMap,th=new WeakMap,mn=new WeakMap,Ke=new WeakMap,oo=new WeakMap,Sc=new WeakMap,Gg=new WeakMap,qg=new WeakMap,Kg=new WeakMap,Yg=new WeakMap,Xg=new WeakMap,Qg=new WeakMap,Zg=new WeakMap,Jg=new WeakMap,em=new WeakMap,tm=new WeakMap,nm=new WeakMap,rm=new WeakMap,im=new WeakMap,ka=new WeakMap,ps=new WeakMap,ao=new WeakMap,sm=new WeakMap,se=new WeakSet,gy=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Zj=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=A(this,se,gy).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(f(this,fs)||C(this,fs,new $te(this)),f(this,fs).show(r,i,this.direction==="ltr"))},Jj=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){f(this,oo)&&((s=f(this,fs))==null||s.hide(),C(this,oo,null),A(this,se,Kn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,oo))return;if(!A(this,se,gy).call(this,e).closest(".textLayer")){f(this,oo)&&((o=f(this,fs))==null||o.hide(),C(this,oo,null),A(this,se,Kn).call(this,{hasSelectedText:!1}));return}if((a=f(this,fs))==null||a.hide(),C(this,oo,t),A(this,se,Kn).call(this,{hasSelectedText:!0}),!(f(this,mn)!==$e.HIGHLIGHT&&f(this,mn)!==$e.NONE)&&(f(this,mn)===$e.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),C(this,Pa,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,c=u=>{u.type==="pointerup"&&u.button!==0||(window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),u.type==="pointerup"&&A(this,se,my).call(this,"main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}},my=function(e=""){f(this,mn)===$e.HIGHLIGHT?this.highlightSelection(e):f(this,Ug)&&A(this,se,Zj).call(this)},e5=function(){document.addEventListener("selectionchange",A(this,se,Jj).bind(this),{signal:this._signal})},t5=function(){const e=this._signal;window.addEventListener("focus",f(this,Kg),{signal:e}),window.addEventListener("blur",f(this,qg),{signal:e})},n5=function(){window.removeEventListener("focus",f(this,Kg)),window.removeEventListener("blur",f(this,qg))},VE=function(){const e=this._signal;window.addEventListener("keydown",f(this,Zg),{signal:e}),window.addEventListener("keyup",f(this,Jg),{signal:e})},r5=function(){window.removeEventListener("keydown",f(this,Zg)),window.removeEventListener("keyup",f(this,Jg))},HE=function(){const e=this._signal;document.addEventListener("copy",f(this,Yg),{signal:e}),document.addEventListener("cut",f(this,Xg),{signal:e}),document.addEventListener("paste",f(this,Qg),{signal:e})},WE=function(){document.removeEventListener("copy",f(this,Yg)),document.removeEventListener("cut",f(this,Xg)),document.removeEventListener("paste",f(this,Qg))},i5=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Kn=function(e){Object.entries(e).some(([r,i])=>f(this,im)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,im),e)}),f(this,mn)===$e.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,se,ha).call(this,[[Ce.HIGHLIGHT_FREE,!0]]))},ha=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},s5=function(){if(!f(this,Ta)){C(this,Ta,!0);for(const e of f(this,gn).values())e.enable();for(const e of f(this,qt).values())e.enable()}},o5=function(){if(this.unselectAll(),f(this,Ta)){C(this,Ta,!1);for(const e of f(this,gn).values())e.disable();for(const e of f(this,qt).values())e.disable()}},GE=function(e){const t=f(this,gn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},a5=function(){let e=null;for(e of f(this,Ke));return e},gp=function(){if(f(this,qt).size===0)return!0;if(f(this,qt).size===1)for(const e of f(this,qt).values())return e.isEmpty();return!1},qE=function(e){for(const t of f(this,Ke))t.unselect();f(this,Ke).clear();for(const t of e)t.isEmpty()||(f(this,Ke).add(t),t.select());A(this,se,Kn).call(this,{hasSelectedEditor:this.hasSelection})},G(Td,"TRANSLATE_SMALL",1),G(Td,"TRANSLATE_BIG",10);let Su=Td;var lo,co,Ni,uo,Ir,nh,Fi,om,KE;const Js=class Js{constructor(e){P(this,om);P(this,lo,"");P(this,co,!1);P(this,Ni,null);P(this,uo,null);P(this,Ir,null);P(this,nh,!1);P(this,Fi,null);C(this,Fi,e)}static initialize(e){Js._l10nPromise||(Js._l10nPromise=e)}async render(){const e=C(this,Ni,document.createElement("button"));e.className="altText";const t=await Js._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const r=f(this,Fi)._uiManager._signal;e.addEventListener("contextmenu",Er,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),f(this,Fi)._uiManager.editAltText(f(this,Fi))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(C(this,nh,!0),i(s))},{signal:r}),await A(this,om,KE).call(this),e}finish(){f(this,Ni)&&(f(this,Ni).focus({focusVisible:f(this,nh)}),C(this,nh,!1))}isEmpty(){return!f(this,lo)&&!f(this,co)}get data(){return{altText:f(this,lo),decorative:f(this,co)}}set data({altText:e,decorative:t}){f(this,lo)===e&&f(this,co)===t||(C(this,lo,e),C(this,co,t),A(this,om,KE).call(this))}toggle(e=!1){f(this,Ni)&&(!e&&f(this,Ir)&&(clearTimeout(f(this,Ir)),C(this,Ir,null)),f(this,Ni).disabled=!e)}destroy(){var e;(e=f(this,Ni))==null||e.remove(),C(this,Ni,null),C(this,uo,null)}};lo=new WeakMap,co=new WeakMap,Ni=new WeakMap,uo=new WeakMap,Ir=new WeakMap,nh=new WeakMap,Fi=new WeakMap,om=new WeakSet,KE=async function(){var i;const e=f(this,Ni);if(!e)return;if(!f(this,lo)&&!f(this,co)){e.classList.remove("done"),(i=f(this,uo))==null||i.remove();return}e.classList.add("done"),Js._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=f(this,uo);if(!t){C(this,uo,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${f(this,Fi).id}`;e.setAttribute("aria-describedby",s);const o=100,a=f(this,Fi)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(f(this,Ir)),C(this,Ir,null)},{once:!0}),e.addEventListener("mouseenter",()=>{C(this,Ir,setTimeout(()=>{C(this,Ir,null),f(this,uo).classList.add("show"),f(this,Fi)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:a}),e.addEventListener("mouseleave",()=>{var l;f(this,Ir)&&(clearTimeout(f(this,Ir)),C(this,Ir,null)),(l=f(this,uo))==null||l.classList.remove("show")},{signal:a})}t.innerText=f(this,co)?await Js._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):f(this,lo),t.parentNode||e.append(t);const r=f(this,Fi).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},G(Js,"_l10nPromise",null);let Ww=Js;var Ec,ji,In,rh,Cc,vn,Ac,ih,sh,On,am,Pc,Ra,lm,Tc,ho,gs,oh,ah,oi,cm,y_,Re,YE,um,XE,QE,l5,c5,ZE,JE,eC,u5,d5,h5,f5,tC,mp;const ot=class ot{constructor(e){P(this,Re);P(this,Ec,null);P(this,ji,null);P(this,In,null);P(this,rh,!1);P(this,Cc,!1);P(this,vn,null);P(this,Ac,null);P(this,ih,this.focusin.bind(this));P(this,sh,this.focusout.bind(this));P(this,On,null);P(this,am,"");P(this,Pc,!1);P(this,Ra,null);P(this,lm,!1);P(this,Tc,!1);P(this,ho,!1);P(this,gs,null);P(this,oh,0);P(this,ah,0);P(this,oi,null);G(this,"_initialOptions",Object.create(null));G(this,"_isVisible",!0);G(this,"_uiManager",null);G(this,"_focusEventsAllowed",!0);G(this,"_l10nPromise",null);P(this,cm,!1);P(this,y_,ot._zIndex++);this.constructor===ot&&et("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ot.prototype._resizeWithKeyboard,t=Su.TRANSLATE_SMALL,r=Su.TRANSLATE_BIG;return Be(this,"_resizerKeyboardManager",new Dv([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],ot.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Be(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Vte({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(ot._l10nPromise||(ot._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)ot._l10nPromise.set(s,e.get(s));if(ot._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ot._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){et("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,cm)}set _isDraggable(e){var t;C(this,cm,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,y_)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,Re,mp).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,Pc)?C(this,Pc,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){A(this,Re,YE).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,Ra)||C(this,Ra,[this.x,this.y]),A(this,Re,YE).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){f(this,Ra)||C(this,Ra,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!f(this,Ra)&&(f(this,Ra)[0]!==this.x||f(this,Ra)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=ot,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[l,c]=this.getBaseTranslation();i+=l,s+=c;const{style:u}=this.div;u.left=`${(100*i).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return A(r=ot,um,XE).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return A(r=ot,um,XE).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return wr.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,f(this,Cc)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!f(this,Cc)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!f(this,Cc)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=f(this,In))==null||e.finish()}async addEditToolbar(){return f(this,On)||f(this,Tc)?f(this,On):(C(this,On,new jE(this)),this.div.append(f(this,On).render()),f(this,In)&&f(this,On).addAltTextButton(await f(this,In).render()),f(this,On))}removeEditToolbar(){var e;f(this,On)&&(f(this,On).remove(),C(this,On,null),(e=f(this,In))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){f(this,In)||(Ww.initialize(ot._l10nPromise),C(this,In,new Ww(this)),f(this,Ec)&&(f(this,In).data=f(this,Ec),C(this,Ec,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=f(this,In))==null?void 0:e.data}set altTextData(e){f(this,In)&&(f(this,In).data=e)}hasAltText(){var e;return!((e=f(this,In))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=f(this,rh)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",f(this,ih),{signal:e}),this.div.addEventListener("focusout",f(this,sh),{signal:e});const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Hw(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=wr.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(C(this,Pc,!0),this._isDraggable){A(this,Re,u5).call(this,e);return}A(this,Re,eC).call(this,e)}moveInDOM(){f(this,gs)&&clearTimeout(f(this,gs)),C(this,gs,setTimeout(()=>{var e;C(this,gs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,u=t/i,d=this.x*s,h=this.y*o,p=this.width*s,g=this.height*o;switch(r){case 0:return[d+c+a,o-h-u-g+l,d+c+p+a,o-h-u+l];case 90:return[d+u+a,o-h+c+l,d+u+g+a,o-h+c+p+l];case 180:return[d-c-p+a,o-h+u+l,d-c+a,o-h+u+g+l];case 270:return[d-u-g+a,o-h-c-p+l,d-u+a,o-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){C(this,Tc,!0)}disableEditMode(){C(this,Tc,!1)}isInEditMode(){return f(this,Tc)}shouldGetKeyboardEvents(){return f(this,ho)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,r;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",f(this,ih),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",f(this,sh),{signal:e})}rotate(e){}serialize(e=!1,t=null){et("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,C(i,Ec,e.accessibilityData);const[s,o]=i.pageDimensions,[a,l,c,u]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=u/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",f(this,ih)),this.div.removeEventListener("focusout",f(this,sh)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),f(this,gs)&&(clearTimeout(f(this,gs)),C(this,gs,null)),A(this,Re,mp).call(this),this.removeEditToolbar(),f(this,oi)){for(const e of f(this,oi).values())clearTimeout(e);C(this,oi,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,Re,l5).call(this),f(this,vn).classList.remove("hidden"),Hw(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),C(this,Ac,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,vn).children;if(!f(this,ji)){C(this,ji,Array.from(t));const o=A(this,Re,d5).bind(this),a=A(this,Re,h5).bind(this),l=this._uiManager._signal;for(const c of f(this,ji)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",A(this,Re,f5).bind(this,u),{signal:l}),ot._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>c.setAttribute("aria-label",d))}}const r=f(this,ji)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,ji).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)f(this,vn).append(f(this,vn).firstChild);else if(s>i)for(let a=0;a<s-i;a++)f(this,vn).firstChild.before(f(this,vn).lastChild);let o=0;for(const a of t){const c=f(this,ji)[o++].getAttribute("data-resizer-name");ot._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(u=>a.setAttribute("aria-label",u))}}A(this,Re,tC).call(this,0),C(this,ho,!0),f(this,vn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,ho)&&A(this,Re,JE).call(this,f(this,am),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){A(this,Re,mp).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!f(this,On)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=f(this,On))==null||i.show())});return}(t=f(this,On))==null||t.show()}unselect(){var e,t,r,i;(e=f(this,vn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=f(this,On))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return f(this,lm)}set isEditing(e){C(this,lm,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){C(this,Cc,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,oi)||C(this,oi,new Map);const{action:r}=e;let i=f(this,oi).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),f(this,oi).delete(r),f(this,oi).size===0&&C(this,oi,null)},ot._telemetryTimeout),f(this,oi).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),C(this,rh,!1)}disable(){this.div&&(this.div.tabIndex=-1),C(this,rh,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ec=new WeakMap,ji=new WeakMap,In=new WeakMap,rh=new WeakMap,Cc=new WeakMap,vn=new WeakMap,Ac=new WeakMap,ih=new WeakMap,sh=new WeakMap,On=new WeakMap,am=new WeakMap,Pc=new WeakMap,Ra=new WeakMap,lm=new WeakMap,Tc=new WeakMap,ho=new WeakMap,gs=new WeakMap,oh=new WeakMap,ah=new WeakMap,oi=new WeakMap,cm=new WeakMap,y_=new WeakMap,Re=new WeakSet,YE=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},um=new WeakSet,XE=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},QE=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},l5=function(){if(f(this,vn))return;C(this,vn,document.createElement("div")),f(this,vn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");f(this,vn).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",A(this,Re,c5).bind(this,r),{signal:t}),i.addEventListener("contextmenu",Er,{signal:t}),i.tabIndex=-1}this.div.prepend(f(this,vn))},c5=function(e,t){var m;t.preventDefault();const{isMac:r}=wr.platform;if(t.button!==0||t.ctrlKey&&r)return;(m=f(this,In))==null||m.toggle(!1);const i=A(this,Re,JE).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",Er,{signal:o});const l=this.x,c=this.y,u=this.width,d=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var _;this.parent.togglePointerEvents(!0),(_=f(this,In))==null||_.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",Er),this.parent.div.style.cursor=h,this.div.style.cursor=p,A(this,Re,ZE).call(this,l,c,u,d)};window.addEventListener("pointerup",g,{signal:o}),window.addEventListener("blur",g,{signal:o})},ZE=function(e,t,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,u]=this.parentDimensions;this.setDims(c*a,u*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[c,u]=this.parentDimensions;this.setDims(c*r,u*i),this.fixAndSetPosition()},mustExec:!0})},JE=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=ot.MIN_SIZE/r,u=ot.MIN_SIZE/i,d=j=>Math.round(j*1e4)/1e4,h=A(this,Re,QE).call(this,this.rotation),p=(j,D)=>[h[0]*j+h[2]*D,h[1]*j+h[3]*D],g=A(this,Re,QE).call(this,360-this.rotation),m=(j,D)=>[g[0]*j+g[2]*D,g[1]*j+g[3]*D];let _,y,b=!1,x=!1;switch(e){case"topLeft":b=!0,_=(j,D)=>[0,0],y=(j,D)=>[j,D];break;case"topMiddle":_=(j,D)=>[j/2,0],y=(j,D)=>[j/2,D];break;case"topRight":b=!0,_=(j,D)=>[j,0],y=(j,D)=>[0,D];break;case"middleRight":x=!0,_=(j,D)=>[j,D/2],y=(j,D)=>[0,D/2];break;case"bottomRight":b=!0,_=(j,D)=>[j,D],y=(j,D)=>[0,0];break;case"bottomMiddle":_=(j,D)=>[j/2,D],y=(j,D)=>[j/2,0];break;case"bottomLeft":b=!0,_=(j,D)=>[0,D],y=(j,D)=>[j,0];break;case"middleLeft":x=!0,_=(j,D)=>[0,D/2],y=(j,D)=>[j,D/2];break}const S=_(a,l),E=y(a,l);let k=p(...E);const R=d(s+k[0]),T=d(o+k[1]);let M=1,L=1,[N,z]=this.screenToPageTranslation(t.movementX,t.movementY);if([N,z]=m(N/r,z/i),b){const j=Math.hypot(a,l);M=L=Math.max(Math.min(Math.hypot(E[0]-S[0]-N,E[1]-S[1]-z)/j,1/a,1/l),c/a,u/l)}else x?M=Math.max(c,Math.min(1,Math.abs(E[0]-S[0]-N)))/a:L=Math.max(u,Math.min(1,Math.abs(E[1]-S[1]-z)))/l;const W=d(a*M),O=d(l*L);k=p(...y(W,O));const U=R-k[0],B=T-k[1];this.width=W,this.height=O,this.x=U,this.y=B,this.setDims(r*W,i*O),this.fixAndSetPosition()},eC=function(e){const{isMac:t}=wr.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},u5=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:s},C(this,oh,e.clientX),C(this,ah,e.clientY),i=a=>{const{clientX:l,clientY:c}=a,[u,d]=this.screenToPageTranslation(l-f(this,oh),c-f(this,ah));C(this,oh,l),C(this,ah,c),this._uiManager.dragSelectedEditors(u,d)},window.addEventListener("pointermove",i,r));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),C(this,Pc,!1),this._uiManager.endDragSession()||A(this,Re,eC).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},d5=function(e){ot._resizerKeyboardManager.exec(this,e)},h5=function(e){var t;f(this,ho)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,vn)&&A(this,Re,mp).call(this)},f5=function(e){C(this,am,f(this,ho)?e:"")},tC=function(e){if(f(this,ji))for(const t of f(this,ji))t.tabIndex=e},mp=function(){if(C(this,ho,!1),A(this,Re,tC).call(this,-1),f(this,Ac)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=f(this,Ac);A(this,Re,ZE).call(this,e,t,r,i),C(this,Ac,null)}},P(ot,um),G(ot,"_borderLineWidth",-1),G(ot,"_colorManager",new UE),G(ot,"_zIndex",1),G(ot,"_telemetryTimeout",1e3);let Ye=ot;class Vte extends Ye{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const XD=3285377520,ni=4294901760,as=65535;class p5{constructor(e){this.h1=e?e&4294967295:XD,this.h2=e?e&4294967295:XD}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let m=0,_=e.length;m<_;m++){const y=e.charCodeAt(m);y<=255?t[r++]=y:(t[r++]=y>>>8,t[r++]=y&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,u=this.h2;const d=3432918353,h=461845907,p=d&as,g=h&as;for(let m=0;m<i;m++)m&1?(a=o[m],a=a*d&ni|a*p&as,a=a<<15|a>>>17,a=a*h&ni|a*g&as,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[m],l=l*d&ni|l*p&as,l=l<<15|l>>>17,l=l*h&ni|l*g&as,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*d&ni|a*p&as,a=a<<15|a>>>17,a=a*h&ni|a*g&as,i&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ni|e*36045&as,t=t*4283543511&ni|((t<<16|e>>>16)*2950163797&ni)>>>16,e^=t>>>1,e=e*444984403&ni|e*60499&as,t=t*3301882366&ni|((t<<16|e>>>16)*3120437893&ni)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const nC=Object.freeze({map:null,hash:"",transfer:void 0});var kc,yn,w_,g5;class N2{constructor(){P(this,w_);P(this,kc,!1);P(this,yn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=f(this,yn).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return f(this,yn).get(e)}remove(e){if(f(this,yn).delete(e),f(this,yn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of f(this,yn).values())if(t instanceof Ye)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=f(this,yn).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,f(this,yn).set(e,t);i&&A(this,w_,g5).call(this),t instanceof Ye&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return f(this,yn).has(e)}getAll(){return f(this,yn).size>0?k2(f(this,yn)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return f(this,yn).size}resetModified(){f(this,kc)&&(C(this,kc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new m5(this)}get serializable(){if(f(this,yn).size===0)return nC;const e=new Map,t=new p5,r=[],i=Object.create(null);let s=!1;for(const[o,a]of f(this,yn)){const l=a instanceof Ye?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:nC}get editorStats(){let e=null;const t=new Map;for(const r of f(this,yn).values()){if(!(r instanceof Ye))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}kc=new WeakMap,yn=new WeakMap,w_=new WeakSet,g5=function(){f(this,kc)||(C(this,kc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var dm;class m5 extends N2{constructor(t){super();P(this,dm);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);C(this,dm,{map:o,hash:i,transfer:s})}get print(){et("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,dm)}}dm=new WeakMap;var lh;class Hte{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){P(this,lh,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,lh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||f(this,lh).has(e.loadedName))){if(nn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),f(this,lh).add(r),t==null||t(e)}catch{ke(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}et("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw ke(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Be(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Un||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Be(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(nn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Be(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(S,E){return S.charCodeAt(E)<<24|S.charCodeAt(E+1)<<16|S.charCodeAt(E+2)<<8|S.charCodeAt(E+3)&255}function i(S,E,k,R){const T=S.substring(0,E),M=S.substring(E+k);return T+R+M}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(S,E){if(++c>30){ke("Load test font never loaded."),E();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(u.bind(null,S,E))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const g=16,m=1482184792;let _=r(h,g);for(s=0,o=d.length-3;s<o;s+=4)_=_-m+r(d,s)|0;s<d.length&&(_=_-m+r(d+"XXX",s)|0),h=i(h,g,4,Pte(_));const y=`url(data:font/opentype;base64,${btoa(h)});`,b=`@font-face {font-family:"${d}";src:${y}}`;this.insertRule(b);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const S of[e.loadedName,d]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=S,x.append(E)}this._document.body.append(x),u(d,()=>{x.remove(),t.complete()})}}lh=new WeakMap;class Wte{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=Fj(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){ke(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case qs.BEZIER_CURVE_TO:{const[a,l,c,u,d,h]=r.slice(s,s+6);i.push(p=>p.bezierCurveTo(a,l,c,u,d,h)),s+=6}break;case qs.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.moveTo(a,l)),s+=2}break;case qs.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.lineTo(a,l)),s+=2}break;case qs.QUADRATIC_CURVE_TO:{const[a,l,c,u]=r.slice(s,s+4);i.push(d=>d.quadraticCurveTo(a,l,c,u)),s+=4}break;case qs.RESTORE:i.push(a=>a.restore());break;case qs.SAVE:i.push(a=>a.save());break;case qs.SCALE:nn(i.length===2,"Scale command is only valid at the third position.");break;case qs.TRANSFORM:{const[a,l,c,u,d,h]=r.slice(s,s+6);i.push(p=>p.transform(a,l,c,u,d,h)),s+=6}break;case qs.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,c=i.length;l<c;l++)i[l](o)}}}if(Un){var rC=Promise.withResolvers(),Xp=null;(async()=>{const e=await ks(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await ks(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await ks(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await ks(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{Xp=e,rC.resolve()},e=>{ke(`loadPackages: ${e}`),Xp=new Map,rC.resolve()})}class zs{static get promise(){return rC.promise}static get(e){return Xp==null?void 0:Xp.get(e)}}const v5=function(n){return zs.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class Gte extends P1{}class qte extends Vw{_createCanvas(e,t){return zs.get("canvas").createCanvas(e,t)}}class Kte extends T1{_fetchData(e,t){return v5(e).then(r=>({cMapData:r,compressionType:t}))}}class Yte extends k1{_fetchData(e){return v5(e)}}const Jn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function iC(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class Lv{constructor(){this.constructor===Lv&&et("Cannot initialize BaseShadingPattern.")}getPattern(){et("Abstract method `getPattern` called.")}}class Xte extends Lv{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Jn.STROKE||i===Jn.FILL){const o=t.current.getClippedPathBoundingBox(i,St(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l,!0),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),r=ge.transform(r,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),iC(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else iC(e,this._bbox),s=this._createGradient(e);return s}}function bx(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,u=n.data,d=n.width*4;let h;l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=s,s=o,o=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=o,o=a,a=h),l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=s,s=o,o=h);const p=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,m=(l[r]+e.offsetX)*e.scaleX,_=(l[r+1]+e.offsetY)*e.scaleY,y=(l[i]+e.offsetX)*e.scaleX,b=(l[i+1]+e.offsetY)*e.scaleY;if(g>=b)return;const x=c[s],S=c[s+1],E=c[s+2],k=c[o],R=c[o+1],T=c[o+2],M=c[a],L=c[a+1],N=c[a+2],z=Math.round(g),W=Math.round(b);let O,U,B,j,D,F,q,ee;for(let J=z;J<=W;J++){if(J<_){const Q=J<g?0:(g-J)/(g-_);O=p-(p-m)*Q,U=x-(x-k)*Q,B=S-(S-R)*Q,j=E-(E-T)*Q}else{let Q;J>b?Q=1:_===b?Q=0:Q=(_-J)/(_-b),O=m-(m-y)*Q,U=k-(k-M)*Q,B=R-(R-L)*Q,j=T-(T-N)*Q}let le;J<g?le=0:J>b?le=1:le=(g-J)/(g-b),D=p-(p-y)*le,F=x-(x-M)*le,q=S-(S-L)*le,ee=E-(E-N)*le;const ae=Math.round(Math.min(O,D)),xe=Math.round(Math.max(O,D));let ne=d*J+ae*4;for(let Q=ae;Q<=xe;Q++)le=(O-Q)/(O-D),le<0?le=0:le>1&&(le=1),u[ne++]=U-(U-F)*le|0,u[ne++]=B-(B-q)*le|0,u[ne++]=j-(j-ee)*le|0,u[ne++]=255}}function Qte(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let d=0;d<c;d++,u++)bx(n,t,r[u],r[u+1],r[u+a],i[u],i[u+1],i[u+a]),bx(n,t,r[u+a+1],r[u+1],r[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)bx(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class Zte extends Lv{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),p=c/d,g=u/h,m={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/g},_=d+2*2,y=h+2*2,b=r.getCanvas("mesh",_,y,!1),x=b.context,S=x.createImageData(d,h);if(t){const k=S.data;for(let R=0,T=k.length;R<T;R+=4)k[R]=t[0],k[R+1]=t[1],k[R+2]=t[2],k[R+3]=255}for(const k of this._figures)Qte(S,k,m);return x.putImageData(S,2,2),{canvas:b.canvas,offsetX:a-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(e,t,r,i){iC(e,this._bbox);let s;if(i===Jn.SHADING)s=ge.singularValueDecompose2dScale(St(e));else if(s=ge.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=ge.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===Jn.SHADING?null:this._background,t.cachedCanvases);return i!==Jn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class Jte extends Lv{getPattern(){return"hotpink"}}function ene(n){switch(n[0]){case"RadialAxial":return new Xte(n);case"Mesh":return new Zte(n);case"Dummy":return new Jte}throw new Error(`Unknown IR type: ${n[0]}`)}const QD={COLORED:1,UNCOLORED:2},__=class __{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;E1("TilingType: "+a);const u=r[0],d=r[1],h=r[2],p=r[3],g=ge.singularValueDecompose2dScale(this.matrix),m=ge.singularValueDecompose2dScale(this.baseTransform),_=[g[0]*m[0],g[1]*m[1]],y=this.getSizeAndScale(i,this.ctx.canvas.width,_[0]),b=this.getSizeAndScale(s,this.ctx.canvas.height,_[1]),x=e.cachedCanvases.getCanvas("pattern",y.size,b.size,!0),S=x.context,E=c.createCanvasGraphics(S);E.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(E,o,l);let k=u,R=d,T=h,M=p;return u<0&&(k=0,T+=Math.abs(u)),d<0&&(R=0,M+=Math.abs(d)),S.translate(-(y.scale*k),-(b.scale*R)),E.transform(y.scale,0,0,b.scale,0,0),S.save(),this.clipBbox(E,k,R,T,M),E.baseTransform=St(E.ctx),E.executeOperatorList(t),E.endDrawing(),{canvas:x.canvas,scaleX:y.scale,scaleY:b.scale,offsetX:k,offsetY:R}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max(__.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(St(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case QD.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case QD.UNCOLORED:const a=ge.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new Ate(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==Jn.SHADING&&(s=ge.transform(s,t.baseTransform),this.matrix&&(s=ge.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};G(__,"MAX_PATTERN_SIZE",3e3);let sC=__;function tne({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=wr.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=r>>3,d=r&7,h=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<i;g++){for(const _=e+u;e<_;e++){const y=e<h?n[e]:255;t[p++]=y&128?c:l,t[p++]=y&64?c:l,t[p++]=y&32?c:l,t[p++]=y&16?c:l,t[p++]=y&8?c:l,t[p++]=y&4?c:l,t[p++]=y&2?c:l,t[p++]=y&1?c:l}if(d===0)continue;const m=e<h?n[e++]:255;for(let _=0;_<d;_++)t[p++]=m&1<<7-_?c:l}return{srcPos:e,destPos:p}}const ZD=16,JD=100,nne=15,eL=10,tL=1e3,hr=16;function rne(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,a,l){e.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},n.setTransform=function(r,i,s,o,a,l){e.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class ine{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function L0(n,e,t,r,i,s,o,a,l,c){const[u,d,h,p,g,m]=St(n);if(d===0&&h===0){const b=o*u+g,x=Math.round(b),S=a*p+m,E=Math.round(S),k=(o+l)*u+g,R=Math.abs(Math.round(k)-x)||1,T=(a+c)*p+m,M=Math.abs(Math.round(T)-E)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(p),x,E),n.drawImage(e,t,r,i,s,0,0,R,M),n.setTransform(u,d,h,p,g,m),[R,M]}if(u===0&&p===0){const b=a*h+g,x=Math.round(b),S=o*d+m,E=Math.round(S),k=(a+c)*h+g,R=Math.abs(Math.round(k)-x)||1,T=(o+l)*d+m,M=Math.abs(Math.round(T)-E)||1;return n.setTransform(0,Math.sign(d),Math.sign(h),0,x,E),n.drawImage(e,t,r,i,s,0,0,M,R),n.setTransform(u,d,h,p,g,m),[M,R]}n.drawImage(e,t,r,i,s,o,a,l,c);const _=Math.hypot(u,d),y=Math.hypot(h,p);return[_*l,y*c]}function sne(n){const{width:e,height:t}=n;if(e>tL||t>tL)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,c;const u=e+7&-8;let d=new Uint8Array(u*t),h=0;for(const y of n.data){let b=128;for(;b>0;)d[h++]=y&b?0:255,b>>=1}let p=0;for(h=0,d[h]!==0&&(o[0]=1,++p),l=1;l<e;l++)d[h]!==d[h+1]&&(o[l]=d[h]?2:1,++p),h++;for(d[h]!==0&&(o[l]=2,++p),a=1;a<t;a++){h=a*u,c=a*s,d[h-u]!==d[h]&&(o[c]=d[h]?1:8,++p);let y=(d[h]?4:0)+(d[h-u]?8:0);for(l=1;l<e;l++)y=(y>>2)+(d[h+1]?4:0)+(d[h-u+1]?8:0),i[y]&&(o[c+l]=i[y],++p),h++;if(d[h-u]!==d[h]&&(o[c+l]=d[h]?2:4,++p),p>r)return null}for(h=u*(t-1),c=a*s,d[h]!==0&&(o[c]=8,++p),l=1;l<e;l++)d[h]!==d[h+1]&&(o[c+l]=d[h]?4:8,++p),h++;if(d[h]!==0&&(o[c+l]=4,++p),p>r)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),m=new Path2D;for(a=0;p&&a<=t;a++){let y=a*s;const b=y+e;for(;y<b&&!o[y];)y++;if(y===b)continue;m.moveTo(y%s,a);const x=y;let S=o[y];do{const E=g[S];do y+=E;while(!o[y]);const k=o[y];k!==5&&k!==10?(S=k,o[y]=0):(S=k&51*S>>4,o[y]&=S>>2|S<<2),m.lineTo(y%s,y/s|0),o[y]||--p}while(x!==y);--a}return d=null,o=null,function(y){y.save(),y.scale(1/e,-1/t),y.translate(0,-t),y.fill(m),y.beginPath(),y.restore()}}class nL{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Oj,this.textMatrixScale=1,this.fontMatrix=ME,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Dn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=ge.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=ge.applyTransform(t,e),i=ge.applyTransform(t.slice(2),e),s=ge.applyTransform([t[0],t[3]],e),o=ge.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){ge.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,a,l,c,u){const d=ge.bezierBoundingBox(t,r,i,s,o,a,l,c,u);u||this.updateRectMinMax(e,d)}getPathBoundingBox(e=Jn.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Jn.STROKE){t||et("Stroke bounding box must include transform.");const i=ge.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=ge.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Jn.FILL,t=null){return ge.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function rL(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%hr,s=(t-i)/hr,o=i===0?s:s+1,a=n.createImageData(r,hr);let l=0,c;const u=e.data,d=a.data;let h,p,g,m;if(e.kind===dy.GRAYSCALE_1BPP){const _=u.byteLength,y=new Uint32Array(d.buffer,0,d.byteLength>>2),b=y.length,x=r+7>>3,S=4294967295,E=wr.isLittleEndian?4278190080:255;for(h=0;h<o;h++){for(g=h<s?hr:i,c=0,p=0;p<g;p++){const k=_-l;let R=0;const T=k>x?r:k*8-7,M=T&-8;let L=0,N=0;for(;R<M;R+=8)N=u[l++],y[c++]=N&128?S:E,y[c++]=N&64?S:E,y[c++]=N&32?S:E,y[c++]=N&16?S:E,y[c++]=N&8?S:E,y[c++]=N&4?S:E,y[c++]=N&2?S:E,y[c++]=N&1?S:E;for(;R<T;R++)L===0&&(N=u[l++],L=128),y[c++]=N&L?S:E,L>>=1}for(;c<b;)y[c++]=0;n.putImageData(a,0,h*hr)}}else if(e.kind===dy.RGBA_32BPP){for(p=0,m=r*hr*4,h=0;h<s;h++)d.set(u.subarray(l,l+m)),l+=m,n.putImageData(a,0,p),p+=hr;h<o&&(m=r*i*4,d.set(u.subarray(l,l+m)),n.putImageData(a,0,p))}else if(e.kind===dy.RGB_24BPP)for(g=hr,m=r*g,h=0;h<o;h++){for(h>=s&&(g=i,m=r*g),c=0,p=m;p--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;n.putImageData(a,0,h*hr)}else throw new Error(`bad image kind: ${e.kind}`)}function iL(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%hr,s=(t-i)/hr,o=i===0?s:s+1,a=n.createImageData(r,hr);let l=0;const c=e.data,u=a.data;for(let d=0;d<o;d++){const h=d<s?hr:i;({srcPos:l}=tne({src:c,srcPos:l,dest:u,width:r,height:h,nonBlackColor:0})),n.putImageData(a,0,d*hr)}}function Yf(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function I0(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Un){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function sL(n,e){if(e)return!0;const t=ge.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*vl.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const one=["butt","round","square"],ane=["miter","round","bevel"],lne={},oL={};var El,oC,aC;const ET=class ET{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){P(this,El);this.ctx=e,this.current=new nL(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new ine(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...St(this.compositeCtx))}this.ctx.save(),I0(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=St(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>eL&&typeof r=="function",u=c?Date.now()+nne:0;let d=0;const h=this.commonObjs,p=this.objs;let g;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(g=o[a],g!==Li.dependency)this[g].apply(this,s[a]);else for(const m of s[a]){const _=m.startsWith("g_")?h:p;if(!_.has(m))return _.get(m,r),a}if(a++,a===l)return a;if(c&&++d>eL){if(Date.now()>u)return r(),a;d=0}}}endDrawing(){A(this,El,oC).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,El,aC).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",u,d;for(;s>2&&a>1||o>2&&l>1;){let h=a,p=l;s>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/h),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),u=this.cachedCanvases.getCanvas(c,h,p),d=u.context,d.clearRect(0,0,h,p),d.drawImage(e,0,0,a,l,0,0,h,p),e=u.canvas,a=h,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=St(t);let l,c,u,d;if((e.bitmap||e.data)&&e.count>1){const T=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(T),l||(l=new Map,this._cachedBitmapsMap.set(T,l));const M=l.get(c);if(M&&!o){const L=Math.round(Math.min(a[0],a[2])+a[4]),N=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:M,offsetX:L,offsetY:N}}u=M}u||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),iL(d.context,e));let h=ge.transform(a,[1/r,0,0,-1/i,0,0]);h=ge.transform(h,[1,0,0,1,0,-i]);const[p,g,m,_]=ge.getAxialAlignedBoundingBox([0,0,r,i],h),y=Math.round(m-p)||1,b=Math.round(_-g)||1,x=this.cachedCanvases.getCanvas("fillCanvas",y,b),S=x.context,E=p,k=g;S.translate(-E,-k),S.transform(...h),u||(u=this._scaleImage(d.canvas,Ks(S)),u=u.img,l&&o&&l.set(c,u)),S.imageSmoothingEnabled=sL(St(S),e.interpolate),L0(S,u,0,0,u.width,u.height,0,0,r,i),S.globalCompositeOperation="source-in";const R=ge.transform(Ks(S),[1,0,0,1,-E,-k]);return S.fillStyle=o?s.getPattern(t,this,R,Jn.FILL):s,S.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,x.canvas)),{canvas:x.canvas,offsetX:Math.round(E),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=one[e]}setLineJoin(e){this.ctx.lineJoin=ane[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...St(this.suspendedCtx)),Yf(this.suspendedCtx,s),rne(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Yf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,u,d){let h=e.canvas,p=l-u,g=c-d;if(o){if(p<0||g<0||p+r>h.width||g+i>h.height){const _=this.cachedCanvases.getCanvas("maskExtension",r,i),y=_.context;y.drawImage(h,-p,-g),o.some(b=>b!==0)&&(y.globalCompositeOperation="destination-atop",y.fillStyle=ge.makeHexColor(...o),y.fillRect(0,0,r,i),y.globalCompositeOperation="source-over"),h=_.canvas,p=g=0}else if(o.some(_=>_!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(p,g,r,i),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=ge.makeHexColor(...o),e.fillRect(p,g,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const m=new Path2D;m.rect(l,c,r,i),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(h,p,g,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode?(Yf(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Yf(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const u=St(i),d=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,h=d?r.slice(0):null;for(let p=0,g=0,m=e.length;p<m;p++)switch(e[p]|0){case Li.rectangle:o=t[g++],a=t[g++];const _=t[g++],y=t[g++],b=o+_,x=a+y;i.moveTo(o,a),_===0||y===0?i.lineTo(b,x):(i.lineTo(b,a),i.lineTo(b,x),i.lineTo(o,x)),d||s.updateRectMinMax(u,[o,a,b,x]),i.closePath();break;case Li.moveTo:o=t[g++],a=t[g++],i.moveTo(o,a),d||s.updatePathMinMax(u,o,a);break;case Li.lineTo:o=t[g++],a=t[g++],i.lineTo(o,a),d||s.updatePathMinMax(u,o,a);break;case Li.curveTo:l=o,c=a,o=t[g+4],a=t[g+5],i.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],o,a),s.updateCurvePathMinMax(u,l,c,t[g],t[g+1],t[g+2],t[g+3],o,a,h),g+=6;break;case Li.curveTo2:l=o,c=a,i.bezierCurveTo(o,a,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(u,l,c,o,a,t[g],t[g+1],t[g+2],t[g+3],h),o=t[g+2],a=t[g+3],g+=4;break;case Li.curveTo3:l=o,c=a,o=t[g+2],a=t[g+3],i.bezierCurveTo(t[g],t[g+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,t[g],t[g+1],o,a,o,a,h),g+=4;break;case Li.closePath:i.closePath();break}d&&s.updateScalingPathMinMax(u,h),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Ks(t),Jn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Ks(t),Jn.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=lne}eoClip(){this.pendingClip=oL}beginText(){this.current.textMatrix=Oj,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var u;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||ME,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&ke("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((u=r.systemFontInfo)==null?void 0:u.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=t;t<ZD?c=ZD:t>JD&&(c=JD),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=l&Dn.FILL_STROKE_MASK,d=!!(l&Dn.ADD_TO_PATH_FLAG),h=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||h)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||h?(s.save(),s.translate(t,r),s.beginPath(),p(s,c),i&&s.setTransform(...i),(u===Dn.FILL||u===Dn.FILL_STROKE)&&s.fill(),(u===Dn.STROKE||u===Dn.FILL_STROKE)&&s.stroke(),s.restore()):((u===Dn.FILL||u===Dn.FILL_STROKE)&&s.fillText(e,t,r),(u===Dn.STROKE||u===Dn.FILL_STROKE)&&s.strokeText(e,t,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:St(s),x:t,y:r,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Be(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,d=e.length,h=r.vertical,p=h?1:-1,g=r.defaultVMetrics,m=i*t.fontMatrix[0],_=t.textRenderingMode===Dn.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(u,-1):s.scale(u,1);let y;if(t.patternFill){s.save();const k=t.fillColor.getPattern(s,this,Ks(s),Jn.FILL);y=St(s),s.restore(),s.fillStyle=k}let b=t.lineWidth;const x=t.textMatrixScale;if(x===0||b===0){const k=t.textRenderingMode&Dn.FILL_STROKE_MASK;(k===Dn.STROKE||k===Dn.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=x;if(o!==1&&(s.scale(o,o),b/=o),s.lineWidth=b,r.isInvalidPDFjsFont){const k=[];let R=0;for(const T of e)k.push(T.unicode),R+=T.width;s.fillText(k.join(""),0,0),t.x+=R*m*u,s.restore(),this.compose();return}let S=0,E;for(E=0;E<d;++E){const k=e[E];if(typeof k=="number"){S+=p*k*i/1e3;continue}let R=!1;const T=(k.isSpace?l:0)+a,M=k.fontChar,L=k.accent;let N,z,W=k.width;if(h){const U=k.vmetric||g,B=-(k.vmetric?U[1]:W*.5)*m,j=U[2]*m;W=U?-U[0]:W,N=B/o,z=(S+j)/o}else N=S/o,z=0;if(r.remeasure&&W>0){const U=s.measureText(M).width*1e3/i*o;if(W<U&&this.isFontSubpixelAAEnabled){const B=W/U;R=!0,s.save(),s.scale(B,1),N/=B}else W!==U&&(N+=(W-U)/2e3*i/o)}if(this.contentVisible&&(k.isInFont||r.missingFile)){if(_&&!L)s.fillText(M,N,z);else if(this.paintChar(M,N,z,y),L){const U=N+i*L.offset.x/o,B=z-i*L.offset.y/o;this.paintChar(L.fontChar,U,B,y)}}const O=h?W*m-T*c:W*m+T*c;S+=O,R&&s.restore()}h?t.y-=S:t.x+=S*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,u=r.textHScale*o,d=r.fontMatrix||ME,h=e.length,p=r.textRenderingMode===Dn.INVISIBLE;let g,m,_,y;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(u,o),g=0;g<h;++g){if(m=e[g],typeof m=="number"){y=a*m*s/1e3,this.ctx.translate(y,0),r.x+=y*u;continue}const b=(m.isSpace?c:0)+l,x=i.charProcOperatorList[m.operatorListId];if(!x){ke(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(x),this.restore()),_=ge.applyTransform([m.width,0],d)[0]*s+b,t.translate(_,0),r.x+=_*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||St(this.ctx),s={createCanvasGraphics:o=>new ET(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new sC(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=ge.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=ge.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=ene(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Ks(t),Jn.SHADING);const i=Ks(t);if(i){const{width:s,height:o}=t.canvas,[a,l,c,u]=ge.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){et("Should not call beginInlineImage")}beginImageData(){et("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=St(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(St(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||E1("TODO: Support non-isolated groups."),e.knockout&&ke("Knockout groups not supported.");const r=St(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=ge.getAxialAlignedBoundingBox(e.bbox,St(t));const s=[0,0,t.canvas.width,t.canvas.height];i=ge.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,l,c),h=d.context;h.translate(-o,-a),h.transform(...r),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Yf(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=St(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=ge.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(A(this,El,oC).call(this),I0(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=ge.singularValueDecompose2dScale(St(this.ctx)),{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),I0(this.ctx)}else I0(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new nL(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,El,aC).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=sne(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=St(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=o.length;u<d;u+=2){const h=ge.transform(l,[t,r,i,s,o[u],o[u+1]]),[p,g]=ge.applyTransform([0,0],h);a.drawImage(c.canvas,p,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=u.context;d.save();const h=this.getObject(o,s);iL(d,h),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,Ks(t),Jn.FILL):r,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),L0(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ke("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){ke("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Un){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;rL(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Ks(i));i.imageSmoothingEnabled=sL(St(i),e.interpolate),L0(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;rL(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),L0(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===oL?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=St(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,d=c*e;o=u<1?1/u:1,a=d<1?1/d:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),u=Math.hypot(i,s);if(e===0)o=u/l,a=c/l;else{const d=e*l;o=u>d?u/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};El=new WeakSet,oC=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},aC=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Hd=ET;for(const n in Li)Hd.prototype[n]!==void 0&&(Hd.prototype[Li[n]]=Hd.prototype[n]);var hm,fm;class $o{static get workerPort(){return f(this,hm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");C(this,hm,e)}static get workerSrc(){return f(this,fm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");C(this,fm,e)}}hm=new WeakMap,fm=new WeakMap,P($o,hm,null),P($o,fm,"");const O0={UNKNOWN:0,DATA:1,ERROR:2},zt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Pr(n){switch(n instanceof Error||typeof n=="object"&&n!==null||et('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ju(n.message);case"MissingPDFException":return new Fu(n.message);case"PasswordException":return new LE(n.message,n.code);case"UnexpectedResponseException":return new C1(n.message,n.status);case"UnknownErrorException":return new IE(n.message,n.details);default:return new IE(n.message,n.toString())}}var $s,y5,w5,vy;class vp{constructor(e,t,r){P(this,$s);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){A(this,$s,w5).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===O0.DATA)l.resolve(s.data);else if(s.callback===O0.ERROR)l.reject(Pr(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){r.postMessage({sourceName:a,targetName:l,callback:O0.DATA,callbackId:s.callbackId,data:c})},function(c){r.postMessage({sourceName:a,targetName:l,callback:O0.ERROR,callbackId:s.callbackId,reason:Pr(c)})});return}if(s.streamId){A(this,$s,y5).call(this,s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:zt.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{nn(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:zt.CANCEL,streamId:s,reason:Pr(c)}),u.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$s=new WeakSet,y5=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:zt.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:zt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){nn(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:zt.ERROR,streamId:t,reason:Pr(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:zt.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:zt.START_COMPLETE,streamId:t,reason:Pr(c)})})},w5=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case zt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Pr(e.reason));break;case zt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Pr(e.reason));break;case zt.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:zt.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:zt.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:zt.PULL_COMPLETE,streamId:t,reason:Pr(l)})});break;case zt.ENQUEUE:if(nn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case zt.CLOSE:if(nn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),A(this,$s,vy).call(this,o,t);break;case zt.ERROR:nn(o,"error should have stream controller"),o.controller.error(Pr(e.reason)),A(this,$s,vy).call(this,o,t);break;case zt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Pr(e.reason)),A(this,$s,vy).call(this,o,t);break;case zt.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,Pr(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:zt.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:zt.CANCEL_COMPLETE,streamId:t,reason:Pr(l)})}),a.sinkCapability.reject(Pr(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},vy=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Rc,pm;class cne{constructor({parsedData:e,rawData:t}){P(this,Rc);P(this,pm);C(this,Rc,e),C(this,pm,t)}getRaw(){return f(this,pm)}get(e){return f(this,Rc).get(e)??null}getAll(){return k2(f(this,Rc))}has(e){return f(this,Rc).has(e)}}Rc=new WeakMap,pm=new WeakMap;const fa=Symbol("INTERNAL");var gm,mm,vm,ch;class une{constructor(e,{name:t,intent:r,usage:i}){P(this,gm,!1);P(this,mm,!1);P(this,vm,!1);P(this,ch,!0);C(this,gm,!!(e&ci.DISPLAY)),C(this,mm,!!(e&ci.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(f(this,vm))return f(this,ch);if(!f(this,ch))return!1;const{print:e,view:t}=this.usage;return f(this,gm)?(t==null?void 0:t.viewState)!=="OFF":f(this,mm)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==fa&&et("Internal method `_setVisible` called."),C(this,vm,r),C(this,ch,t)}}gm=new WeakMap,mm=new WeakMap,vm=new WeakMap,ch=new WeakMap;var Ma,Ze,uh,dh,ym,lC;class dne{constructor(e,t=ci.DISPLAY){P(this,ym);P(this,Ma,null);P(this,Ze,new Map);P(this,uh,null);P(this,dh,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,C(this,dh,e.order);for(const r of e.groups)f(this,Ze).set(r.id,new une(t,r));if(e.baseState==="OFF")for(const r of f(this,Ze).values())r._setVisible(fa,!1);for(const r of e.on)f(this,Ze).get(r)._setVisible(fa,!0);for(const r of e.off)f(this,Ze).get(r)._setVisible(fa,!1);C(this,uh,this.getHash())}}isVisible(e){if(f(this,Ze).size===0)return!0;if(!e)return E1("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,Ze).has(e.id)?f(this,Ze).get(e.id).visible:(ke(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,ym,lC).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,Ze).has(t))return ke(`Optional content group not found: ${t}`),!0;if(f(this,Ze).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,Ze).has(t))return ke(`Optional content group not found: ${t}`),!0;if(!f(this,Ze).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,Ze).has(t))return ke(`Optional content group not found: ${t}`),!0;if(!f(this,Ze).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,Ze).has(t))return ke(`Optional content group not found: ${t}`),!0;if(f(this,Ze).get(t).visible)return!1}return!0}return ke(`Unknown optional content policy ${e.policy}.`),!0}return ke(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=f(this,Ze).get(e);if(!r){ke(`Optional content group not found: ${e}`);return}r._setVisible(fa,!!t,!0),C(this,Ma,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=f(this,Ze).get(i);if(s)switch(r){case"ON":s._setVisible(fa,!0);break;case"OFF":s._setVisible(fa,!1);break;case"Toggle":s._setVisible(fa,!s.visible);break}}C(this,Ma,null)}get hasInitialVisibility(){return f(this,uh)===null||this.getHash()===f(this,uh)}getOrder(){return f(this,Ze).size?f(this,dh)?f(this,dh).slice():[...f(this,Ze).keys()]:null}getGroups(){return f(this,Ze).size>0?k2(f(this,Ze)):null}getGroup(e){return f(this,Ze).get(e)||null}getHash(){if(f(this,Ma)!==null)return f(this,Ma);const e=new p5;for(const[t,r]of f(this,Ze))e.update(`${t}:${r.visible}`);return C(this,Ma,e.hexdigest())}}Ma=new WeakMap,Ze=new WeakMap,uh=new WeakMap,dh=new WeakMap,ym=new WeakSet,lC=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=A(this,ym,lC).call(this,s);else if(f(this,Ze).has(s))o=f(this,Ze).get(s).visible;else return ke(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class hne{constructor(e,{disableRange:t=!1,disableStream:r=!1}){nn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});nn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){nn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new fne(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new pne(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class fne{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=I2(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class pne{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function gne(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(n),t){const u=c(t);return s(u)}if(t=r("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function r(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),p=A1(d);d=h.decode(p),e=!1}catch{}}return d}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function o(u){const d=[];let h;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=p.exec(u))!==null;){let[,m,_,y]=h;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[_,y]}const g=[];for(let m=0;m<d.length&&m in d;++m){let[_,y]=d[m];y=a(y),_&&(y=unescape(y),m===0&&(y=l(y))),g.push(y)}return g.join("")}function a(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const p=d[h].indexOf('"');p!==-1&&(d[h]=d[h].slice(0,p),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const h=u.slice(0,d),g=u.slice(d+1).replace(/^[^']*'/,"");return i(h,g)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,_){return String.fromCharCode(parseInt(_,16))}),i(h,g);try{g=atob(g)}catch{}return i(h,g)})}return""}function F2({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function j2(n){const e=n("Content-Disposition");if(e){let t=gne(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(I2(t))return t}return null}function M1(n,e){return n===404||n===0&&e.startsWith("file:")?new Fu('Missing PDF "'+e+'".'):new C1(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function _5(n){return n===200||n===206}function b5(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function x5(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function S5(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ke(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class aL{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return nn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new mne(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new vne(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class mne{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=x5(this._stream.httpHeaders);const r=t.url;fetch(r,b5(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!_5(i.status))throw M1(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=F2({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=j2(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ju("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:S5(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class vne{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=x5(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,b5(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!_5(o.status))throw M1(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:S5(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const xx=200,Sx=206;function yne(n){const e=n.response;return typeof e!="string"?e:A1(e).buffer}class wne{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Sx):i.expectedStatus=xx,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,c,u;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||xx;if(!(s===xx&&r.expectedStatus===Sx)&&s!==r.expectedStatus){(c=r.onError)==null||c.call(r,i.status);return}const a=yne(i);if(s===Sx){const d=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);r.onDone({begin:parseInt(h[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(u=r.onError)==null||u.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class _ne{constructor(e){this._source=e,this._manager=new wne(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return nn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new bne(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new xne(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class bne{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=o=>t.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=F2({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=j2(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=M1(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class xne{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=M1(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const E5=/^file:\/\/\/[a-zA-Z]:\//;function Sne(n){const e=zs.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class Ene{constructor(e){this.source=e,this.url=Sne(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return nn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Pne(this):new Cne(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new Tne(this,e,t):new Ane(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class C5{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ju("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class A5{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Gw(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class Cne extends C5{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const a=new Fu(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=F2({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=j2(i)};if(this._request=null,this._url.protocol==="http:"){const r=zs.get("http");this._request=r.request(Gw(this._url,e.httpHeaders),t)}else{const r=zs.get("https");this._request=r.request(Gw(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class Ane extends A5{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new Fu(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=zs.get("http");this._request=s.request(Gw(this._url,this._httpHeaders),i)}else{const s=zs.get("https");this._request=s.request(Gw(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class Pne extends C5{constructor(e){super(e);let t=decodeURIComponent(this._url.path);E5.test(this._url.href)&&(t=t.replace(/^\//,""));const r=zs.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Fu(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class Tne extends A5{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);E5.test(this._url.href)&&(i=i.replace(/^\//,""));const s=zs.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const kne=1e5,lr=30,Rne=.8;var s3,Da,ur,wm,_m,Mc,fo,bm,xm,Dc,hh,fh,La,ph,Sm,gh,Lc,Em,Cm,Zt,Ic,Oc,Ia,mh,Zo,P5,T5,cC,Bs,yy,k5,R5;let qw=(Zt=class{constructor({textContentSource:e,container:t,viewport:r}){P(this,Zo);P(this,Da,Promise.withResolvers());P(this,ur,null);P(this,wm,!1);P(this,_m,!!((s3=globalThis.FontInspector)!=null&&s3.enabled));P(this,Mc,null);P(this,fo,null);P(this,bm,0);P(this,xm,0);P(this,Dc,null);P(this,hh,null);P(this,fh,0);P(this,La,0);P(this,ph,Object.create(null));P(this,Sm,[]);P(this,gh,null);P(this,Lc,[]);P(this,Em,new WeakMap);P(this,Cm,null);var l;if(e instanceof ReadableStream)C(this,gh,e);else if(typeof e=="object")C(this,gh,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');C(this,ur,C(this,hh,t)),C(this,La,r.scale*(globalThis.devicePixelRatio||1)),C(this,fh,r.rotation),C(this,fo,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;C(this,Cm,[1,0,0,-1,-o,a+s]),C(this,xm,i),C(this,bm,s),A(l=Zt,Bs,k5).call(l),xu(t,r),f(this,Da).promise.catch(()=>{}).then(()=>{f(Zt,mh).delete(this),C(this,fo,null),C(this,ph,null)})}render(){const e=()=>{f(this,Dc).read().then(({value:t,done:r})=>{if(r){f(this,Da).resolve();return}f(this,Mc)??C(this,Mc,t.lang),Object.assign(f(this,ph),t.styles),A(this,Zo,P5).call(this,t.items),e()},f(this,Da).reject)};return C(this,Dc,f(this,gh).getReader()),f(Zt,mh).add(this),e(),f(this,Da).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==f(this,fh)&&(t==null||t(),C(this,fh,i),xu(f(this,hh),{rotation:i})),r!==f(this,La)){t==null||t(),C(this,La,r);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:A(s=Zt,Bs,yy).call(s,f(this,Mc))};for(const a of f(this,Lc))o.properties=f(this,Em).get(a),o.div=a,A(this,Zo,cC).call(this,o)}}cancel(){var t;const e=new ju("TextLayer task cancelled.");(t=f(this,Dc))==null||t.cancel(e).catch(()=>{}),C(this,Dc,null),f(this,Da).reject(e)}get textDivs(){return f(this,Lc)}get textContentItemsStr(){return f(this,Sm)}static cleanup(){if(!(f(this,mh).size>0)){f(this,Ic).clear();for(const{canvas:e}of f(this,Oc).values())e.remove();f(this,Oc).clear()}}},Da=new WeakMap,ur=new WeakMap,wm=new WeakMap,_m=new WeakMap,Mc=new WeakMap,fo=new WeakMap,bm=new WeakMap,xm=new WeakMap,Dc=new WeakMap,hh=new WeakMap,fh=new WeakMap,La=new WeakMap,ph=new WeakMap,Sm=new WeakMap,gh=new WeakMap,Lc=new WeakMap,Em=new WeakMap,Cm=new WeakMap,Ic=new WeakMap,Oc=new WeakMap,Ia=new WeakMap,mh=new WeakMap,Zo=new WeakSet,P5=function(e){var i,s;if(f(this,wm))return;(s=f(this,fo)).ctx??(s.ctx=A(i=Zt,Bs,yy).call(i,f(this,Mc)));const t=f(this,Lc),r=f(this,Sm);for(const o of e){if(t.length>kne){ke("Ignoring additional textDivs for performance reasons."),C(this,wm,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=f(this,ur);C(this,ur,document.createElement("span")),f(this,ur).classList.add("markedContent"),o.id!==null&&f(this,ur).setAttribute("id",`${o.id}`),a.append(f(this,ur))}else o.type==="endMarkedContent"&&C(this,ur,f(this,ur).parentNode);continue}r.push(o.str),A(this,Zo,T5).call(this,o)}},T5=function(e){var m;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,Lc).push(t);const i=ge.transform(f(this,Cm),e.transform);let s=Math.atan2(i[1],i[0]);const o=f(this,ph)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=f(this,_m)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(i[2],i[3]),c=l*A(m=Zt,Bs,R5).call(m,a,f(this,Mc));let u,d;s===0?(u=i[4],d=i[5]-c):(u=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const h="calc(var(--scale-factor)*",p=t.style;f(this,ur)===f(this,hh)?(p.left=`${(100*u/f(this,xm)).toFixed(2)}%`,p.top=`${(100*d/f(this,bm)).toFixed(2)}%`):(p.left=`${h}${u.toFixed(2)}px)`,p.top=`${h}${d.toFixed(2)}px)`),p.fontSize=`${h}${(f(Zt,Ia)*l).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,_m)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);_!==y&&Math.max(_,y)/Math.min(_,y)>1.5&&(g=!0)}if(g&&(r.canvasWidth=o.vertical?e.height:e.width),f(this,Em).set(t,r),f(this,fo).div=t,f(this,fo).properties=r,A(this,Zo,cC).call(this,f(this,fo)),r.hasText&&f(this,ur).append(t),r.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),f(this,ur).append(_)}},cC=function(e){const{div:t,properties:r,ctx:i,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(f(Zt,Ia)>1&&(l=`scale(${1/f(Zt,Ia)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=a,{canvasWidth:u,fontSize:d}=r;(s!==d||o!==c)&&(i.font=`${d*f(this,La)}px ${c}`,e.prevFontSize=d,e.prevFontFamily=c);const{width:h}=i.measureText(t.textContent);h>0&&(l=`scaleX(${u*f(this,La)/h}) ${l}`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},Bs=new WeakSet,yy=function(e=null){let t=f(this,Oc).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,Oc).set(e,t)}return t},k5=function(){if(f(this,Ia)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),C(this,Ia,e.getBoundingClientRect().height),e.remove()},R5=function(e,t){const r=f(this,Ic).get(e);if(r)return r;const i=A(this,Bs,yy).call(this,t),s=i.font;i.canvas.width=i.canvas.height=lr,i.font=`${lr}px ${e}`;const o=i.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const d=a/(a+l);return f(this,Ic).set(e,d),i.canvas.width=i.canvas.height=0,i.font=s,d}i.strokeStyle="red",i.clearRect(0,0,lr,lr),i.strokeText("g",0,0);let c=i.getImageData(0,0,lr,lr).data;l=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){l=Math.ceil(d/4/lr);break}i.clearRect(0,0,lr,lr),i.strokeText("A",0,lr),c=i.getImageData(0,0,lr,lr).data,a=0;for(let d=0,h=c.length;d<h;d+=4)if(c[d]>0){a=lr-Math.floor(d/4/lr);break}i.canvas.width=i.canvas.height=0,i.font=s;const u=a?a/(a+l):Rne;return f(this,Ic).set(e,u),u},P(Zt,Bs),P(Zt,Ic,new Map),P(Zt,Oc,new Map),P(Zt,Ia,null),P(Zt,mh,new Set),Zt);function Mne(){Uj("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&ke("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new qw({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function Dne(){Uj("`updateTextLayer`, please use `TextLayer` instead.")}class Mg{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Mg.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Lne=65536,Ine=100,One=5e3,Nne=Un?qte:Ite,Fne=Un?Kte:Bj,jne=Un?Gte:Lte,$ne=Un?Yte:zj;function Bne(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new uC,{docId:t}=e,r=n.url?zne(n.url):null,i=n.data?Une(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof M5?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:Lne;let u=n.worker instanceof Wd?n.worker:null;const d=n.verbosity,h=typeof n.docBaseUrl=="string"&&!L2(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,m=n.CMapReaderFactory||Fne,_=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,y=n.StandardFontDataFactory||$ne,b=n.stopAtErrors!==!0,x=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,S=n.isEvalSupported!==!1,E=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Un,k=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,R=typeof n.disableFontFace=="boolean"?n.disableFontFace:Un,T=n.fontExtraProperties===!0,M=n.enableXfa===!0,L=n.ownerDocument||globalThis.document,N=n.disableRange===!0,z=n.disableStream===!0,W=n.disableAutoFetch===!0,O=n.pdfBug===!0,U=n.enableHWA===!0,B=l?l.length:n.length??NaN,j=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Un&&!R,D=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:m===Bj&&y===zj&&p&&_&&pp(p,document.baseURI)&&pp(_,document.baseURI),F=n.canvasFactory||new Nne({ownerDocument:L,enableHWA:U}),q=n.filterFactory||new jne({docId:t,ownerDocument:L}),ee=null;xte(d);const J={canvasFactory:F,filterFactory:q};if(D||(J.cMapReaderFactory=new m({baseUrl:p,isCompressed:g}),J.standardFontDataFactory=new y({baseUrl:_})),!u){const xe={verbosity:d,port:$o.workerPort};u=xe.port?Wd.fromPort(xe):new Wd(xe),e._worker=u}const le={docId:t,apiVersion:"4.4.168",data:i,password:a,disableAutoFetch:W,rangeChunkSize:c,length:B,docBaseUrl:h,enableXfa:M,evaluatorOptions:{maxImageSize:x,disableFontFace:R,ignoreErrors:b,isEvalSupported:S,isOffscreenCanvasSupported:E,canvasMaxAreaInBytes:k,fontExtraProperties:T,useSystemFonts:j,cMapUrl:D?p:null,standardFontDataUrl:D?_:null}},ae={disableFontFace:R,fontExtraProperties:T,ownerDocument:L,pdfBug:O,styleElement:ee,loadingParams:{disableAutoFetch:W,enableXfa:M}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const xe=u.messageHandler.sendWithPromise("GetDocRequest",le,i?[i.buffer]:null);let ne;if(l)ne=new hne(l,{disableRange:N,disableStream:z});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");ne=(me=>Un?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&pp(me.url)?new aL(me):new Ene(me):pp(me.url)?new aL(me):new _ne(me))({url:r,length:B,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:N,disableStream:z})}return xe.then(Q=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const me=new vp(t,Q,u.port),Y=new Gne(me,e,ne,ae,J);e._transport=Y,me.send("Ready",null)})}).catch(e._capability.reject),e}function zne(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Un&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Une(n){if(Un&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return A1(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function lL(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var b_;const x_=class x_{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ar(x_,b_)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};b_=new WeakMap,P(x_,b_,0);let uC=x_,M5=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){et("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Vne{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Be(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Oa,po,hi,rd,wy;class Hne{constructor(e,t,r,i=!1){P(this,hi);P(this,Oa,null);P(this,po,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new KD:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new D5,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Mv({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Be(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Ca.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null}){var x,S;(x=this._stats)==null||x.time("Overall");const d=this._transport.getRenderingIntent(r,i,u),{renderingIntent:h,cacheKey:p}=d;C(this,po,!1),A(this,hi,wy).call(this),a||(a=this._transport.getOptionalContentConfig(h));let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const m=!!(h&ci.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(S=this._stats)==null||S.time("Page Request"),this._pumpOperatorList(d));const _=E=>{var k;g.renderTasks.delete(y),(this._maybeCleanupAfterRender||m)&&C(this,po,!0),A(this,hi,rd).call(this,!m),E?(y.capability.reject(E),this._abortOperatorList({intentState:g,reason:E instanceof Error?E:new Error(E)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new hC({callback:_,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(y);const b=y.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([E,k])=>{var R;if(this.destroyed){_();return}if((R=this._stats)==null||R.time("Rendering"),!(k.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:E,optionalContentConfig:k}),y.operatorListChanged()}).catch(_),b}getOperatorList({intent:e="display",annotationMode:t=Ca.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Mg.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),C(this,po,!1),A(this,hi,wy).call(this),Promise.all(e)}cleanup(e=!1){C(this,po,!0);const t=A(this,hi,rd).call(this,!1);return e&&t&&this._stats&&(this._stats=new KD),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&A(this,hi,rd).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const c=()=>{a.read().then(({value:u,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,l),c())},u=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const d of l.renderTasks)d.operatorListChanged();A(this,hi,rd).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(u);else if(l.opListReadCapability)l.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof D2){let i=Ine;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new ju(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Oa=new WeakMap,po=new WeakMap,hi=new WeakSet,rd=function(e=!1){if(A(this,hi,wy).call(this),!f(this,po)||this.destroyed)return!1;if(e)return C(this,Oa,setTimeout(()=>{C(this,Oa,null),A(this,hi,rd).call(this,!1)},One)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),C(this,po,!1),!0},wy=function(){f(this,Oa)&&(clearTimeout(f(this,Oa)),C(this,Oa,null))};var Nc,S_;class Wne{constructor(){P(this,Nc,new Set);P(this,S_,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};f(this,S_).then(()=>{for(const i of f(this,Nc))i.call(this,r)})}addEventListener(e,t){f(this,Nc).add(t)}removeEventListener(e,t){f(this,Nc).delete(t)}terminate(){f(this,Nc).clear()}}Nc=new WeakMap,S_=new WeakMap;const ro={isWorkerDisabled:!1,fakeWorkerId:0};Un&&(ro.isWorkerDisabled=!0,$o.workerSrc||($o.workerSrc="./pdf.worker.mjs")),ro.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},ro.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Fc,vh,_y,yh,by;const kr=class kr{constructor({name:e=null,port:t=null,verbosity:r=Ste()}={}){P(this,vh);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=f(kr,Fc))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(f(kr,Fc)||C(kr,Fc,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Un?Promise.all([zs.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new vp("main","worker",e),this._messageHandler.on("ready",function(){}),A(this,vh,_y).call(this)}_initialize(){if(ro.isWorkerDisabled||f(kr,yh,by)){this._setupFakeWorker();return}let{workerSrc:e}=kr;try{ro.isSameOrigin(window.location.href,e)||(e=ro.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new vp("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,A(this,vh,_y).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{E1("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){ro.isWorkerDisabled||(ke("Setting up fake worker."),ro.isWorkerDisabled=!0),kr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new Wne;this._port=t;const r=`fake${ro.fakeWorkerId++}`,i=new vp(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new vp(r,r+"_worker",t),A(this,vh,_y).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=f(kr,Fc))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=f(this,Fc))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new kr(e)}static get workerSrc(){if($o.workerSrc)return $o.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Be(this,"_setupFakeWorkerGlobal",(async()=>f(this,yh,by)?f(this,yh,by):(await import(this.workerSrc)).WorkerMessageHandler)())}};Fc=new WeakMap,vh=new WeakSet,_y=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},yh=new WeakSet,by=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},P(kr,yh),P(kr,Fc);let Wd=kr;var go,ms,wh,_h,vs,jc,yp;class Gne{constructor(e,t,r,i,s){P(this,jc);P(this,go,new Map);P(this,ms,new Map);P(this,wh,new Map);P(this,_h,new Map);P(this,vs,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new D5,this.fontLoader=new Hte({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Be(this,"annotationStorage",new N2)}getRenderingIntent(e,t=Ca.ENABLE,r=null,i=!1){let s=ci.DISPLAY,o=nC;switch(e){case"any":s=ci.ANY;break;case"display":break;case"print":s=ci.PRINT;break;default:ke(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Ca.DISABLE:s+=ci.ANNOTATIONS_DISABLE;break;case Ca.ENABLE:break;case Ca.ENABLE_FORMS:s+=ci.ANNOTATIONS_FORMS;break;case Ca.ENABLE_STORAGE:s+=ci.ANNOTATIONS_STORAGE,o=(s&ci.PRINT&&r instanceof m5?r:this.annotationStorage).serializable;break;default:ke(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=ci.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=f(this,vs))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of f(this,ms).values())e.push(i._destroy());f(this,ms).clear(),f(this,wh).clear(),f(this,_h).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),f(this,go).clear(),this.filterFactory.destroy(),qw.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new ju("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{nn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}nn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{nn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}nn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new Vne(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new LE(r.message,r.code);break;case"InvalidPDFException":i=new Nj(r.message);break;case"MissingPDFException":i=new Fu(r.message);break;case"UnexpectedResponseException":i=new C1(r.message,r.status);break;case"UnknownErrorException":i=new IE(r.message,r.details);break;default:et("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(C(this,vs,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?f(this,vs).reject(s):f(this,vs).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){f(this,vs).reject(s)}}else f(this,vs).reject(new LE(r.message,r.code));return f(this,vs).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;f(this,ms).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const p=s.error;ke(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const u=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new Wte(s,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:h}=s;nn(h,"The imageRef must be defined.");for(const p of f(this,ms).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===h)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=f(this,ms).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>yte&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&ke("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=f(this,wh).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,_h).set(s.refStr,e);const o=new Hne(t,s,this,this._params.pdfBug);return f(this,ms).set(t,o),o});return f(this,wh).set(t,i),i}getPageIndex(e){return lL(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,jc,yp).call(this,"GetFieldObjects")}hasJSActions(){return A(this,jc,yp).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,jc,yp).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,jc,yp).call(this,"GetOptionalContentConfig").then(t=>new dne(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,go).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new cne(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return f(this,go).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,ms).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,go).clear(),this.filterFactory.destroy(!0),qw.cleanup()}}cachedPageNumber(e){if(!lL(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,_h).get(t)??null}}go=new WeakMap,ms=new WeakMap,wh=new WeakMap,_h=new WeakMap,vs=new WeakMap,jc=new WeakSet,yp=function(e,t=null){const r=f(this,go).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return f(this,go).set(e,i),i};const N0=Symbol("INITIAL_DATA");var $i,Am,dC;class D5{constructor(){P(this,Am);P(this,$i,Object.create(null))}get(e,t=null){if(t){const i=A(this,Am,dC).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=f(this,$i)[e];if(!r||r.data===N0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=f(this,$i)[e];return!!t&&t.data!==N0}resolve(e,t=null){const r=A(this,Am,dC).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in f(this,$i)){const{data:r}=f(this,$i)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}C(this,$i,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,$i)){const{data:t}=f(this,$i)[e];t!==N0&&(yield[e,t])}}}$i=new WeakMap,Am=new WeakSet,dC=function(e){var t;return(t=f(this,$i))[e]||(t[e]={...Promise.withResolvers(),data:N0})};var Na;class qne{constructor(e){P(this,Na,null);C(this,Na,e),this.onContinue=null}get promise(){return f(this,Na).capability.promise}cancel(e=0){f(this,Na).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,Na).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,Na);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Na=new WeakMap;var Fa,$c;const rc=class rc{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null}){P(this,Fa,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new qne(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(f(rc,$c).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(rc,$c).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new Hd(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),f(this,Fa)&&(window.cancelAnimationFrame(f(this,Fa)),C(this,Fa,null)),f(rc,$c).delete(this._canvas),this.callback(e||new D2(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?C(this,Fa,window.requestAnimationFrame(()=>{C(this,Fa,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(rc,$c).delete(this._canvas),this.callback())))}};Fa=new WeakMap,$c=new WeakMap,P(rc,$c,new WeakSet);let hC=rc;const Kne="4.4.168",Yne="19fbc8998";function cL(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Xf(n){return Math.max(0,Math.min(255,255*n))}class uL{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Xf(e),[e,e,e]}static G_HTML([e]){const t=cL(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Xf)}static RGB_HTML(e){return`#${e.map(cL).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[Xf(1-Math.min(1,e+i)),Xf(1-Math.min(1,r+i)),Xf(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class L5{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var d,h;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&Mg.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const u=[[i,-1,o]];for(;u.length>0;){const[p,g,m]=u.at(-1);if(g+1===p.children.length){u.pop();continue}const _=p.children[++u.at(-1)[1]];if(_===null)continue;const{name:y}=_;if(y==="#text"){const x=document.createTextNode(_.value);c.push(x),m.append(x);continue}const b=(d=_==null?void 0:_.attributes)!=null&&d.xmlns?document.createElementNS(_.attributes.xmlns,y):document.createElement(y);if(m.append(b),_.attributes&&this.setAttributes({html:b,element:_,storage:t,intent:s,linkService:r}),((h=_.children)==null?void 0:h.length)>0)u.push([_,-1,b]);else if(_.value){const x=document.createTextNode(_.value);a&&Mg.shouldBuildText(y)&&c.push(x),b.append(x)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Iv=1e3,Xne=9,Eu=new WeakSet;function Bo(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class Qne{static create(e){switch(e.data.annotationType){case Gt.LINK:return new I5(e);case Gt.TEXT:return new Zne(e);case Gt.WIDGET:switch(e.data.fieldType){case"Tx":return new Jne(e);case"Btn":return e.data.radioButton?new F5(e):e.data.checkBox?new tre(e):new nre(e);case"Ch":return new rre(e);case"Sig":return new ere(e)}return new $u(e);case Gt.POPUP:return new pC(e);case Gt.FREETEXT:return new U5(e);case Gt.LINE:return new sre(e);case Gt.SQUARE:return new ore(e);case Gt.CIRCLE:return new are(e);case Gt.POLYLINE:return new V5(e);case Gt.CARET:return new cre(e);case Gt.INK:return new H5(e);case Gt.POLYGON:return new lre(e);case Gt.HIGHLIGHT:return new ure(e);case Gt.UNDERLINE:return new dre(e);case Gt.SQUIGGLY:return new hre(e);case Gt.STRIKEOUT:return new fre(e);case Gt.STAMP:return new W5(e);case Gt.FILEATTACHMENT:return new pre(e);default:return new $t(e)}}}var Bc,bh,xh,Pm,fC;const CT=class CT{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){P(this,Pm);P(this,Bc,null);P(this,bh,!1);P(this,xh,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return CT._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;f(this,Bc)||C(this,Bc,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&A(this,Pm,fC).call(this,t),(r=f(this,xh))==null||r.popup.updateEdited(e)}resetEdited(){var e;f(this,Bc)&&(A(this,Pm,fC).call(this,f(this,Bc).rect),(e=f(this,xh))==null||e.popup.resetEdited(),C(this,Bc,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof $u||(s.tabIndex=Iv);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof pC){const{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:a,height:l}=Bo(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const m=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(m>0||_>0){const b=`calc(${m}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;o.borderRadius=b}else if(this instanceof F5){const b=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=b}switch(t.borderStyle.style){case Kf.SOLID:o.borderStyle="solid";break;case Kf.DASHED:o.borderStyle="dashed";break;case Kf.BEVELED:ke("Unimplemented border style: beveled");break;case Kf.INSET:ke("Unimplemented border style: inset");break;case Kf.UNDERLINE:o.borderBottomStyle="solid";break}const y=t.borderColor||null;y?(C(this,bh,!0),o.borderColor=ge.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):o.borderWidth=0}const c=ge.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:p}=i.rawDims;o.left=`${100*(c[0]-h)/u}%`,o.top=`${100*(c[1]-p)/d}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/u}%`,o.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=Bo(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=uL[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:uL[`${o}_rgb`](a)})};return Be(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,_,y,b]=e.subarray(2,6);if(i===m&&s===_&&t===y&&r===b)return}const{style:o}=this.container;let a;if(f(this,bh)){const{borderColor:m,borderWidth:_}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=u.createElement("defs");d.append(h);const p=u.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),h.append(p);for(let m=2,_=e.length;m<_;m+=8){const y=e[m],b=e[m+1],x=e[m+2],S=e[m+3],E=u.createElement("rect"),k=(x-t)/l,R=(s-b)/c,T=(y-x)/l,M=(b-S)/c;E.setAttribute("x",k),E.setAttribute("y",R),E.setAttribute("width",T),E.setAttribute("height",M),p.append(E),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${R}" width="${T}" height="${M}"/>`)}f(this,bh)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=C(this,xh,new pC({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){et("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!Eu.has(c)){ke(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&Eu.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Bc=new WeakMap,bh=new WeakMap,xh=new WeakMap,Pm=new WeakSet,fC=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:c,height:u}=Bo(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*c/s}%`,t.height=`${100*u/o}%`):this.setRotation(i)};let $t=CT;var Vr,Xl,O5,N5;class I5 extends $t{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});P(this,Vr);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(A(this,Vr,O5).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(A(this,Vr,N5).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&A(this,Vr,Xl).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),A(this,Vr,Xl).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),A(this,Vr,Xl).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),A(this,Vr,Xl).call(this),!this._fieldObjects){ke('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var d;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const h=new Set(o);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:m}of g)h.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)h.has(g.id)===a&&l.push(g)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const c=this.annotationStorage,u=[];for(const h of l){const{id:p}=h;switch(u.push(p),h.type){case"text":{const m=h.defaultValue||"";c.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=h.defaultValue===h.exportValues;c.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=h.defaultValue||"";c.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!Eu.has(g)){ke(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Vr=new WeakSet,Xl=function(){this.container.setAttribute("data-internal-link","")},O5=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},A(this,Vr,Xl).call(this)},N5=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),A(this,Vr,Xl).call(this)};class Zne extends $t{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class $u extends $t{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return wr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ge.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Xne,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(yx*i))||1,d=c/u;o=Math.min(i,l(d/yx))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/yx))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=ge.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Jne extends $u{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Eu.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Iv,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",h=>{e.setValue(t,{value:h.target.value}),this.setPropertyOnSiblings(r,"value",h.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue??"";r.value=u.userValue=p,u.formattedValue=null});let d=h=>{const{formattedValue:p}=u;p!=null&&(h.target.value=p),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var m;if(u.focused)return;const{target:g}=p;u.userValue&&(g.value=u.userValue),u.lastCommittedValue=g.value,u.commitKey=1,(m=this.data.actions)!=null&&m.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(m){u.userValue=m.detail.value??"",e.setValue(t,{value:u.userValue.toString()}),m.target.value=u.userValue},formattedValue(m){const{formattedValue:_}=m.detail;u.formattedValue=_,_!=null&&m.target!==document.activeElement&&(m.target.value=_),e.setValue(t,{formattedValue:_})},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{var x;const{charLimit:_}=m.detail,{target:y}=m;if(_===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",_);let b=u.userValue;!b||b.length<=_||(b=b.slice(0,_),y.value=u.userValue=b,e.setValue(t,{value:b}),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),r.addEventListener("keydown",p=>{var _;u.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(u.commitKey=3),g===-1)return;const{value:m}=p.target;u.lastCommittedValue!==m&&(u.lastCommittedValue=m,u.userValue=m,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const h=d;d=null,r.addEventListener("blur",p=>{var m,_;if(!u.focused||!p.relatedTarget)return;(m=this.data.actions)!=null&&m.Blur||(u.focused=!1);const{value:g}=p.target;u.userValue=g,u.lastCommittedValue!==g&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:u.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),h(p)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",p=>{var E;u.lastCommittedValue=null;const{data:g,target:m}=p,{value:_,selectionStart:y,selectionEnd:b}=m;let x=y,S=b;switch(p.inputType){case"deleteWordBackward":{const k=_.substring(0,y).match(/\w*[^\w]*$/);k&&(x-=k[0].length);break}case"deleteWordForward":{const k=_.substring(y).match(/^[^\w]*\w*/);k&&(S+=k[0].length);break}case"deleteContentBackward":y===b&&(x-=1);break;case"deleteContentForward":y===b&&(S+=1);break}p.preventDefault(),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:g||"",willCommit:!1,selStart:x,selEnd:S}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class ere extends $u{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class tre extends $u{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Eu.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Iv,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class F5 extends $u{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Eu.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Iv,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const h=u&&d.id===r;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class nre extends I5{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class rre extends $u{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Eu.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Iv;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,r.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),o=()=>{u.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=u=>{const d=u?"value":"textContent",{options:h,multiple:p}=i;return p?Array.prototype.filter.call(h,g=>g.selected).map(g=>g[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let l=a(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(h){o==null||o();const p=h.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const m of i.options)m.selected=g.has(m.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(h){i.multiple=!0},remove(h){const p=i.options,g=h.detail.remove;p[g].selected=!1,i.remove(g),p.length>0&&Array.prototype.findIndex.call(p,_=>_.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(h){const{index:p,displayValue:g,exportValue:m}=h.detail.insert,_=i.children[p],y=document.createElement("option");y.textContent=g,y.value=m,_?_.before(y):i.append(y),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},items(h){const{items:p}=h.detail;for(;i.length!==0;)i.remove(0);for(const g of p){const{displayValue:m,exportValue:_}=g,y=document.createElement("option");y.textContent=m,y.value=_,i.append(y)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},indices(h){const p=new Set(h.detail.indices);for(const g of h.target.options)g.selected=p.has(g.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var p;const d=a(!0),h=a(!1);e.setValue(t,{value:d}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class pC extends $t{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:$t._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new ire({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${jj}${r}`).join(",")),this.container}}var Sh,E_,C_,Eh,zc,Dt,mo,Uc,Tm,km,Ch,vo,Bi,yo,Rm,wo,Mm,Vc,Hc,tt,xy,gC,j5,$5,B5,z5,Sy,Ey,mC;class ire{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:d}){P(this,tt);P(this,Sh,A(this,tt,B5).bind(this));P(this,E_,A(this,tt,mC).bind(this));P(this,C_,A(this,tt,Ey).bind(this));P(this,Eh,A(this,tt,Sy).bind(this));P(this,zc,null);P(this,Dt,null);P(this,mo,null);P(this,Uc,null);P(this,Tm,null);P(this,km,null);P(this,Ch,null);P(this,vo,!1);P(this,Bi,null);P(this,yo,null);P(this,Rm,null);P(this,wo,null);P(this,Mm,null);P(this,Vc,null);P(this,Hc,!1);var h;C(this,Dt,e),C(this,Mm,i),C(this,mo,o),C(this,wo,a),C(this,km,l),C(this,zc,t),C(this,Rm,c),C(this,Ch,u),C(this,Tm,r),C(this,Uc,Vj.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",f(this,Eh)),p.addEventListener("mouseenter",f(this,C_)),p.addEventListener("mouseleave",f(this,E_)),p.classList.add("popupTriggerArea");for(const p of r)(h=p.container)==null||h.addEventListener("keydown",f(this,Sh));f(this,Dt).hidden=!0,d&&A(this,tt,Sy).call(this)}render(){if(f(this,Bi))return;const e=C(this,Bi,document.createElement("div"));if(e.className="popup",f(this,zc)){const s=e.style.outlineColor=ge.makeHexColor(...f(this,zc));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=ge.makeHexColor(...f(this,zc).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=f(this,Mm),e.append(t),f(this,Uc)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:f(this,Uc).toLocaleDateString(),time:f(this,Uc).toLocaleTimeString()})),t.append(s)}const i=f(this,tt,xy);if(i)L5.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(f(this,mo));e.append(s)}f(this,Dt).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;f(this,Vc)||C(this,Vc,{contentsObj:f(this,mo),richText:f(this,wo)}),e&&C(this,yo,null),t&&(C(this,wo,A(this,tt,$5).call(this,t)),C(this,mo,null)),(r=f(this,Bi))==null||r.remove(),C(this,Bi,null)}resetEdited(){var e;f(this,Vc)&&({contentsObj:Ar(this,mo)._,richText:Ar(this,wo)._}=f(this,Vc),C(this,Vc,null),(e=f(this,Bi))==null||e.remove(),C(this,Bi,null),C(this,yo,null))}forceHide(){C(this,Hc,this.isVisible),f(this,Hc)&&(f(this,Dt).hidden=!0)}maybeShow(){f(this,Hc)&&(f(this,Bi)||A(this,tt,Ey).call(this),C(this,Hc,!1),f(this,Dt).hidden=!1)}get isVisible(){return f(this,Dt).hidden===!1}}Sh=new WeakMap,E_=new WeakMap,C_=new WeakMap,Eh=new WeakMap,zc=new WeakMap,Dt=new WeakMap,mo=new WeakMap,Uc=new WeakMap,Tm=new WeakMap,km=new WeakMap,Ch=new WeakMap,vo=new WeakMap,Bi=new WeakMap,yo=new WeakMap,Rm=new WeakMap,wo=new WeakMap,Mm=new WeakMap,Vc=new WeakMap,Hc=new WeakMap,tt=new WeakSet,xy=function(){const e=f(this,wo),t=f(this,mo);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,wo).html||null},gC=function(){var e,t,r;return((r=(t=(e=f(this,tt,xy))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},j5=function(){var e,t,r;return((r=(t=(e=f(this,tt,xy))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},$5=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:f(this,tt,j5),fontSize:f(this,tt,gC)?`calc(${f(this,tt,gC)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},B5=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,vo))&&A(this,tt,Sy).call(this)},z5=function(){if(f(this,yo)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=f(this,km);let o=!!f(this,Ch),a=o?f(this,Ch):f(this,Rm);for(const g of f(this,Tm))if(!a||ge.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=ge.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=o?a[2]-a[0]+5:0,d=l[0]+u,h=l[1];C(this,yo,[100*(d-i)/t,100*(h-s)/r]);const{style:p}=f(this,Dt);p.left=`${f(this,yo)[0]}%`,p.top=`${f(this,yo)[1]}%`},Sy=function(){C(this,vo,!f(this,vo)),f(this,vo)?(A(this,tt,Ey).call(this),f(this,Dt).addEventListener("click",f(this,Eh)),f(this,Dt).addEventListener("keydown",f(this,Sh))):(A(this,tt,mC).call(this),f(this,Dt).removeEventListener("click",f(this,Eh)),f(this,Dt).removeEventListener("keydown",f(this,Sh)))},Ey=function(){f(this,Bi)||this.render(),this.isVisible?f(this,vo)&&f(this,Dt).classList.add("focused"):(A(this,tt,z5).call(this),f(this,Dt).hidden=!1,f(this,Dt).style.zIndex=parseInt(f(this,Dt).style.zIndex)+1e3)},mC=function(){f(this,Dt).classList.remove("focused"),!(f(this,vo)||!this.isVisible)&&(f(this,Dt).hidden=!0,f(this,Dt).style.zIndex=parseInt(f(this,Dt).style.zIndex)-1e3)};class U5 extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=$e.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Dm;class sre extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,Dm,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=Bo(t.rect),s=this.svgFactory.create(r,i,!0),o=C(this,Dm,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Dm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dm=new WeakMap;var Lm;class ore extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,Lm,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=Bo(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=C(this,Lm,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Lm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lm=new WeakMap;var Im;class are extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,Im,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=Bo(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=C(this,Im,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Im)}addHighlightArea(){this.container.classList.add("highlightArea")}}Im=new WeakMap;var Om;class V5 extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,Om,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:o,height:a}=Bo(t),l=this.svgFactory.create(o,a,!0);let c=[];for(let d=0,h=r.length;d<h;d+=2){const p=r[d]-t[0],g=t[3]-r[d+1];c.push(`${p},${g}`)}c=c.join(" ");const u=C(this,Om,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,Om)}addHighlightArea(){this.container.classList.add("highlightArea")}}Om=new WeakMap;class lre extends V5{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class cre extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Nm;class H5 extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});P(this,Nm,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=$e.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:o,height:a}=Bo(t),l=this.svgFactory.create(o,a,!0);for(const c of r){let u=[];for(let h=0,p=c.length;h<p;h+=2){const g=c[h]-t[0],m=t[3]-c[h+1];u.push(`${g},${m}`)}u=u.join(" ");const d=this.svgFactory.createElement(this.svgElementName);f(this,Nm).push(d),d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),l.append(d)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return f(this,Nm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nm=new WeakMap;class ure extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class dre extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class hre extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class fre extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class W5 extends $t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Fm,jm,vC;class pre extends $t{constructor(t){var i;super(t,{isRenderable:!0});P(this,jm);P(this,Fm,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",A(this,jm,vC).bind(this)),C(this,Fm,i);const{isMac:s}=wr.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&A(this,jm,vC).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return f(this,Fm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fm=new WeakMap,jm=new WeakSet,vC=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var $m,Wc,Ah,Tu,G5,yC,o3;let gre=(o3=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o}){P(this,Tu);P(this,$m,null);P(this,Wc,null);P(this,Ah,new Map);this.div=e,C(this,$m,t),C(this,Wc,r),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var o;const{annotations:t}=e,r=this.div;xu(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new M2,annotationStorage:e.annotationStorage||new N2,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===Gt.POPUP;if(l){const d=i.get(a.id);if(!d)continue;s.elements=d}else{const{width:d,height:h}=Bo(a.rect);if(d<=0||h<=0)continue}s.data=a;const c=Qne.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(c):i.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),A(this,Tu,G5).call(this,u,a.id),c.annotationEditorType>0&&(f(this,Ah).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}A(this,Tu,yC).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,xu(t,{rotation:e.rotation}),A(this,Tu,yC).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,Ah).values())}getEditableAnnotation(e){return f(this,Ah).get(e)}},$m=new WeakMap,Wc=new WeakMap,Ah=new WeakMap,Tu=new WeakSet,G5=function(e,t){var i;const r=e.firstChild||e;r.id=`${jj}${t}`,this.div.append(e),(i=f(this,$m))==null||i.moveElementInDOM(this.div,e,r,!1)},yC=function(){if(!f(this,Wc))return;const e=this.div;for(const[t,r]of f(this,Wc)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}f(this,Wc).clear()},o3);const F0=/\r\n?|\n/g;var Bm,zm,Um,Vm,Hm,zi,Or,Wm,Nr,Ph,Wt,q5,K5,Y5,Cy,Uo,Ay,Py,X5,_C,Q5;const ht=class ht extends Ye{constructor(t){super({...t,name:"freeTextEditor"});P(this,Wt);P(this,Bm,this.editorDivBlur.bind(this));P(this,zm,this.editorDivFocus.bind(this));P(this,Um,this.editorDivInput.bind(this));P(this,Vm,this.editorDivKeydown.bind(this));P(this,Hm,this.editorDivPaste.bind(this));P(this,zi);P(this,Or,"");P(this,Wm,`${this.id}-editor`);P(this,Nr);P(this,Ph,null);C(this,zi,t.color||ht._defaultColor||Ye._defaultLineColor),C(this,Nr,t.fontSize||ht._defaultFontSize)}static get _keyboardManager(){const t=ht.prototype,r=o=>o.isEmpty(),i=Su.TRANSLATE_SMALL,s=Su.TRANSLATE_BIG;return Be(this,"_keyboardManager",new Dv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Ye.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case Ce.FREETEXT_SIZE:ht._defaultFontSize=r;break;case Ce.FREETEXT_COLOR:ht._defaultColor=r;break}}updateParams(t,r){switch(t){case Ce.FREETEXT_SIZE:A(this,Wt,q5).call(this,r);break;case Ce.FREETEXT_COLOR:A(this,Wt,K5).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Ce.FREETEXT_SIZE,ht._defaultFontSize],[Ce.FREETEXT_COLOR,ht._defaultColor||Ye._defaultLineColor]]}get propertiesToUpdate(){return[[Ce.FREETEXT_SIZE,f(this,Nr)],[Ce.FREETEXT_COLOR,f(this,zi)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-ht._internalPadding*t,-(ht._internalPadding+f(this,Nr))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar($e.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",f(this,Vm),{signal:t}),this.editorDiv.addEventListener("focus",f(this,zm),{signal:t}),this.editorDiv.addEventListener("blur",f(this,Bm),{signal:t}),this.editorDiv.addEventListener("input",f(this,Um),{signal:t}),this.editorDiv.addEventListener("paste",f(this,Hm),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,Wm)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",f(this,Vm)),this.editorDiv.removeEventListener("focus",f(this,zm)),this.editorDiv.removeEventListener("blur",f(this,Bm)),this.editorDiv.removeEventListener("input",f(this,Um)),this.editorDiv.removeEventListener("paste",f(this,Hm)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,Or),r=C(this,Or,A(this,Wt,Y5).call(this).trimEnd());if(t===r)return;const i=s=>{if(C(this,Or,s),!s){this.remove();return}A(this,Wt,Py).call(this),this._uiManager.rebuild(this),A(this,Wt,Cy).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),A(this,Wt,Cy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ht._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,Wm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Ye._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${f(this,Nr)}px * var(--scale-factor))`,i.color=f(this,zi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Hw(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=f(this,Ph);let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[h,p]=this.pageTranslation;let g,m;switch(this.rotation){case 0:g=t+(a[0]-h)/u,m=r+this.height-(a[1]-p)/d;break;case 90:g=t+(a[0]-h)/u,m=r-(a[1]-p)/d,[l,c]=[c,-l];break;case 180:g=t-this.width+(a[0]-h)/u,m=r-(a[1]-p)/d,[l,c]=[-l,-c];break;case 270:g=t+(a[0]-h-this.height*d)/u,m=r+(a[1]-p-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(g*s,m*o,l,c)}else this.setAt(t*s,r*o,this.width*s,this.height*o);A(this,Wt,Py).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,m,_;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=A(g=ht,Uo,_C).call(g,r.getData("text")||"").replaceAll(F0,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(F0,"")),y!==this.editorDiv){let b=u;for(const x of this.editorDiv.childNodes){if(x===y){b=d;continue}b.push(A(m=ht,Uo,Ay).call(m,x))}}u.push(l.nodeValue.slice(0,c).replaceAll(F0,""))}else if(l===this.editorDiv){let y=u,b=0;for(const x of this.editorDiv.childNodes)b++===c&&(y=d),y.push(A(_=ht,Uo,Ay).call(_,x))}C(this,Or,`${u.join(`
`)}${s}${d.join(`
`)}`),A(this,Wt,Py).call(this);const h=new Range;let p=u.reduce((y,b)=>y+b.length,0);for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const b=y.nodeValue.length;if(p<=b){h.setStart(y,p),h.setEnd(y,p);break}p-=b}o.removeAllRanges(),o.addRange(h)}get contentDiv(){return this.editorDiv}static deserialize(t,r,i){var a;let s=null;if(t instanceof U5){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:d,id:h},textContent:p,textPosition:g,parent:{page:{pageNumber:m}}}=t;if(!p||p.length===0)return null;s=t={annotationType:$e.FREETEXT,color:Array.from(c),fontSize:l,value:p.join(`
`),position:g,pageIndex:m-1,rect:u.slice(0),rotation:d,id:h,deleted:!1}}const o=super.deserialize(t,r,i);return C(o,Nr,t.fontSize),C(o,zi,ge.makeHexColor(...t.color)),C(o,Or,A(a=ht,Uo,_C).call(a,t.value)),o.annotationElementId=t.id||null,C(o,Ph,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=ht._internalPadding*this.parentScale,i=this.getRect(r,r),s=Ye._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:f(this,zi)),o={annotationType:$e.FREETEXT,color:s,fontSize:f(this,Nr),value:A(this,Wt,X5).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!A(this,Wt,Q5).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${f(this,Nr)}px * var(--scale-factor))`,i.color=f(this,zi),r.replaceChildren();for(const o of f(this,Or).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=ht._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:f(this,Or)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Bm=new WeakMap,zm=new WeakMap,Um=new WeakMap,Vm=new WeakMap,Hm=new WeakMap,zi=new WeakMap,Or=new WeakMap,Wm=new WeakMap,Nr=new WeakMap,Ph=new WeakMap,Wt=new WeakSet,q5=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-f(this,Nr))*this.parentScale),C(this,Nr,s),A(this,Wt,Cy).call(this)},i=f(this,Nr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},K5=function(t){const r=s=>{C(this,zi,this.editorDiv.style.color=s)},i=f(this,zi);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Y5=function(){var r;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(A(r=ht,Uo,Ay).call(r,i));return t.join(`
`)},Cy=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Uo=new WeakSet,Ay=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(F0,"")},Py=function(){if(this.editorDiv.replaceChildren(),!!f(this,Or))for(const t of f(this,Or).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},X5=function(){return f(this,Or).replaceAll(""," ")},_C=function(t){return t.replaceAll(" ","")},Q5=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=f(this,Ph);return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},P(ht,Uo),G(ht,"_freeTextDefaultContent",""),G(ht,"_internalPadding",0),G(ht,"_defaultColor",null),G(ht,"_defaultFontSize",10),G(ht,"_type","freetext"),G(ht,"_editorType",$e.FREETEXT);let wC=ht;var Gm,ja,Ui,nr,Z5,Ty,J5,e$,xC;class bC{constructor(e,t=0,r=0,i=!0){P(this,nr);P(this,Gm);P(this,ja,[]);P(this,Ui,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:y,y:b,width:x,height:S}of e){const E=Math.floor((y-t)/u)*u,k=Math.ceil((y+x+t)/u)*u,R=Math.floor((b-t)/u)*u,T=Math.ceil((b+S+t)/u)*u,M=[E,R,T,!0],L=[k,R,T,!1];f(this,ja).push(M,L),s=Math.min(s,E),o=Math.max(o,k),a=Math.min(a,R),l=Math.max(l,T)}const d=o-s+2*r,h=l-a+2*r,p=s-r,g=a-r,m=f(this,ja).at(i?-1:-2),_=[m[0],m[2]];for(const y of f(this,ja)){const[b,x,S]=y;y[0]=(b-p)/d,y[1]=(x-g)/h,y[2]=(S-g)/h}C(this,Gm,{x:p,y:g,width:d,height:h,lastPoint:_})}getOutlines(){f(this,ja).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of f(this,ja))t[3]?(e.push(...A(this,nr,xC).call(this,t)),A(this,nr,J5).call(this,t)):(A(this,nr,e$).call(this,t),e.push(...A(this,nr,xC).call(this,t)));return A(this,nr,Z5).call(this,e)}}Gm=new WeakMap,ja=new WeakMap,Ui=new WeakMap,nr=new WeakSet,Z5=function(e){const t=[],r=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,u,d]=o;r.delete(o);let h=a,p=l;for(s=[a,c],i.push(s);;){let g;if(r.has(u))g=u;else if(r.has(d))g=d;else break;r.delete(g),[a,l,c,u,d]=g,h!==a&&(s.push(h,p,a,p===l?l:c),h=a),p=p===l?c:l}s.push(h,p)}return new mre(i,f(this,Gm))},Ty=function(e){const t=f(this,Ui);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},J5=function([,e,t]){const r=A(this,nr,Ty).call(this,e);f(this,Ui).splice(r,0,[e,t])},e$=function([,e,t]){const r=A(this,nr,Ty).call(this,e);for(let i=r;i<f(this,Ui).length;i++){const[s,o]=f(this,Ui)[i];if(s!==e)break;if(s===e&&o===t){f(this,Ui).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=f(this,Ui)[i];if(s!==e)break;if(s===e&&o===t){f(this,Ui).splice(i,1);return}}},xC=function(e){const[t,r,i]=e,s=[[t,r,i]],o=A(this,nr,Ty).call(this,i);for(let a=0;a<o;a++){const[l,c]=f(this,Ui)[a];for(let u=0,d=s.length;u<d;u++){const[,h,p]=s[u];if(!(c<=h||p<=l)){if(h>=l){if(p>c)s[u][1]=c;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,p>c&&s.push([t,c,p])}}}return s};class t${toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof EC}}var qm,Th;class mre extends t${constructor(t,r){super();P(this,qm);P(this,Th);C(this,Th,t),C(this,qm,r)}toSVGPath(){const t=[];for(const r of f(this,Th)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,c=s-r;for(const u of f(this,Th)){const d=new Array(u.length);for(let h=0;h<u.length;h+=2)d[h]=t+u[h]*l,d[h+1]=s-u[h+1]*c;a.push(d)}return a}get box(){return f(this,qm)}}qm=new WeakMap,Th=new WeakMap;var ys,_o,kh,Rh,ws,Oe,Gc,qc,Km,Ym,Mh,Dh,$a,Xm,A_,P_,Qm,SC;const eo=class eo{constructor({x:e,y:t},r,i,s,o,a=0){P(this,Qm);P(this,ys);P(this,_o,[]);P(this,kh);P(this,Rh);P(this,ws,[]);P(this,Oe,new Float64Array(18));P(this,Gc);P(this,qc);P(this,Km);P(this,Ym);P(this,Mh);P(this,Dh);P(this,$a,[]);C(this,ys,r),C(this,Dh,s*i),C(this,Rh,o),f(this,Oe).set([NaN,NaN,NaN,NaN,e,t],6),C(this,kh,a),C(this,Ym,f(eo,Xm)*i),C(this,Km,f(eo,P_)*i),C(this,Mh,i),f(this,$a).push(e,t)}get free(){return!0}isEmpty(){return isNaN(f(this,Oe)[8])}add({x:e,y:t}){var M;C(this,Gc,e),C(this,qc,t);const[r,i,s,o]=f(this,ys);let[a,l,c,u]=f(this,Oe).subarray(8,12);const d=e-c,h=t-u,p=Math.hypot(d,h);if(p<f(this,Km))return!1;const g=p-f(this,Ym),m=g/p,_=m*d,y=m*h;let b=a,x=l;a=c,l=u,c+=_,u+=y,(M=f(this,$a))==null||M.push(e,t);const S=-y/g,E=_/g,k=S*f(this,Dh),R=E*f(this,Dh);return f(this,Oe).set(f(this,Oe).subarray(2,8),0),f(this,Oe).set([c+k,u+R],4),f(this,Oe).set(f(this,Oe).subarray(14,18),12),f(this,Oe).set([c-k,u-R],16),isNaN(f(this,Oe)[6])?(f(this,ws).length===0&&(f(this,Oe).set([a+k,l+R],2),f(this,ws).push(NaN,NaN,NaN,NaN,(a+k-r)/s,(l+R-i)/o),f(this,Oe).set([a-k,l-R],14),f(this,_o).push(NaN,NaN,NaN,NaN,(a-k-r)/s,(l-R-i)/o)),f(this,Oe).set([b,x,a,l,c,u],6),!this.isEmpty()):(f(this,Oe).set([b,x,a,l,c,u],6),Math.abs(Math.atan2(x-l,b-a)-Math.atan2(y,_))<Math.PI/2?([a,l,c,u]=f(this,Oe).subarray(2,6),f(this,ws).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+u)/2-i)/o),[a,l,b,x]=f(this,Oe).subarray(14,18),f(this,_o).push(NaN,NaN,NaN,NaN,((b+a)/2-r)/s,((x+l)/2-i)/o),!0):([b,x,a,l,c,u]=f(this,Oe).subarray(0,6),f(this,ws).push(((b+5*a)/6-r)/s,((x+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),[c,u,a,l,b,x]=f(this,Oe).subarray(12,18),f(this,_o).push(((b+5*a)/6-r)/s,((x+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,ws),t=f(this,_o),r=f(this,Oe).subarray(4,6),i=f(this,Oe).subarray(16,18),[s,o,a,l]=f(this,ys),[c,u,d,h]=A(this,Qm,SC).call(this);if(isNaN(f(this,Oe)[6])&&!this.isEmpty())return`M${(f(this,Oe)[2]-s)/a} ${(f(this,Oe)[3]-o)/l} L${(f(this,Oe)[4]-s)/a} ${(f(this,Oe)[5]-o)/l} L${c} ${u} L${d} ${h} L${(f(this,Oe)[16]-s)/a} ${(f(this,Oe)[17]-o)/l} L${(f(this,Oe)[14]-s)/a} ${(f(this,Oe)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);p.push(`L${(r[0]-s)/a} ${(r[1]-o)/l} L${c} ${u} L${d} ${h} L${(i[0]-s)/a} ${(i[1]-o)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var y;const e=f(this,ws),t=f(this,_o),r=f(this,Oe),i=r.subarray(4,6),s=r.subarray(16,18),[o,a,l,c]=f(this,ys),u=new Float64Array((((y=f(this,$a))==null?void 0:y.length)??0)+2);for(let b=0,x=u.length-2;b<x;b+=2)u[b]=(f(this,$a)[b]-o)/l,u[b+1]=(f(this,$a)[b+1]-a)/c;u[u.length-2]=(f(this,Gc)-o)/l,u[u.length-1]=(f(this,qc)-a)/c;const[d,h,p,g]=A(this,Qm,SC).call(this);if(isNaN(r[6])&&!this.isEmpty()){const b=new Float64Array(36);return b.set([NaN,NaN,NaN,NaN,(r[2]-o)/l,(r[3]-a)/c,NaN,NaN,NaN,NaN,(r[4]-o)/l,(r[5]-a)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[16]-o)/l,(r[17]-a)/c,NaN,NaN,NaN,NaN,(r[14]-o)/l,(r[15]-a)/c],0),new EC(b,u,f(this,ys),f(this,Mh),f(this,kh),f(this,Rh))}const m=new Float64Array(f(this,ws).length+24+f(this,_o).length);let _=e.length;for(let b=0;b<_;b+=2){if(isNaN(e[b])){m[b]=m[b+1]=NaN;continue}m[b]=e[b],m[b+1]=e[b+1]}m.set([NaN,NaN,NaN,NaN,(i[0]-o)/l,(i[1]-a)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/c],_),_+=24;for(let b=t.length-6;b>=6;b-=6)for(let x=0;x<6;x+=2){if(isNaN(t[b+x])){m[_]=m[_+1]=NaN,_+=2;continue}m[_]=t[b+x],m[_+1]=t[b+x+1],_+=2}return m.set([NaN,NaN,NaN,NaN,t[4],t[5]],_),new EC(m,u,f(this,ys),f(this,Mh),f(this,kh),f(this,Rh))}};ys=new WeakMap,_o=new WeakMap,kh=new WeakMap,Rh=new WeakMap,ws=new WeakMap,Oe=new WeakMap,Gc=new WeakMap,qc=new WeakMap,Km=new WeakMap,Ym=new WeakMap,Mh=new WeakMap,Dh=new WeakMap,$a=new WeakMap,Xm=new WeakMap,A_=new WeakMap,P_=new WeakMap,Qm=new WeakSet,SC=function(){const e=f(this,Oe).subarray(4,6),t=f(this,Oe).subarray(16,18),[r,i,s,o]=f(this,ys);return[(f(this,Gc)+(e[0]-t[0])/2-r)/s,(f(this,qc)+(e[1]-t[1])/2-i)/o,(f(this,Gc)+(t[0]-e[0])/2-r)/s,(f(this,qc)+(t[1]-e[1])/2-i)/o]},P(eo,Xm,8),P(eo,A_,2),P(eo,P_,f(eo,Xm)+f(eo,A_));let Kw=eo;var Lh,Kc,bo,Zm,Fr,Jm,Ot,_r,wp,_p,n$;class EC extends t${constructor(t,r,i,s,o,a){super();P(this,_r);P(this,Lh);P(this,Kc,null);P(this,bo);P(this,Zm);P(this,Fr);P(this,Jm);P(this,Ot);C(this,Ot,t),C(this,Fr,r),C(this,Lh,i),C(this,Jm,s),C(this,bo,o),C(this,Zm,a),A(this,_r,n$).call(this,a);const{x:l,y:c,width:u,height:d}=f(this,Kc);for(let h=0,p=t.length;h<p;h+=2)t[h]=(t[h]-l)/u,t[h+1]=(t[h+1]-c)/d;for(let h=0,p=r.length;h<p;h+=2)r[h]=(r[h]-l)/u,r[h+1]=(r[h+1]-c)/d}toSVGPath(){const t=[`M${f(this,Ot)[4]} ${f(this,Ot)[5]}`];for(let r=6,i=f(this,Ot).length;r<i;r+=6){if(isNaN(f(this,Ot)[r])){t.push(`L${f(this,Ot)[r+4]} ${f(this,Ot)[r+5]}`);continue}t.push(`C${f(this,Ot)[r]} ${f(this,Ot)[r+1]} ${f(this,Ot)[r+2]} ${f(this,Ot)[r+3]} ${f(this,Ot)[r+4]} ${f(this,Ot)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let c,u;switch(o){case 0:c=A(this,_r,wp).call(this,f(this,Ot),t,s,a,-l),u=A(this,_r,wp).call(this,f(this,Fr),t,s,a,-l);break;case 90:c=A(this,_r,_p).call(this,f(this,Ot),t,r,a,l),u=A(this,_r,_p).call(this,f(this,Fr),t,r,a,l);break;case 180:c=A(this,_r,wp).call(this,f(this,Ot),i,r,-a,l),u=A(this,_r,wp).call(this,f(this,Fr),i,r,-a,l);break;case 270:c=A(this,_r,_p).call(this,f(this,Ot),i,s,-a,-l),u=A(this,_r,_p).call(this,f(this,Fr),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return f(this,Kc)}getNewOutline(t,r){const{x:i,y:s,width:o,height:a}=f(this,Kc),[l,c,u,d]=f(this,Lh),h=o*u,p=a*d,g=i*u+l,m=s*d+c,_=new Kw({x:f(this,Fr)[0]*h+g,y:f(this,Fr)[1]*p+m},f(this,Lh),f(this,Jm),t,f(this,Zm),r??f(this,bo));for(let y=2;y<f(this,Fr).length;y+=2)_.add({x:f(this,Fr)[y]*h+g,y:f(this,Fr)[y+1]*p+m});return _.getOutlines()}}Lh=new WeakMap,Kc=new WeakMap,bo=new WeakMap,Zm=new WeakMap,Fr=new WeakMap,Jm=new WeakMap,Ot=new WeakMap,_r=new WeakSet,wp=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l]*s,a[l+1]=i+t[l+1]*o;return a},_p=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l+1]*s,a[l+1]=i+t[l]*o;return a},n$=function(t){const r=f(this,Ot);let i=r[4],s=r[5],o=i,a=s,l=i,c=s,u=i,d=s;const h=t?Math.max:Math.min;for(let y=6,b=r.length;y<b;y+=6){if(isNaN(r[y]))o=Math.min(o,r[y+4]),a=Math.min(a,r[y+5]),l=Math.max(l,r[y+4]),c=Math.max(c,r[y+5]),d<r[y+5]?(u=r[y+4],d=r[y+5]):d===r[y+5]&&(u=h(u,r[y+4]));else{const x=ge.bezierBoundingBox(i,s,...r.slice(y,y+6));o=Math.min(o,x[0]),a=Math.min(a,x[1]),l=Math.max(l,x[2]),c=Math.max(c,x[3]),d<x[3]?(u=x[2],d=x[3]):d===x[3]&&(u=h(u,x[2]))}i=r[y+4],s=r[y+5]}const p=o-f(this,bo),g=a-f(this,bo),m=l-o+2*f(this,bo),_=c-a+2*f(this,bo);C(this,Kc,{x:p,y:g,width:m,height:_,lastPoint:[u,d]})};var ev,tv,Vi,Yc,Ih,Kt,nv,Oh,rv,iv,Hi,Nh,ut,CC,AC,r$,Ql,i$,pa;const to=class to{constructor({editor:e=null,uiManager:t=null}){P(this,ut);P(this,ev,A(this,ut,r$).bind(this));P(this,tv,A(this,ut,i$).bind(this));P(this,Vi,null);P(this,Yc,null);P(this,Ih);P(this,Kt,null);P(this,nv,!1);P(this,Oh,!1);P(this,rv,null);P(this,iv);P(this,Hi,null);P(this,Nh);var r;e?(C(this,Oh,!1),C(this,Nh,Ce.HIGHLIGHT_COLOR),C(this,rv,e)):(C(this,Oh,!0),C(this,Nh,Ce.HIGHLIGHT_DEFAULT_COLOR)),C(this,Hi,(e==null?void 0:e._uiManager)||t),C(this,iv,f(this,Hi)._eventBus),C(this,Ih,(e==null?void 0:e.color)||((r=f(this,Hi))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Be(this,"_keyboardManager",new Dv([[["Escape","mac+Escape"],to.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],to.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],to.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],to.prototype._moveToPrevious],[["Home","mac+Home"],to.prototype._moveToBeginning],[["End","mac+End"],to.prototype._moveToEnd]]))}renderButton(){const e=C(this,Vi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=f(this,Hi)._signal;e.addEventListener("click",A(this,ut,Ql).bind(this),{signal:t}),e.addEventListener("keydown",f(this,ev),{signal:t});const r=C(this,Yc,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=f(this,Ih),e.append(r),e}renderMainDropdown(){const e=C(this,Kt,A(this,ut,CC).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===f(this,Vi)){A(this,ut,Ql).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,ut,AC).call(this,t,e)}_moveToNext(e){var t,r;if(!f(this,ut,pa)){A(this,ut,Ql).call(this,e);return}if(e.target===f(this,Vi)){(t=f(this,Kt).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=f(this,Kt))==null?void 0:t.firstChild)||e.target===f(this,Vi)){f(this,ut,pa)&&this._hideDropdownFromKeyboard();return}f(this,ut,pa)||A(this,ut,Ql).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!f(this,ut,pa)){A(this,ut,Ql).call(this,e);return}(t=f(this,Kt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,ut,pa)){A(this,ut,Ql).call(this,e);return}(t=f(this,Kt).lastChild)==null||t.focus()}hideDropdown(){var e;(e=f(this,Kt))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",f(this,tv))}_hideDropdownFromKeyboard(){var e;if(!f(this,Oh)){if(!f(this,ut,pa)){(e=f(this,rv))==null||e.unselect();return}this.hideDropdown(),f(this,Vi).focus({preventScroll:!0,focusVisible:f(this,nv)})}}updateColor(e){if(f(this,Yc)&&(f(this,Yc).style.backgroundColor=e),!f(this,Kt))return;const t=f(this,Hi).highlightColors.values();for(const r of f(this,Kt).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=f(this,Vi))==null||e.remove(),C(this,Vi,null),C(this,Yc,null),(t=f(this,Kt))==null||t.remove(),C(this,Kt,null)}};ev=new WeakMap,tv=new WeakMap,Vi=new WeakMap,Yc=new WeakMap,Ih=new WeakMap,Kt=new WeakMap,nv=new WeakMap,Oh=new WeakMap,rv=new WeakMap,iv=new WeakMap,Hi=new WeakMap,Nh=new WeakMap,ut=new WeakSet,CC=function(){const e=document.createElement("div"),t=f(this,Hi)._signal;e.addEventListener("contextmenu",Er,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of f(this,Hi).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===f(this,Ih)),s.addEventListener("click",A(this,ut,AC).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",f(this,ev),{signal:t}),e},AC=function(e,t){t.stopPropagation(),f(this,iv).dispatch("switchannotationeditorparams",{source:this,type:f(this,Nh),value:e})},r$=function(e){to._keyboardManager.exec(this,e)},Ql=function(e){if(f(this,ut,pa)){this.hideDropdown();return}if(C(this,nv,e.detail===0),window.addEventListener("pointerdown",f(this,tv),{signal:f(this,Hi)._signal}),f(this,Kt)){f(this,Kt).classList.remove("hidden");return}const t=C(this,Kt,A(this,ut,CC).call(this));f(this,Vi).append(t)},i$=function(e){var t;(t=f(this,Kt))!=null&&t.contains(e.target)||this.hideDropdown()},pa=function(){return f(this,Kt)&&!f(this,Kt).classList.contains("hidden")};let Yw=to;var Fh,sv,Ba,Xc,jh,ai,ov,av,Qc,Wi,Yn,jr,T_,$h,Zc,Yt,Bh,_s,lv,Me,PC,TC,s$,o$,a$,kC,bp,fi,id,l$,ky,xp,c$,u$,d$,h$;const He=class He extends Ye{constructor(t){super({...t,name:"highlightEditor"});P(this,Me);P(this,Fh,null);P(this,sv,0);P(this,Ba);P(this,Xc,null);P(this,jh,null);P(this,ai,null);P(this,ov,null);P(this,av,0);P(this,Qc,null);P(this,Wi,null);P(this,Yn,null);P(this,jr,!1);P(this,T_,A(this,Me,l$).bind(this));P(this,$h,null);P(this,Zc);P(this,Yt,null);P(this,Bh,"");P(this,_s);P(this,lv,"");this.color=t.color||He._defaultColor,C(this,_s,t.thickness||He._defaultThickness),C(this,Zc,t.opacity||He._defaultOpacity),C(this,Ba,t.boxes||null),C(this,lv,t.methodOfCreation||""),C(this,Bh,t.text||""),this._isDraggable=!1,t.highlightId>-1?(C(this,jr,!0),A(this,Me,TC).call(this,t),A(this,Me,bp).call(this)):(C(this,Fh,t.anchorNode),C(this,sv,t.anchorOffset),C(this,ov,t.focusNode),C(this,av,t.focusOffset),A(this,Me,PC).call(this),A(this,Me,bp).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=He.prototype;return Be(this,"_keyboardManager",new Dv([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,jr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:f(this,_s),methodOfCreation:f(this,lv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Ye.initialize(t,r),He._defaultColor||(He._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case Ce.HIGHLIGHT_DEFAULT_COLOR:He._defaultColor=r;break;case Ce.HIGHLIGHT_THICKNESS:He._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return f(this,$h)}updateParams(t,r){switch(t){case Ce.HIGHLIGHT_COLOR:A(this,Me,s$).call(this,r);break;case Ce.HIGHLIGHT_THICKNESS:A(this,Me,o$).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Ce.HIGHLIGHT_DEFAULT_COLOR,He._defaultColor],[Ce.HIGHLIGHT_THICKNESS,He._defaultThickness]]}get propertiesToUpdate(){return[[Ce.HIGHLIGHT_COLOR,this.color||He._defaultColor],[Ce.HIGHLIGHT_THICKNESS,f(this,_s)||He._defaultThickness],[Ce.HIGHLIGHT_FREE,f(this,jr)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(C(this,jh,new Yw({editor:this})),t.addColorPicker(f(this,jh))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,Me,xp).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,A(this,Me,xp).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,Me,kC).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,Me,bp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?A(this,Me,kC).call(this):t&&(A(this,Me,bp).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;f(this,jr)?(t=(t-this.rotation+360)%360,i=A(s=He,fi,id).call(s,f(this,Wi).box,t)):i=A(o=He,fi,id).call(o,this,t),r.rotate(f(this,Yn),t),r.rotate(f(this,Yt),t),r.updateBox(f(this,Yn),i),r.updateBox(f(this,Yt),A(a=He,fi,id).call(a,f(this,ai).box,t))}render(){if(this.div)return this.div;const t=super.render();f(this,Bh)&&(t.setAttribute("aria-label",f(this,Bh)),t.setAttribute("role","mark")),f(this,jr)?t.classList.add("free"):this.div.addEventListener("keydown",f(this,T_),{signal:this._uiManager._signal});const r=C(this,Qc,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=f(this,Xc);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Hw(this,f(this,Qc),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(f(this,Yt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(f(this,Yt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,Me,ky).call(this,!0);break;case 1:case 3:A(this,Me,ky).call(this,!1);break}}select(){var t,r;super.select(),f(this,Yt)&&((t=this.parent)==null||t.drawLayer.removeClass(f(this,Yt),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(f(this,Yt),"selected"))}unselect(){var t;super.unselect(),f(this,Yt)&&((t=this.parent)==null||t.drawLayer.removeClass(f(this,Yt),"selected"),f(this,jr)||A(this,Me,ky).call(this,!1))}get _mustFixPosition(){return!f(this,jr)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(f(this,Yn),t),this.parent.drawLayer.show(f(this,Yt),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:u}=i.getBoundingClientRect(),d=_=>{A(this,fi,d$).call(this,t,_)},h=t._signal,p={capture:!0,passive:!1,signal:h},g=_=>{_.preventDefault(),_.stopPropagation()},m=_=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",m),window.removeEventListener("pointerup",m),window.removeEventListener("pointerdown",g,p),window.removeEventListener("contextmenu",Er),A(this,fi,h$).call(this,t,_)};window.addEventListener("blur",m,{signal:h}),window.addEventListener("pointerup",m,{signal:h}),window.addEventListener("pointerdown",g,p),window.addEventListener("contextmenu",Er,{signal:h}),i.addEventListener("pointermove",d,{signal:h}),this._freeHighlight=new Kw({x:s,y:o},[a,l,c,u],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,i){var m;const s=super.deserialize(t,r,i),{rect:[o,a,l,c],color:u,quadPoints:d}=t;s.color=ge.makeHexColor(...u),C(s,Zc,t.opacity);const[h,p]=s.pageDimensions;s.width=(l-o)/h,s.height=(c-a)/p;const g=C(s,Ba,[]);for(let _=0;_<d.length;_+=8)g.push({x:(d[4]-l)/h,y:(c-(1-d[_+5]))/p,width:(d[_+2]-d[_])/h,height:(d[_+5]-d[_+1])/p});return A(m=s,Me,PC).call(m),s}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),i=Ye._colorManager.convert(this.color);return{annotationType:$e.HIGHLIGHT,color:i,opacity:f(this,Zc),thickness:f(this,_s),quadPoints:A(this,Me,c$).call(this),outlines:A(this,Me,u$).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:A(this,Me,xp).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Fh=new WeakMap,sv=new WeakMap,Ba=new WeakMap,Xc=new WeakMap,jh=new WeakMap,ai=new WeakMap,ov=new WeakMap,av=new WeakMap,Qc=new WeakMap,Wi=new WeakMap,Yn=new WeakMap,jr=new WeakMap,T_=new WeakMap,$h=new WeakMap,Zc=new WeakMap,Yt=new WeakMap,Bh=new WeakMap,_s=new WeakMap,lv=new WeakMap,Me=new WeakSet,PC=function(){const t=new bC(f(this,Ba),.001);C(this,Wi,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=f(this,Wi).box;const r=new bC(f(this,Ba),.0025,.001,this._uiManager.direction==="ltr");C(this,ai,r.getOutlines());const{lastPoint:i}=f(this,ai).box;C(this,$h,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},TC=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var d,h;if(C(this,Wi,t),C(this,ai,t.getNewOutline(f(this,_s)/2+1.5,.0025)),r>=0)C(this,Yn,r),C(this,Xc,i),this.parent.drawLayer.finalizeLine(r,t),C(this,Yt,this.parent.drawLayer.highlightOutline(f(this,ai)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(f(this,Yn),t),this.parent.drawLayer.updateBox(f(this,Yn),A(d=He,fi,id).call(d,f(this,Wi).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(f(this,Yt),f(this,ai)),this.parent.drawLayer.updateBox(f(this,Yt),A(h=He,fi,id).call(h,f(this,ai).box,p))}const{x:o,y:a,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*g/p,this.height=c*p/g;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*g/p,this.height=c*p/g;break}}const{lastPoint:u}=f(this,ai).box;C(this,$h,[(u[0]-o)/l,(u[1]-a)/c])},s$=function(t){const r=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(f(this,Yn),s),(a=f(this,jh))==null||a.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},o$=function(t){const r=f(this,_s),i=s=>{C(this,_s,s),A(this,Me,a$).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},a$=function(t){if(!f(this,jr))return;A(this,Me,TC).call(this,{highlightOutlines:f(this,Wi).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},kC=function(){f(this,Yn)===null||!this.parent||(this.parent.drawLayer.remove(f(this,Yn)),C(this,Yn,null),this.parent.drawLayer.remove(f(this,Yt)),C(this,Yt,null))},bp=function(t=this.parent){f(this,Yn)===null&&({id:Ar(this,Yn)._,clipPathId:Ar(this,Xc)._}=t.drawLayer.highlight(f(this,Wi),this.color,f(this,Zc)),C(this,Yt,t.drawLayer.highlightOutline(f(this,ai))),f(this,Qc)&&(f(this,Qc).style.clipPath=f(this,Xc)))},fi=new WeakSet,id=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},l$=function(t){He._keyboardManager.exec(this,t)},ky=function(t){if(!f(this,Fh))return;const r=window.getSelection();t?r.setPosition(f(this,Fh),f(this,sv)):r.setPosition(f(this,ov),f(this,av))},xp=function(){return f(this,jr)?this.rotation:0},c$=function(){if(f(this,jr))return null;const[t,r]=this.pageDimensions,i=f(this,Ba),s=new Float32Array(i.length*8);let o=0;for(const{x:a,y:l,width:c,height:u}of i){const d=a*t,h=(1-l-u)*r;s[o]=s[o+4]=d,s[o+1]=s[o+3]=h,s[o+2]=s[o+6]=d+c*t,s[o+5]=s[o+7]=h+u*r,o+=8}return s},u$=function(t){return f(this,Wi).serialize(t,A(this,Me,xp).call(this))},d$=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},h$=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},P(He,fi),G(He,"_defaultColor",null),G(He,"_defaultOpacity",1),G(He,"_defaultThickness",12),G(He,"_l10nPromise"),G(He,"_type","highlight"),G(He,"_editorType",$e.HIGHLIGHT),G(He,"_freeHighlightId",-1),G(He,"_freeHighlight",null),G(He,"_freeHighlightClipId","");let Xw=He;var Jc,eu,cv,uv,dv,tu,bs,xo,li,nu,ru,So,iu,su,za,oe,f$,p$,g$,m$,MC,v$,DC,y$,w$,_$,b$,x$,Zl,LC,Ry,My,sd,IC,Dy,Jo,S$,OC,E$,C$,NC,Ly,Sp;const xt=class xt extends Ye{constructor(t){super({...t,name:"inkEditor"});P(this,oe);P(this,Jc,0);P(this,eu,0);P(this,cv,this.canvasPointermove.bind(this));P(this,uv,this.canvasPointerleave.bind(this));P(this,dv,this.canvasPointerup.bind(this));P(this,tu,this.canvasPointerdown.bind(this));P(this,bs,null);P(this,xo,new Path2D);P(this,li,!1);P(this,nu,!1);P(this,ru,!1);P(this,So,null);P(this,iu,0);P(this,su,0);P(this,za,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){Ye.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case Ce.INK_THICKNESS:xt._defaultThickness=r;break;case Ce.INK_COLOR:xt._defaultColor=r;break;case Ce.INK_OPACITY:xt._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case Ce.INK_THICKNESS:A(this,oe,f$).call(this,r);break;case Ce.INK_COLOR:A(this,oe,p$).call(this,r);break;case Ce.INK_OPACITY:A(this,oe,g$).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Ce.INK_THICKNESS,xt._defaultThickness],[Ce.INK_COLOR,xt._defaultColor||Ye._defaultLineColor],[Ce.INK_OPACITY,Math.round(xt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ce.INK_THICKNESS,this.thickness||xt._defaultThickness],[Ce.INK_COLOR,this.color||xt._defaultColor||Ye._defaultLineColor],[Ce.INK_OPACITY,Math.round(100*(this.opacity??xt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,oe,Ry).call(this),A(this,oe,My).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,oe,sd).call(this)),A(this,oe,Sp).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,f(this,bs)&&(clearTimeout(f(this,bs)),C(this,bs,null)),(t=f(this,So))==null||t.disconnect(),C(this,So,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){f(this,li)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",f(this,tu),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",f(this,tu)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){f(this,li)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),C(this,li,!0),this.div.classList.add("disabled"),A(this,oe,Sp).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||f(this,li)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,oe,v$).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),A(this,oe,DC).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),A(this,oe,LC).call(this,t)}canvasPointerleave(t){A(this,oe,LC).call(this,t)}get isResizable(){return!this.isEmpty()&&f(this,li)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=A(this,oe,m$).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),A(this,oe,Ry).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,r*c,this.width*l,this.height*c),C(this,ru,!0),A(this,oe,sd).call(this),this.setDims(this.width*l,this.height*c),A(this,oe,Zl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,oe,My).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(f(this,iu)===i&&f(this,su)===s)return;C(this,iu,i),C(this,su,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=r/a,this.fixAndSetPosition(),f(this,li)&&A(this,oe,IC).call(this,t,r),A(this,oe,sd).call(this),A(this,oe,Zl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,i){var _,y,b;if(t instanceof H5)return null;const s=super.deserialize(t,r,i);s.thickness=t.thickness,s.color=ge.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,c=s.height*a,u=s.parentScale,d=t.thickness/2;C(s,li,!0),C(s,iu,Math.round(l)),C(s,su,Math.round(c));const{paths:h,rect:p,rotation:g}=t;for(let{bezier:x}of h){x=A(_=xt,Jo,E$).call(_,x,p,g);const S=[];s.paths.push(S);let E=u*(x[0]-d),k=u*(x[1]-d);for(let T=2,M=x.length;T<M;T+=6){const L=u*(x[T]-d),N=u*(x[T+1]-d),z=u*(x[T+2]-d),W=u*(x[T+3]-d),O=u*(x[T+4]-d),U=u*(x[T+5]-d);S.push([[E,k],[L,N],[z,W],[O,U]]),E=O,k=U}const R=A(this,Jo,S$).call(this,S);s.bezierPath2D.push(R)}const m=A(y=s,oe,NC).call(y);return C(s,eu,Math.max(Ye.MIN_SIZE,m[2]-m[0])),C(s,Jc,Math.max(Ye.MIN_SIZE,m[3]-m[1])),A(b=s,oe,IC).call(b,l,c),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=Ye._colorManager.convert(this.ctx.strokeStyle);return{annotationType:$e.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:A(this,oe,C$).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Jc=new WeakMap,eu=new WeakMap,cv=new WeakMap,uv=new WeakMap,dv=new WeakMap,tu=new WeakMap,bs=new WeakMap,xo=new WeakMap,li=new WeakMap,nu=new WeakMap,ru=new WeakMap,So=new WeakMap,iu=new WeakMap,su=new WeakMap,za=new WeakMap,oe=new WeakSet,f$=function(t){const r=s=>{this.thickness=s,A(this,oe,Sp).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},p$=function(t){const r=s=>{this.color=s,A(this,oe,Zl).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},g$=function(t){const r=s=>{this.opacity=s,A(this,oe,Zl).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},m$=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},MC=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${Bte(i)}`},v$=function(t,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Er,{signal:i}),this.canvas.addEventListener("pointerleave",f(this,uv),{signal:i}),this.canvas.addEventListener("pointermove",f(this,cv),{signal:i}),this.canvas.addEventListener("pointerup",f(this,dv),{signal:i}),this.canvas.removeEventListener("pointerdown",f(this,tu)),this.isEditing=!0,f(this,ru)||(C(this,ru,!0),A(this,oe,sd).call(this),this.thickness||(this.thickness=xt._defaultThickness),this.color||(this.color=xt._defaultColor||Ye._defaultLineColor),this.opacity??(this.opacity=xt._defaultOpacity)),this.currentPath.push([t,r]),C(this,nu,!1),A(this,oe,MC).call(this),C(this,za,()=>{A(this,oe,_$).call(this),f(this,za)&&window.requestAnimationFrame(f(this,za))}),window.requestAnimationFrame(f(this,za))},DC=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let a=f(this,xo);if(o.push([t,r]),C(this,nu,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,r);return}o.length===3&&(C(this,xo,a=new Path2D),a.moveTo(...o[0])),A(this,oe,b$).call(this,a,...o.at(-3),...o.at(-2),t,r)},y$=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);f(this,xo).lineTo(...t)},w$=function(t,r){C(this,za,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),A(this,oe,DC).call(this,t,r),A(this,oe,y$).call(this);let i;if(this.currentPath.length!==1)i=A(this,oe,x$).call(this);else{const c=[t,r];i=[[c,c.slice(),c.slice(),c]]}const s=f(this,xo),o=this.currentPath;this.currentPath=[],C(this,xo,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,oe,Ry).call(this),A(this,oe,My).call(this)),A(this,oe,Sp).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},_$=function(){if(!f(this,nu))return;C(this,nu,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(f(this,xo)),o.restore()},b$=function(t,r,i,s,o,a,l){const c=(r+s)/2,u=(i+o)/2,d=(s+a)/2,h=(o+l)/2;t.bezierCurveTo(c+2*(s-c)/3,u+2*(o-u)/3,d+2*(s-d)/3,h+2*(o-h)/3,d,h)},x$=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[p,g]=t[i],[m,_]=t[i+1],y=(p+m)/2,b=(g+_)/2,x=[s+2*(p-s)/3,o+2*(g-o)/3],S=[y+2*(p-y)/3,b+2*(g-b)/3];r.push([[s,o],x,S,[y,b]]),[s,o]=[y,b]}const[a,l]=t[i],[c,u]=t[i+1],d=[s+2*(a-s)/3,o+2*(l-o)/3],h=[c+2*(a-c)/3,u+2*(l-u)/3];return r.push([[s,o],d,h,[c,u]]),r},Zl=function(){if(this.isEmpty()){A(this,oe,Dy).call(this);return}A(this,oe,MC).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),A(this,oe,Dy).call(this);for(const i of this.bezierPath2D)r.stroke(i)},LC=function(t){this.canvas.removeEventListener("pointerleave",f(this,uv)),this.canvas.removeEventListener("pointermove",f(this,cv)),this.canvas.removeEventListener("pointerup",f(this,dv)),this.canvas.addEventListener("pointerdown",f(this,tu),{signal:this._uiManager._signal}),f(this,bs)&&clearTimeout(f(this,bs)),C(this,bs,setTimeout(()=>{C(this,bs,null),this.canvas.removeEventListener("contextmenu",Er)},10)),A(this,oe,w$).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ry=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},My=function(){C(this,So,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),f(this,So).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=f(this,So))==null||t.disconnect(),C(this,So,null)},{once:!0})},sd=function(){if(!f(this,ru))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),A(this,oe,Dy).call(this)},IC=function(t,r){const i=A(this,oe,Ly).call(this),s=(t-i)/f(this,eu),o=(r-i)/f(this,Jc);this.scaleFactor=Math.min(s,o)},Dy=function(){const t=A(this,oe,Ly).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Jo=new WeakSet,S$=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,a,l,c]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return r},OC=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]+=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const d=t[c];t[c]=t[c+1]+s,t[c+1]=d+o}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const d=t[c];t[c]=a-t[c+1],t[c+1]=l-d}break;default:throw new Error("Invalid rotation")}return t},E$=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]-=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const d=t[c];t[c]=t[c+1]-o,t[c+1]=d-s}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const d=t[c];t[c]=l-t[c+1],t[c+1]=a-d}break;default:throw new Error("Invalid rotation")}return t},C$=function(t,r,i,s){var u,d;const o=[],a=this.thickness/2,l=t*r+a,c=t*i+a;for(const h of this.paths){const p=[],g=[];for(let m=0,_=h.length;m<_;m++){const[y,b,x,S]=h[m];if(y[0]===S[0]&&y[1]===S[1]&&_===1){const W=t*y[0]+l,O=t*y[1]+c;p.push(W,O),g.push(W,O);break}const E=t*y[0]+l,k=t*y[1]+c,R=t*b[0]+l,T=t*b[1]+c,M=t*x[0]+l,L=t*x[1]+c,N=t*S[0]+l,z=t*S[1]+c;m===0&&(p.push(E,k),g.push(E,k)),p.push(R,T,M,L,N,z),g.push(R,T),m===_-1&&g.push(N,z)}o.push({bezier:A(u=xt,Jo,OC).call(u,p,s,this.rotation),points:A(d=xt,Jo,OC).call(d,g,s,this.rotation)})}return o},NC=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,c,u]of o){const d=ge.bezierBoundingBox(...a,...l,...c,...u);t=Math.min(t,d[0]),i=Math.min(i,d[1]),r=Math.max(r,d[2]),s=Math.max(s,d[3])}return[t,i,r,s]},Ly=function(){return f(this,li)?Math.ceil(this.thickness*this.parentScale):0},Sp=function(t=!1){if(this.isEmpty())return;if(!f(this,li)){A(this,oe,Zl).call(this);return}const r=A(this,oe,NC).call(this),i=A(this,oe,Ly).call(this);C(this,eu,Math.max(Ye.MIN_SIZE,r[2]-r[0])),C(this,Jc,Math.max(Ye.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+f(this,eu)*this.scaleFactor),o=Math.ceil(i+f(this,Jc)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const c=this.translationX,u=this.translationY;this.translationX=-r[0],this.translationY=-r[1],A(this,oe,sd).call(this),A(this,oe,Zl).call(this),C(this,iu,s),C(this,su,o),this.setDims(s,o);const d=t?i/this.scaleFactor/2:0;this.translate(c-this.translationX-d,u-this.translationY-d)},P(xt,Jo),G(xt,"_defaultColor",null),G(xt,"_defaultOpacity",1),G(xt,"_defaultThickness",1),G(xt,"_type","ink"),G(xt,"_editorType",$e.INK);let RC=xt;var wn,_n,Ua,Eo,Va,zh,xs,Co,Ss,Gi,hv,Ve,Ep,Cp,Iy,jC,A$,P$,$C,Oy,T$;const Qp=class Qp extends Ye{constructor(t){super({...t,name:"stampEditor"});P(this,Ve);P(this,wn,null);P(this,_n,null);P(this,Ua,null);P(this,Eo,null);P(this,Va,null);P(this,zh,"");P(this,xs,null);P(this,Co,null);P(this,Ss,null);P(this,Gi,!1);P(this,hv,!1);C(this,Eo,t.bitmapUrl),C(this,Va,t.bitmapFile)}static initialize(t,r){Ye.initialize(t,r)}static get supportedTypes(){return Be(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Be(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor($e.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;f(this,_n)&&(C(this,wn,null),this._uiManager.imageManager.deleteId(f(this,_n)),(t=f(this,xs))==null||t.remove(),C(this,xs,null),(r=f(this,Co))==null||r.disconnect(),C(this,Co,null),f(this,Ss)&&(clearTimeout(f(this,Ss)),C(this,Ss,null))),super.remove()}rebuild(){if(!this.parent){f(this,_n)&&A(this,Ve,Iy).call(this);return}super.rebuild(),this.div!==null&&(f(this,_n)&&f(this,xs)===null&&A(this,Ve,Iy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(f(this,Ua)||f(this,wn)||f(this,Eo)||f(this,Va)||f(this,_n))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),f(this,wn)?A(this,Ve,jC).call(this):A(this,Ve,Iy).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return f(this,xs)}static deserialize(t,r,i){if(t instanceof W5)return null;const s=super.deserialize(t,r,i),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:c,accessibilityData:u}=t;l&&i.imageManager.isValidId(l)?C(s,_n,l):C(s,Eo,a),C(s,Gi,c);const[d,h]=s.pageDimensions;return s.width=(o[2]-o[0])/d,s.height=(o[3]-o[1])/h,u&&(s.altTextData=u),s}serialize(t=!1,r=null){if(this.isEmpty())return null;const i={annotationType:$e.STAMP,bitmapId:f(this,_n),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:f(this,Gi),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=A(this,Ve,Oy).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),r===null)return i;r.stamps||(r.stamps=new Map);const a=f(this,Gi)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(f(this,_n)))r.stamps.set(f(this,_n),{area:a,serialized:i}),i.bitmap=A(this,Ve,Oy).call(this,!1);else if(f(this,Gi)){const l=r.stamps.get(f(this,_n));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,Ve,Oy).call(this,!1))}return i}};wn=new WeakMap,_n=new WeakMap,Ua=new WeakMap,Eo=new WeakMap,Va=new WeakMap,zh=new WeakMap,xs=new WeakMap,Co=new WeakMap,Ss=new WeakMap,Gi=new WeakMap,hv=new WeakMap,Ve=new WeakSet,Ep=function(t,r=!1){if(!t){this.remove();return}C(this,wn,t.bitmap),r||(C(this,_n,t.id),C(this,Gi,t.isSvg)),t.file&&C(this,zh,t.file.name),A(this,Ve,jC).call(this)},Cp=function(){C(this,Ua,null),this._uiManager.enableWaiting(!1),f(this,xs)&&this.div.focus()},Iy=function(){if(f(this,_n)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,_n)).then(i=>A(this,Ve,Ep).call(this,i,!0)).finally(()=>A(this,Ve,Cp).call(this));return}if(f(this,Eo)){const i=f(this,Eo);C(this,Eo,null),this._uiManager.enableWaiting(!0),C(this,Ua,this._uiManager.imageManager.getFromUrl(i).then(s=>A(this,Ve,Ep).call(this,s)).finally(()=>A(this,Ve,Cp).call(this)));return}if(f(this,Va)){const i=f(this,Va);C(this,Va,null),this._uiManager.enableWaiting(!0),C(this,Ua,this._uiManager.imageManager.getFromFile(i).then(s=>A(this,Ve,Ep).call(this,s)).finally(()=>A(this,Ve,Cp).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Qp.supportedTypesStr;const r=this._uiManager._signal;C(this,Ua,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);A(this,Ve,Ep).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>A(this,Ve,Cp).call(this))),t.click()},jC=function(){const{div:t}=this;let{width:r,height:i}=f(this,wn);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const d=Math.min(a*s/r,a*o/i);r*=d,i*=d}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const u=C(this,xs,document.createElement("canvas"));t.append(u),t.hidden=!1,A(this,Ve,$C).call(this,r,i),A(this,Ve,T$).call(this),f(this,hv)||(this.parent.addUndoableEditor(this),C(this,hv,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,zh)&&u.setAttribute("aria-label",f(this,zh))},A$=function(t,r){var a;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,this.setDims(t,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,f(this,Ss)!==null&&clearTimeout(f(this,Ss)),C(this,Ss,setTimeout(()=>{C(this,Ss,null),A(this,Ve,$C).call(this,t,r)},200))},P$=function(t,r){const{width:i,height:s}=f(this,wn);let o=i,a=s,l=f(this,wn);for(;o>2*t||a>2*r;){const c=o,u=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=d.transferToImageBitmap()}return l},$C=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const i=f(this,xs);if(!i||i.width===t&&i.height===r)return;i.width=t,i.height=r;const s=f(this,Gi)?f(this,wn):A(this,Ve,P$).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,r).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(c=>{const u=(c==null?void 0:c.output)||"";this.parent&&u&&!this.hasAltText()&&(this.altTextData={altText:u,decorative:!1})})}const o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,r)},Oy=function(t){if(t){if(f(this,Gi)){const s=this._uiManager.imageManager.getSvgUrl(f(this,_n));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=f(this,wn),r.getContext("2d").drawImage(f(this,wn),0,0),r.toDataURL()}if(f(this,Gi)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*vl.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*vl.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(f(this,wn),0,0,f(this,wn).width,f(this,wn).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(f(this,wn))},T$=function(){this._uiManager._signal&&(C(this,Co,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&A(this,Ve,A$).call(this,r.width,r.height)})),f(this,Co).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=f(this,Co))==null||t.disconnect(),C(this,Co,null)},{once:!0}))},G(Qp,"_type","stamp"),G(Qp,"_editorType",$e.STAMP);let FC=Qp;var ou,Uh,Es,au,Ao,Po,To,$r,Ha,Vh,Hh,Xn,_e,Wa,An,k$,zC,UC,VC,Ny;const Ri=class Ri{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:c}){P(this,An);P(this,ou);P(this,Uh,!1);P(this,Es,null);P(this,au,null);P(this,Ao,null);P(this,Po,null);P(this,To,null);P(this,$r,new Map);P(this,Ha,!1);P(this,Vh,!1);P(this,Hh,!1);P(this,Xn,null);P(this,_e);const u=[...f(Ri,Wa).values()];if(!Ri._initialized){Ri._initialized=!0;for(const d of u)d.initialize(c,e)}e.registerEditorTypes(u),C(this,_e,e),this.pageIndex=t,this.div=r,C(this,ou,i),C(this,Es,s),this.viewport=l,C(this,Xn,a),this.drawLayer=o,f(this,_e).addLayer(this)}get isEmpty(){return f(this,$r).size===0}get isInvisible(){return this.isEmpty&&f(this,_e).getMode()===$e.NONE}updateToolbar(e){f(this,_e).updateToolbar(e)}updateMode(e=f(this,_e).getMode()){switch(A(this,An,Ny).call(this),e){case $e.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case $e.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case $e.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of f(Ri,Wa).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,Xn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(f(this,_e).getMode()!==$e.INK)return;if(!e){for(const r of f(this,$r).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){f(this,_e).setEditingState(e)}addCommands(e){f(this,_e).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,Es))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of f(this,$r).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(f(this,_e).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!f(this,Es))return;const t=f(this,Es).getEditableAnnotations();for(const r of t){if(r.hide(),f(this,_e).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;C(this,Hh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of f(this,$r).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(f(this,Es)){const s=f(this,Es).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(f(this,_e).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(f(this,_e).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}A(this,An,Ny).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of f(Ri,Wa).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),C(this,Hh,!1)}getEditableAnnotation(e){var t;return((t=f(this,Es))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,_e).getActive()!==e&&f(this,_e).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=f(this,Xn))!=null&&e.div&&!f(this,Po)&&(C(this,Po,A(this,An,k$).bind(this)),f(this,Xn).div.addEventListener("pointerdown",f(this,Po),{signal:f(this,_e)._signal}),f(this,Xn).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,Xn))!=null&&e.div&&f(this,Po)&&(f(this,Xn).div.removeEventListener("pointerdown",f(this,Po)),C(this,Po,null),f(this,Xn).div.classList.remove("highlighting"))}enableClick(){if(f(this,Ao))return;const e=f(this,_e)._signal;C(this,Ao,this.pointerdown.bind(this)),C(this,au,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",f(this,Ao),{signal:e}),this.div.addEventListener("pointerup",f(this,au),{signal:e})}disableClick(){f(this,Ao)&&(this.div.removeEventListener("pointerdown",f(this,Ao)),this.div.removeEventListener("pointerup",f(this,au)),C(this,Ao,null),C(this,au,null))}attach(e){f(this,$r).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,_e).isDeletedAnnotationElement(t)&&f(this,_e).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,$r).delete(e.id),(t=f(this,ou))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,Hh)&&e.annotationElementId&&f(this,_e).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,_e).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,f(this,Vh)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,_e).addDeletedAnnotationElement(e.annotationElementId),Ye.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,_e).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),f(this,_e).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,To)&&(e._focusEventsAllowed=!1,C(this,To,setTimeout(()=>{C(this,To,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,_e)._signal}),t.focus())},0))),e._structTreeParentId=(r=f(this,ou))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return f(this,_e).getId()}get _signal(){return f(this,_e)._signal}canCreateNewEmptyEditor(){var e;return(e=f(this,An,zC))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){f(this,_e).updateToolbar(e),f(this,_e).updateMode(e);const{offsetX:r,offsetY:i}=A(this,An,VC).call(this),s=this.getNextId(),o=A(this,An,UC).call(this,{parent:this,id:s,x:r,y:i,uiManager:f(this,_e),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=f(Ri,Wa).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,_e)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=A(this,An,UC).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:f(this,_e),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(A(this,An,VC).call(this),!0)}setSelected(e){f(this,_e).setSelected(e)}toggleSelected(e){f(this,_e).toggleSelected(e)}isSelected(e){return f(this,_e).isSelected(e)}unselect(e){f(this,_e).unselect(e)}pointerup(e){const{isMac:t}=wr.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&f(this,Ha)){if(C(this,Ha,!1),!f(this,Uh)){C(this,Uh,!0);return}if(f(this,_e).getMode()===$e.STAMP){f(this,_e).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(f(this,_e).getMode()===$e.HIGHLIGHT&&this.enableTextSelection(),f(this,Ha)){C(this,Ha,!1);return}const{isMac:t}=wr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;C(this,Ha,!0);const r=f(this,_e).getActive();C(this,Uh,!r||r.isEmpty())}findNewParent(e,t,r){const i=f(this,_e).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=f(this,_e).getActive())==null?void 0:e.parent)===this&&(f(this,_e).commitOrRemove(),f(this,_e).setActiveEditor(null)),f(this,To)&&(clearTimeout(f(this,To)),C(this,To,null));for(const r of f(this,$r).values())(t=f(this,ou))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,f(this,$r).clear(),f(this,_e).removeLayer(this)}render({viewport:e}){this.viewport=e,xu(this.div,e);for(const t of f(this,_e).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,_e).commitOrRemove(),A(this,An,Ny).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,xu(this.div,{rotation:r}),t!==r)for(const i of f(this,$r).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,_e).viewParameters.realScale}};ou=new WeakMap,Uh=new WeakMap,Es=new WeakMap,au=new WeakMap,Ao=new WeakMap,Po=new WeakMap,To=new WeakMap,$r=new WeakMap,Ha=new WeakMap,Vh=new WeakMap,Hh=new WeakMap,Xn=new WeakMap,_e=new WeakMap,Wa=new WeakMap,An=new WeakSet,k$=function(e){if(f(this,_e).unselectAll(),e.target===f(this,Xn).div){const{isMac:t}=wr.platform;if(e.button!==0||e.ctrlKey&&t)return;f(this,_e).showAllEditors("highlight",!0,!0),f(this,Xn).div.classList.add("free"),Xw.startHighlighting(this,f(this,_e).direction==="ltr",e),f(this,Xn).div.addEventListener("pointerup",()=>{f(this,Xn).div.classList.remove("free")},{once:!0,signal:f(this,_e)._signal}),e.preventDefault()}},zC=function(){return f(Ri,Wa).get(f(this,_e).getMode())},UC=function(e){const t=f(this,An,zC);return t?new t.prototype.constructor(e):null},VC=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+a)/2-e,u=(o+l)/2-t,[d,h]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:h}},Ny=function(){C(this,Vh,!0);for(const e of f(this,$r).values())e.isEmpty()&&e.remove();C(this,Vh,!1)},G(Ri,"_initialized",!1),P(Ri,Wa,new Map([wC,RC,FC,Xw].map(e=>[e._editorType,e])));let BC=Ri;var Cs,fv,Xt,Ga,pv,WC,ku,GC,R$;const pn=class pn{constructor({pageIndex:e}){P(this,ku);P(this,Cs,null);P(this,fv,0);P(this,Xt,new Map);P(this,Ga,new Map);this.pageIndex=e}setParent(e){if(!f(this,Cs)){C(this,Cs,e);return}if(f(this,Cs)!==e){if(f(this,Xt).size>0)for(const t of f(this,Xt).values())t.remove(),e.append(t);C(this,Cs,e)}}static get _svgFactory(){return Be(this,"_svgFactory",new M2)}highlight(e,t,r,i=!1){const s=Ar(this,fv)._++,o=A(this,ku,GC).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=pn._svgFactory.createElement("defs");o.append(a);const l=pn._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&f(this,Ga).set(s,l);const u=A(this,ku,R$).call(this,a,c),d=pn._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),d.setAttribute("href",`#${c}`),f(this,Xt).set(s,o),{id:s,clipPathId:`url(#${u})`}}highlightOutline(e){const t=Ar(this,fv)._++,r=A(this,ku,GC).call(this,e.box);r.classList.add("highlightOutline");const i=pn._svgFactory.createElement("defs");r.append(i);const s=pn._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const u=pn._svgFactory.createElement("mask");i.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const d=pn._svgFactory.createElement("rect");u.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const h=pn._svgFactory.createElement("use");u.append(h),h.setAttribute("href",`#${o}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const l=pn._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return r.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),f(this,Xt).set(t,r),t}finalizeLine(e,t){const r=f(this,Ga).get(e);f(this,Ga).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){f(this,Xt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),f(this,Ga).delete(e)}updatePath(e,t){f(this,Ga).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;A(r=pn,pv,WC).call(r,f(this,Xt).get(e),t)}show(e,t){f(this,Xt).get(e).classList.toggle("hidden",!t)}rotate(e,t){f(this,Xt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){f(this,Xt).get(e).setAttribute("fill",t)}changeOpacity(e,t){f(this,Xt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){f(this,Xt).get(e).classList.add(t)}removeClass(e,t){f(this,Xt).get(e).classList.remove(t)}remove(e){f(this,Cs)!==null&&(f(this,Xt).get(e).remove(),f(this,Xt).delete(e))}destroy(){C(this,Cs,null);for(const e of f(this,Xt).values())e.remove();f(this,Xt).clear()}};Cs=new WeakMap,fv=new WeakMap,Xt=new WeakMap,Ga=new WeakMap,pv=new WeakSet,WC=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},ku=new WeakSet,GC=function(e){var r;const t=pn._svgFactory.create(1,1,!0);return f(this,Cs).append(t),t.setAttribute("aria-hidden",!0),A(r=pn,pv,WC).call(r,t,e),t},R$=function(e,t){const r=pn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=pn._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},P(pn,pv);let HC=pn;var vre=Ee.AbortException,yre=Ee.AnnotationEditorLayer,wre=Ee.AnnotationEditorParamsType,_re=Ee.AnnotationEditorType,bre=Ee.AnnotationEditorUIManager,M$=Ee.AnnotationLayer,D$=Ee.AnnotationMode,xre=Ee.CMapCompressionType,Sre=Ee.ColorPicker,Ere=Ee.DOMSVGFactory,Cre=Ee.DrawLayer,Are=Ee.FeatureTest,$2=Ee.GlobalWorkerOptions,Pre=Ee.ImageKind,Tre=Ee.InvalidPDFException,kre=Ee.MissingPDFException,Rre=Ee.OPS,Mre=Ee.Outliner,Dre=Ee.PDFDataRangeTransport,Lre=Ee.PDFDateString,Ire=Ee.PDFWorker,Ore=Ee.PasswordResponses,Nre=Ee.PermissionFlag,Fre=Ee.PixelsPerInch,jre=Ee.RenderingCancelledException,L$=Ee.TextLayer,$re=Ee.UnexpectedResponseException,Bre=Ee.Util,zre=Ee.VerbosityLevel,Ure=Ee.XfaLayer,Vre=Ee.build,Hre=Ee.createValidAbsoluteUrl,Wre=Ee.fetchData,I$=Ee.getDocument,Gre=Ee.getFilenameFromUrl,qre=Ee.getPdfFilenameFromUrl,Kre=Ee.getXfaPageViewport,Yre=Ee.isDataScheme,Xre=Ee.isPdfFile,Qre=Ee.noContextMenu,Zre=Ee.normalizeUnicode,Jre=Ee.renderTextLayer,eie=Ee.setLayerDimensions,tie=Ee.shadow,nie=Ee.updateTextLayer,rie=Ee.version;const iie=Object.freeze(Object.defineProperty({__proto__:null,AbortException:vre,AnnotationEditorLayer:yre,AnnotationEditorParamsType:wre,AnnotationEditorType:_re,AnnotationEditorUIManager:bre,AnnotationLayer:M$,AnnotationMode:D$,CMapCompressionType:xre,ColorPicker:Sre,DOMSVGFactory:Ere,DrawLayer:Cre,FeatureTest:Are,GlobalWorkerOptions:$2,ImageKind:Pre,InvalidPDFException:Tre,MissingPDFException:kre,OPS:Rre,Outliner:Mre,PDFDataRangeTransport:Dre,PDFDateString:Lre,PDFWorker:Ire,PasswordResponses:Ore,PermissionFlag:Nre,PixelsPerInch:Fre,RenderingCancelledException:jre,TextLayer:L$,UnexpectedResponseException:$re,Util:Bre,VerbosityLevel:zre,XfaLayer:Ure,build:Vre,createValidAbsoluteUrl:Hre,fetchData:Wre,getDocument:I$,getFilenameFromUrl:Gre,getPdfFilenameFromUrl:qre,getXfaPageViewport:Kre,isDataScheme:Yre,isPdfFile:Xre,noContextMenu:Qre,normalizeUnicode:Zre,renderTextLayer:Jre,setLayerDimensions:eie,shadow:tie,updateTextLayer:nie,version:rie},Symbol.toStringTag,{value:"Module"}));var sn=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},sie=["onCopy","onCut","onPaste"],oie=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],aie=["onFocus","onBlur"],lie=["onInput","onInvalid","onReset","onSubmit"],cie=["onLoad","onError"],uie=["onKeyDown","onKeyPress","onKeyUp"],die=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],hie=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],fie=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],pie=["onSelect"],gie=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],mie=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],vie=["onScroll"],yie=["onWheel"],wie=["onAnimationStart","onAnimationEnd","onAnimationIteration"],_ie=["onTransitionEnd"],bie=["onToggle"],xie=["onChange"],Sie=sn(sn(sn(sn(sn(sn(sn(sn(sn(sn(sn(sn(sn(sn(sn(sn(sn(sn([],sie,!0),oie,!0),aie,!0),lie,!0),cie,!0),uie,!0),die,!0),hie,!0),fie,!0),pie,!0),gie,!0),mie,!0),vie,!0),yie,!0),wie,!0),_ie,!0),xie,!0),bie,!0);function O$(n,e){var t={};return Sie.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function Ov(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}var Eie="Invariant failed";function lt(n,e){if(!n)throw new Error(Eie)}var Cie=function(){},Aie=Cie;const $n=k_(Aie);var dL=Object.prototype.hasOwnProperty;function hL(n,e,t){for(t of n.keys())if(Gd(t,e))return t}function Gd(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Gd(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=hL(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=hL(e,i),!i)||!Gd(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(dL.call(n,t)&&++r&&!dL.call(e,t)||!(t in e)||!Gd(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const N$=w.createContext(null);function qd({children:n,type:e}){return v.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const Pie="noopener noreferrer nofollow";class Tie{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return lt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){lt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{lt(this.pdfDocument),lt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{lt(Array.isArray(t));const r=t[0];new Promise(i=>{lt(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{lt(!1)}):typeof r=="number"?i(r):lt(!1)}).then(i=>{const s=i+1;lt(this.pdfViewer),lt(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;lt(this.pdfViewer),lt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||Pie,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const fL={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},D1=typeof window<"u",F$=D1&&window.location.protocol==="file:";function kie(n){return typeof n<"u"}function Vl(n){return kie(n)&&n!==null}function Rie(n){return typeof n=="string"}function Mie(n){return n instanceof ArrayBuffer}function Die(n){return lt(D1),n instanceof Blob}function qC(n){return Rie(n)&&/^data:/.test(n)}function pL(n){lt(qC(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function Lie(){return D1&&window.devicePixelRatio||1}const j$="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function gL(){$n(!F$,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${j$}`)}function Iie(){$n(!F$,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${j$}`)}function Cu(n){n!=null&&n.cancel&&n.cancel()}function KC(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function Oie(n){return n.name==="RenderingCancelledException"}function Nie(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function Fie(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function lf(){return w.useReducer(Fie,{value:void 0,error:void 0})}var jie=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},mL=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:$ie}=iie,Bie=(n,e)=>{switch(e){case fL.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case fL.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function vL(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const $$=w.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:u,loading:d="Loading PDF",noData:h="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:m,onLoadSuccess:_,onPassword:y=Bie,onSourceError:b,onSourceSuccess:x,options:S,renderMode:E,rotate:k}=e,R=mL(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[T,M]=lf(),{value:L,error:N}=T,[z,W]=lf(),{value:O,error:U}=z,B=w.useRef(new Tie),j=w.useRef([]),D=w.useRef(void 0),F=w.useRef(void 0);l&&l!==D.current&&vL(l)&&($n(!Gd(l,D.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),D.current=l),S&&S!==F.current&&($n(!Gd(S,F.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),F.current=S);const q=w.useRef({scrollPageIntoView:H=>{const{dest:V,pageNumber:re,pageIndex:ve=re-1}=H;if(p){p({dest:V,pageIndex:ve,pageNumber:re});return}const Pe=j.current[ve];if(Pe){Pe.scrollIntoView();return}$n(!1,`An internal link leading to page ${re} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});w.useImperativeHandle(t,()=>({linkService:B,pages:j,viewer:q}),[]);function ee(){x&&x()}function J(){N&&($n(!1,N.toString()),b&&b(N))}function le(){M({type:"RESET"})}w.useEffect(le,[l,M]);const ae=w.useCallback(()=>jie(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return qC(l)?{data:pL(l)}:(gL(),{url:l});if(l instanceof $ie)return{range:l};if(Mie(l))return{data:l};if(D1&&Die(l))return{data:yield Nie(l)};if(lt(typeof l=="object"),lt(vL(l)),"url"in l&&typeof l.url=="string"){if(qC(l.url)){const{url:H}=l,V=mL(l,["url"]),re=pL(H);return Object.assign({data:re},V)}gL()}return l}),[l]);w.useEffect(()=>{const H=Ov(ae());return H.promise.then(V=>{M({type:"RESOLVE",value:V})}).catch(V=>{M({type:"REJECT",error:V})}),()=>{Cu(H)}},[ae,M]),w.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){J();return}ee()}},[L]);function xe(){O&&(_&&_(O),j.current=new Array(O.numPages),B.current.setDocument(O))}function ne(){U&&($n(!1,U.toString()),g&&g(U))}w.useEffect(function(){W({type:"RESET"})},[W,L]),w.useEffect(function(){if(!L)return;const V=S?Object.assign(Object.assign({},L),S):L,re=I$(V);m&&(re.onProgress=m),y&&(re.onPassword=y);const ve=re,Pe=ve.promise.then(Ue=>{W({type:"RESOLVE",value:Ue})}).catch(Ue=>{ve.destroyed||W({type:"REJECT",error:Ue})});return()=>{Pe.finally(()=>ve.destroy())}},[S,W,L]),w.useEffect(()=>{if(!(typeof O>"u")){if(O===!1){ne();return}xe()}},[O]),w.useEffect(function(){B.current.setViewer(q.current),B.current.setExternalLinkRel(o),B.current.setExternalLinkTarget(a)},[o,a]);const Q=w.useCallback((H,V)=>{j.current[H]=V},[]),me=w.useCallback(H=>{delete j.current[H]},[]),Y=w.useMemo(()=>({imageResourcesPath:u,linkService:B.current,onItemClick:p,pdf:O,registerPage:Q,renderMode:E,rotate:k,unregisterPage:me}),[u,p,O,Q,E,k,me]),K=w.useMemo(()=>O$(R,()=>O),[R,O]);function he(){return v.jsx(N$.Provider,{value:Y,children:r})}function te(){return l?O==null?v.jsx(qd,{type:"loading",children:typeof d=="function"?d():d}):O===!1?v.jsx(qd,{type:"error",children:typeof s=="function"?s():s}):he():v.jsx(qd,{type:"no-data",children:typeof h=="function"?h():h})}return v.jsx("div",Object.assign({className:bv("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},K,{children:te()}))});function B$(){return w.useContext(N$)}function z$(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const U$=w.createContext(null),V$={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},zie=/^H(\d+)$/;function Uie(n){return n in V$}function L1(n){return"children"in n}function H$(n){return L1(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function Vie(n){const e={};if(L1(n)){const{role:t}=n,r=t.match(zie);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(Uie(t)){const i=V$[t];i&&(e.role=i)}}return e}function W$(n){const e={};if(L1(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),H$(n)){const[t]=n.children;if(t){const r=W$(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function Hie(n){return n?Object.assign(Object.assign({},Vie(n)),W$(n)):null}function G$({className:n,node:e}){const t=w.useMemo(()=>Hie(e),[e]),r=w.useMemo(()=>!L1(e)||H$(e)?null:e.children.map((i,s)=>v.jsx(G$,{node:i},s)),[e]);return v.jsx("span",Object.assign({className:n},t,{children:r}))}function I1(){return w.useContext(U$)}function Wie(){const n=I1();lt(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=lf(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function c(){s&&t&&t(s)}function u(){o&&($n(!1,o.toString()),e&&e(o))}return w.useEffect(function(){i({type:"RESET"})},[i,l]),w.useEffect(function(){if(a||!l)return;const h=Ov(l.getStructTree()),p=h;return h.promise.then(g=>{i({type:"RESOLVE",value:g})}).catch(g=>{i({type:"REJECT",error:g})}),()=>Cu(p)},[a,l,i]),w.useEffect(()=>{if(s!==void 0){if(s===!1){u();return}c()}},[s]),s?v.jsx(G$,{className:"react-pdf__Page__structTree structTree",node:s}):null}const yL=D$;function Gie(n){const e=I1();lt(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=Lie(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:u,rotate:d,scale:h}=t,{canvasRef:p}=n;lt(l);const g=w.useRef(null);function m(){l&&a&&a(KC(l,h))}function _(S){Oie(S)||($n(!1,S.toString()),o&&o(S))}const y=w.useMemo(()=>l.getViewport({scale:h*s,rotation:d}),[s,l,d,h]),b=w.useMemo(()=>l.getViewport({scale:h,rotation:d}),[l,d,h]);w.useEffect(function(){if(!l)return;l.cleanup();const{current:E}=g;if(!E)return;E.width=y.width,E.height=y.height,E.style.width=`${Math.floor(b.width)}px`,E.style.height=`${Math.floor(b.height)}px`,E.style.visibility="hidden";const k={annotationMode:c?yL.ENABLE_FORMS:yL.ENABLE,canvasContext:E.getContext("2d",{alpha:!1}),viewport:y};i&&(k.background=i);const R=l.render(k),T=R;return R.promise.then(()=>{E.style.visibility="",m()}).catch(_),()=>Cu(T)},[i,l,c,y,b]);const x=w.useCallback(()=>{const{current:S}=g;S&&(S.width=0,S.height=0)},[]);return w.useEffect(()=>x,[x]),v.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:z$(p,g),style:{display:"block",userSelect:"none"},children:u?v.jsx(Wie,{}):null})}function qie(n){return"str"in n}function Kie(){const n=I1();lt(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:u}=n;lt(o);const[d,h]=lf(),{value:p,error:g}=d,m=w.useRef(null),_=w.useRef(void 0);$n(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function y(){p&&r&&r(p)}function b(){g&&($n(!1,g.toString()),t&&t(g))}w.useEffect(function(){h({type:"RESET"})},[o,h]),w.useEffect(function(){if(!o)return;const M=Ov(o.getTextContent()),L=M;return M.promise.then(N=>{h({type:"RESOLVE",value:N})}).catch(N=>{h({type:"REJECT",error:N})}),()=>Cu(L)},[o,h]),w.useEffect(()=>{if(p!==void 0){if(p===!1){b();return}y()}},[p]);const x=w.useCallback(()=>{s&&s()},[s]),S=w.useCallback(T=>{$n(!1,T.toString()),i&&i(T)},[i]);function E(){const T=_.current;T&&T.classList.add("active")}function k(){const T=_.current;T&&T.classList.remove("active")}const R=w.useMemo(()=>o.getViewport({scale:u,rotation:c}),[o,c,u]);return w.useLayoutEffect(function(){if(!o||!p)return;const{current:M}=m;if(!M)return;M.innerHTML="";const L=o.streamTextContent({includeMarkedContent:!0}),N={container:M,textContentSource:L,viewport:R},z=new L$(N),W=z;return z.render().then(()=>{const O=document.createElement("div");O.className="endOfContent",M.append(O),_.current=O;const U=M.querySelectorAll('[role="presentation"]');if(e){let B=0;p.items.forEach((j,D)=>{if(!qie(j))return;const F=U[B];if(!F)return;const q=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:D},j));F.innerHTML=q,B+=j.str&&j.hasEOL?2:1})}x()}).catch(S),()=>Cu(W)},[e,S,x,o,a,l,p,R]),v.jsx("div",{className:bv("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:E,ref:m})}function Yie(){const n=B$(),e=I1();lt(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:d,rotate:h,scale:p=1}=t;lt(u),lt(c),lt(i);const[g,m]=lf(),{value:_,error:y}=g,b=w.useRef(null);$n(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){_&&o&&o(_)}function S(){y&&($n(!1,y.toString()),s&&s(y))}w.useEffect(function(){m({type:"RESET"})},[m,c]),w.useEffect(function(){if(!c)return;const M=Ov(c.getAnnotations()),L=M;return M.promise.then(N=>{m({type:"RESOLVE",value:N})}).catch(N=>{m({type:"REJECT",error:N})}),()=>{Cu(L)}},[m,c]),w.useEffect(()=>{if(_!==void 0){if(_===!1){S();return}x()}},[_]);function E(){l&&l()}function k(T){$n(!1,`${T}`),a&&a(T)}const R=w.useMemo(()=>c.getViewport({scale:p,rotation:h}),[c,h,p]);return w.useEffect(function(){if(!u||!c||!i||!_)return;const{current:M}=b;if(!M)return;const L=R.clone({dontFlip:!0}),N={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:M,l10n:null,page:c,viewport:L},z={annotations:_,annotationStorage:u.annotationStorage,div:M,imageResourcesPath:r,linkService:i,page:c,renderForms:d,viewport:L};M.innerHTML="";try{new M$(N).render(z),E()}catch(W){k(W)}return()=>{}},[_,r,i,c,u,d,R]),v.jsx("div",{className:bv("react-pdf__Page__annotations","annotationLayer"),ref:b})}var Xie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const wL=1;function q$(n){const e=B$(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:d,error:h="Failed to load the page.",height:p,inputRef:g,loading:m="Loading page",noData:_="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:b,onGetStructTreeError:x,onGetStructTreeSuccess:S,onGetTextError:E,onGetTextSuccess:k,onLoadError:R,onLoadSuccess:T,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:L,onRenderError:N,onRenderSuccess:z,onRenderTextLayerError:W,onRenderTextLayerSuccess:O,pageIndex:U,pageNumber:B,pdf:j,registerPage:D,renderAnnotationLayer:F=!0,renderForms:q=!1,renderMode:ee="canvas",renderTextLayer:J=!0,rotate:le,scale:ae=wL,unregisterPage:xe,width:ne}=t,Q=Xie(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[me,Y]=lf(),{value:K,error:he}=me,te=w.useRef(null);lt(j);const H=Vl(B)?B-1:U??null,V=B??(Vl(U)?U+1:null),re=le??(K?K.rotate:null),ve=w.useMemo(()=>{if(!K)return null;let rt=1;const Rt=ae??wL;if(ne||p){const it=K.getViewport({scale:1,rotation:re});ne?rt=ne/it.width:p&&(rt=p/it.height)}return Rt*rt},[p,K,re,ae,ne]);w.useEffect(function(){return()=>{Vl(H)&&i&&xe&&xe(H)}},[i,j,H,xe]);function Pe(){if(T){if(!K||!ve)return;T(KC(K,ve))}if(i&&D){if(!Vl(H)||!te.current)return;D(H,te.current)}}function Ue(){he&&($n(!1,he.toString()),R&&R(he))}w.useEffect(function(){Y({type:"RESET"})},[Y,j,H]),w.useEffect(function(){if(!j||!V)return;const Rt=Ov(j.getPage(V)),it=Rt;return Rt.promise.then(Mt=>{Y({type:"RESOLVE",value:Mt})}).catch(Mt=>{Y({type:"REJECT",error:Mt})}),()=>Cu(it)},[Y,j,V]),w.useEffect(()=>{if(K!==void 0){if(K===!1){Ue();return}Pe()}},[K,ve]);const kt=w.useMemo(()=>K&&Vl(H)&&V&&Vl(re)&&Vl(ve)?{_className:r,canvasBackground:s,customTextRenderer:u,devicePixelRatio:d,onGetAnnotationsError:y,onGetAnnotationsSuccess:b,onGetStructTreeError:x,onGetStructTreeSuccess:S,onGetTextError:E,onGetTextSuccess:k,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:L,onRenderError:N,onRenderSuccess:z,onRenderTextLayerError:W,onRenderTextLayerSuccess:O,page:K,pageIndex:H,pageNumber:V,renderForms:q,renderTextLayer:J,rotate:re,scale:ve}:null,[r,s,u,d,y,b,x,S,E,k,M,L,N,z,W,O,K,H,V,q,J,re,ve]),kn=w.useMemo(()=>O$(Q,()=>K&&(ve?KC(K,ve):void 0)),[Q,K,ve]),wt=`${H}@${ve}/${re}`;function Cr(){switch(ee){case"custom":return lt(c),v.jsx(c,{},`${wt}_custom`);case"none":return null;case"canvas":default:return v.jsx(Gie,{canvasRef:o},`${wt}_canvas`)}}function fn(){return J?v.jsx(Kie,{},`${wt}_text`):null}function ie(){return F?v.jsx(Yie,{},`${wt}_annotations`):null}function we(){return v.jsxs(U$.Provider,{value:kt,children:[Cr(),fn(),ie(),a]})}function nt(){return V?j===null||K===void 0||K===null?v.jsx(qd,{type:"loading",children:typeof m=="function"?m():m}):j===!1||K===!1?v.jsx(qd,{type:"error",children:typeof h=="function"?h():h}):we():v.jsx(qd,{type:"no-data",children:typeof _=="function"?_():_})}return v.jsx("div",Object.assign({className:bv(r,l),"data-page-number":V,ref:z$(g,te),style:{"--scale-factor":`${ve}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},kn,{children:nt()}))}Iie();$2.workerSrc="pdf.worker.mjs";const O1=()=>{const[n,e]=w.useState(!1),[t,r]=w.useState(null),i=Tl(),s=w.useCallback(p=>{e(!0),r(null);const g=new FileReader;g.onload=m=>{try{if(m.target&&typeof m.target.result=="string")localStorage.setItem(`fileData_${p.name}`,m.target.result),localStorage.setItem(`fileType_${p.name}`,p.type),i(XV(p.name)),console.log(`Fil uppladdad: ${p.name}`);else throw new Error("Ogiltig fildata")}catch(_){console.error("Fel vid uppladdning av fil:",_),r("Fel vid uppladdning av fil")}finally{e(!1)}},g.onerror=()=>{console.error("FileReader error:",g.error),r("Fel vid lsning av fil"),e(!1)},g.readAsDataURL(p)},[i]),o=w.useCallback(p=>{try{localStorage.removeItem(`fileData_${p}`),localStorage.removeItem(`fileType_${p}`),localStorage.removeItem(`fileMetadata_${p}`),i(QV(p))}catch(g){console.error("Fel vid borttagning av fil:",g),r("Fel vid borttagning av fil")}},[i]),a=w.useCallback(p=>{console.log("openFile called with:",p);const g=localStorage.getItem(`fileData_${p}`),m=localStorage.getItem(`fileMetadata_${p}`);if(g){if(i(Zk({name:p,objectURL:g})),m){const _=JSON.parse(m);i(ty(_.measurements)),i(lc(_.pixelsPerUnit)),i(vg(_.currentUnit)),i($p(_.scale))}}else r("Kunde inte ppna filen")},[i]),l=w.useCallback(()=>Object.keys(localStorage).filter(p=>p.startsWith("fileData_")).map(p=>p.replace("fileData_","")),[]),c=async p=>{try{const g=await fetch(`/canvas/${p}`);if(!g.ok)throw new Error("Kunde inte hmta filen");const m=await g.blob(),_=URL.createObjectURL(m);i(Zk({name:p,objectURL:_}))}catch(g){r("Kunde inte ppna filen"),console.error("Fel vid filppning:",g)}},u=w.useCallback((p,g)=>{try{const m=document.createElement("a");m.href=g,m.download=p,document.body.appendChild(m),m.click(),document.body.removeChild(m)}catch(m){r("Kunde inte ladda ner filen"),console.error("Nedladdningsfel:",m)}},[]),d=w.useCallback((p,g,m,_,y)=>{try{const b={measurements:g,pixelsPerUnit:m,currentUnit:_,scale:y};localStorage.setItem(`fileMetadata_${p}`,JSON.stringify(b)),console.log(`Metadata sparad fr: ${p}`),i(ty(g)),i(lc(m)),i(vg(_)),i($p(y))}catch(b){console.error("Fel vid sparande av metadata:",b),r("Kunde inte spara metadata")}},[i,r]),h=w.useCallback((p,g,m)=>{try{const _=localStorage.getItem(`fileMetadata_${p}`);if(!_)throw new Error("Ingen metadata hittades fr filen");const y=JSON.parse(_);y.measurements[m]=g,localStorage.setItem(`fileMetadata_${p}`,JSON.stringify(y)),console.log(`Enskild mtning sparad fr: ${p}`),i((b,x)=>{const E=[...x().canvas.measurements];E[m]=g,b(ty(E))})}catch(_){console.error("Fel vid sparande av enskild mtning:",_),r("Kunde inte spara enskild mtning")}},[i,r]);return{uploadFile:s,downloadFile:u,deleteFile:o,openFile:a,getAllFiles:l,isLoading:n,error:t,setError:r,handleFileOpen:c,saveMeasurements:d,saveSingleMeasurement:h}},Qie=["top","right","bottom","left"],yl=Math.min,Ur=Math.max,Qw=Math.round,j0=Math.floor,wl=n=>({x:n,y:n}),Zie={left:"right",right:"left",bottom:"top",top:"bottom"},Jie={start:"end",end:"start"};function YC(n,e,t){return Ur(n,yl(e,t))}function Yo(n,e){return typeof n=="function"?n(e):n}function Xo(n){return n.split("-")[0]}function Ef(n){return n.split("-")[1]}function B2(n){return n==="x"?"y":"x"}function z2(n){return n==="y"?"height":"width"}function _l(n){return["top","bottom"].includes(Xo(n))?"y":"x"}function U2(n){return B2(_l(n))}function ese(n,e,t){t===void 0&&(t=!1);const r=Ef(n),i=U2(n),s=z2(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Zw(o)),[o,Zw(o)]}function tse(n){const e=Zw(n);return[XC(n),e,XC(e)]}function XC(n){return n.replace(/start|end/g,e=>Jie[e])}function nse(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function rse(n,e,t,r){const i=Ef(n);let s=nse(Xo(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(XC)))),s}function Zw(n){return n.replace(/left|right|bottom|top/g,e=>Zie[e])}function ise(n){return{top:0,right:0,bottom:0,left:0,...n}}function K$(n){return typeof n!="number"?ise(n):{top:n,right:n,bottom:n,left:n}}function Jw(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function _L(n,e,t){let{reference:r,floating:i}=n;const s=_l(e),o=U2(e),a=z2(o),l=Xo(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Ef(e)){case"start":p[o]-=h*(t&&c?-1:1);break;case"end":p[o]+=h*(t&&c?-1:1);break}return p}const sse=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:d}=_L(c,r,l),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:_,fn:y}=a[m],{x:b,y:x,data:S,reset:E}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:n,floating:e}});u=b??u,d=x??d,p={...p,[_]:{...p[_],...S}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):E.rects),{x:u,y:d}=_L(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function Dg(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Yo(e,n),g=K$(p),_=a[h?d==="floating"?"reference":"floating":d],y=Jw(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(_)))==null||t?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},E=Jw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:x,strategy:l}):b);return{top:(y.top-E.top+g.top)/S.y,bottom:(E.bottom-y.bottom+g.bottom)/S.y,left:(y.left-E.left+g.left)/S.x,right:(E.right-y.right+g.right)/S.x}}const ose=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Yo(n,e)||{};if(c==null)return{};const d=K$(u),h={x:t,y:r},p=U2(i),g=z2(p),m=await o.getDimensions(c),_=p==="y",y=_?"top":"left",b=_?"bottom":"right",x=_?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[p]-h[p]-s.floating[g],E=h[p]-s.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=k?k[x]:0;(!R||!await(o.isElement==null?void 0:o.isElement(k)))&&(R=a.floating[x]||s.floating[g]);const T=S/2-E/2,M=R/2-m[g]/2-1,L=yl(d[y],M),N=yl(d[b],M),z=L,W=R-m[g]-N,O=R/2-m[g]/2+T,U=YC(z,O,W),B=!l.arrow&&Ef(i)!=null&&O!==U&&s.reference[g]/2-(O<z?L:N)-m[g]/2<0,j=B?O<z?O-z:O-W:0;return{[p]:h[p]+j,data:{[p]:U,centerOffset:O-U-j,...B&&{alignmentOffset:j}},reset:B}}}),ase=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,..._}=Yo(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const y=Xo(i),b=_l(a),x=Xo(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(x||!m?[Zw(a)]:tse(a)),k=g!=="none";!h&&k&&E.push(...rse(a,m,g,S));const R=[a,...E],T=await Dg(e,_),M=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&M.push(T[y]),d){const O=ese(i,o,S);M.push(T[O[0]],T[O[1]])}if(L=[...L,{placement:i,overflows:M}],!M.every(O=>O<=0)){var N,z;const O=(((N=s.flip)==null?void 0:N.index)||0)+1,U=R[O];if(U)return{data:{index:O,overflows:L},reset:{placement:U}};let B=(z=L.filter(j=>j.overflows[0]<=0).sort((j,D)=>j.overflows[1]-D.overflows[1])[0])==null?void 0:z.placement;if(!B)switch(p){case"bestFit":{var W;const j=(W=L.filter(D=>{if(k){const F=_l(D.placement);return F===b||F==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(F=>F>0).reduce((F,q)=>F+q,0)]).sort((D,F)=>D[1]-F[1])[0])==null?void 0:W[0];j&&(B=j);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function bL(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function xL(n){return Qie.some(e=>n[e]>=0)}const lse=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Yo(n,e);switch(r){case"referenceHidden":{const s=await Dg(e,{...i,elementContext:"reference"}),o=bL(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xL(o)}}}case"escaped":{const s=await Dg(e,{...i,altBoundary:!0}),o=bL(s,t.floating);return{data:{escapedOffsets:o,escaped:xL(o)}}}default:return{}}}}};async function cse(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Xo(t),a=Ef(t),l=_l(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Yo(e,n);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const use=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await cse(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},dse=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:y,y:b}=_;return{x:y,y:b}}},...l}=Yo(n,e),c={x:t,y:r},u=await Dg(e,l),d=_l(Xo(i)),h=B2(d);let p=c[h],g=c[d];if(s){const _=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=p+u[_],x=p-u[y];p=YC(b,p,x)}if(o){const _=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=g+u[_],x=g-u[y];g=YC(b,g,x)}const m=a.fn({...e,[h]:p,[d]:g});return{...m,data:{x:m.x-t,y:m.y-r,enabled:{[h]:s,[d]:o}}}}}},hse=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Yo(n,e),u={x:t,y:r},d=_l(i),h=B2(d);let p=u[h],g=u[d];const m=Yo(a,e),_=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=h==="y"?"height":"width",S=s.reference[h]-s.floating[x]+_.mainAxis,E=s.reference[h]+s.reference[x]-_.mainAxis;p<S?p=S:p>E&&(p=E)}if(c){var y,b;const x=h==="y"?"width":"height",S=["top","left"].includes(Xo(i)),E=s.reference[d]-s.floating[x]+(S&&((y=o.offset)==null?void 0:y[d])||0)+(S?0:_.crossAxis),k=s.reference[d]+s.reference[x]+(S?0:((b=o.offset)==null?void 0:b[d])||0)-(S?_.crossAxis:0);g<E?g=E:g>k&&(g=k)}return{[h]:p,[d]:g}}}},fse=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Yo(n,e),u=await Dg(e,c),d=Xo(i),h=Ef(i),p=_l(i)==="y",{width:g,height:m}=s.floating;let _,y;d==="top"||d==="bottom"?(_=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,_=h==="end"?"top":"bottom");const b=m-u.top-u.bottom,x=g-u.left-u.right,S=yl(m-u[_],b),E=yl(g-u[y],x),k=!e.middlewareData.shift;let R=S,T=E;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(T=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=b),k&&!h){const L=Ur(u.left,0),N=Ur(u.right,0),z=Ur(u.top,0),W=Ur(u.bottom,0);p?T=g-2*(L!==0||N!==0?L+N:Ur(u.left,u.right)):R=m-2*(z!==0||W!==0?z+W:Ur(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:R});const M=await o.getDimensions(a.floating);return g!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function N1(){return typeof window<"u"}function Cf(n){return Y$(n)?(n.nodeName||"").toLowerCase():"#document"}function Kr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Hs(n){var e;return(e=(Y$(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Y$(n){return N1()?n instanceof Node||n instanceof Kr(n).Node:!1}function rs(n){return N1()?n instanceof Element||n instanceof Kr(n).Element:!1}function Us(n){return N1()?n instanceof HTMLElement||n instanceof Kr(n).HTMLElement:!1}function SL(n){return!N1()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Kr(n).ShadowRoot}function Nv(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=is(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function pse(n){return["table","td","th"].includes(Cf(n))}function F1(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function V2(n){const e=H2(),t=rs(n)?is(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function gse(n){let e=bl(n);for(;Us(e)&&!cf(e);){if(V2(e))return e;if(F1(e))return null;e=bl(e)}return null}function H2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cf(n){return["html","body","#document"].includes(Cf(n))}function is(n){return Kr(n).getComputedStyle(n)}function j1(n){return rs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function bl(n){if(Cf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||SL(n)&&n.host||Hs(n);return SL(e)?e.host:e}function X$(n){const e=bl(n);return cf(e)?n.ownerDocument?n.ownerDocument.body:n.body:Us(e)&&Nv(e)?e:X$(e)}function Lg(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=X$(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Kr(i);if(s){const a=QC(o);return e.concat(o,o.visualViewport||[],Nv(i)?i:[],a&&t?Lg(a):[])}return e.concat(i,Lg(i,[],t))}function QC(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Q$(n){const e=is(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Us(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Qw(t)!==s||Qw(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function W2(n){return rs(n)?n:n.contextElement}function Kd(n){const e=W2(n);if(!Us(e))return wl(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=Q$(e);let o=(s?Qw(t.width):t.width)/r,a=(s?Qw(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const mse=wl(0);function Z$(n){const e=Kr(n);return!H2()||!e.visualViewport?mse:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vse(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Kr(n)?!1:e}function Au(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=W2(n);let o=wl(1);e&&(r?rs(r)&&(o=Kd(r)):o=Kd(n));const a=vse(s,t,r)?Z$(s):wl(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Kr(s),p=r&&rs(r)?Kr(r):r;let g=h,m=QC(g);for(;m&&r&&p!==g;){const _=Kd(m),y=m.getBoundingClientRect(),b=is(m),x=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*_.x,S=y.top+(m.clientTop+parseFloat(b.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=x,c+=S,g=Kr(m),m=QC(g)}}return Jw({width:u,height:d,x:l,y:c})}function yse(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Hs(r),a=e?F1(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=wl(1);const u=wl(0),d=Us(r);if((d||!d&&!s)&&((Cf(r)!=="body"||Nv(o))&&(l=j1(r)),Us(r))){const h=Au(r);c=Kd(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x,y:t.y*c.y-l.scrollTop*c.y+u.y}}function wse(n){return Array.from(n.getClientRects())}function ZC(n,e){const t=j1(n).scrollLeft;return e?e.left+t:Au(Hs(n)).left+t}function _se(n){const e=Hs(n),t=j1(n),r=n.ownerDocument.body,i=Ur(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ur(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+ZC(n);const a=-t.scrollTop;return is(r).direction==="rtl"&&(o+=Ur(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function bse(n,e){const t=Kr(n),r=Hs(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=H2();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function xse(n,e){const t=Au(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Us(n)?Kd(n):wl(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function EL(n,e,t){let r;if(e==="viewport")r=bse(n,t);else if(e==="document")r=_se(Hs(n));else if(rs(e))r=xse(e,t);else{const i=Z$(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return Jw(r)}function J$(n,e){const t=bl(n);return t===e||!rs(t)||cf(t)?!1:is(t).position==="fixed"||J$(t,e)}function Sse(n,e){const t=e.get(n);if(t)return t;let r=Lg(n,[],!1).filter(a=>rs(a)&&Cf(a)!=="body"),i=null;const s=is(n).position==="fixed";let o=s?bl(n):n;for(;rs(o)&&!cf(o);){const a=is(o),l=V2(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Nv(o)&&!l&&J$(n,o))?r=r.filter(u=>u!==o):i=a,o=bl(o)}return e.set(n,r),r}function Ese(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?F1(e)?[]:Sse(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const d=EL(e,u,i);return c.top=Ur(d.top,c.top),c.right=yl(d.right,c.right),c.bottom=yl(d.bottom,c.bottom),c.left=Ur(d.left,c.left),c},EL(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Cse(n){const{width:e,height:t}=Q$(n);return{width:e,height:t}}function Ase(n,e,t){const r=Us(e),i=Hs(e),s=t==="fixed",o=Au(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=wl(0);if(r||!r&&!s)if((Cf(e)!=="body"||Nv(i))&&(a=j1(e)),r){const p=Au(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=ZC(i));let c=0,u=0;if(i&&!r&&!s){const p=i.getBoundingClientRect();u=p.top+a.scrollTop,c=p.left+a.scrollLeft-ZC(i,p)}const d=o.left+a.scrollLeft-l.x-c,h=o.top+a.scrollTop-l.y-u;return{x:d,y:h,width:o.width,height:o.height}}function Ex(n){return is(n).position==="static"}function CL(n,e){if(!Us(n)||is(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Hs(n)===t&&(t=t.ownerDocument.body),t}function e6(n,e){const t=Kr(n);if(F1(n))return t;if(!Us(n)){let i=bl(n);for(;i&&!cf(i);){if(rs(i)&&!Ex(i))return i;i=bl(i)}return t}let r=CL(n,e);for(;r&&pse(r)&&Ex(r);)r=CL(r,e);return r&&cf(r)&&Ex(r)&&!V2(r)?t:r||gse(n)||t}const Pse=async function(n){const e=this.getOffsetParent||e6,t=this.getDimensions,r=await t(n.floating);return{reference:Ase(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tse(n){return is(n).direction==="rtl"}const kse={convertOffsetParentRelativeRectToViewportRelativeRect:yse,getDocumentElement:Hs,getClippingRect:Ese,getOffsetParent:e6,getElementRects:Pse,getClientRects:wse,getDimensions:Cse,getScale:Kd,isElement:rs,isRTL:Tse};function Rse(n,e){let t=null,r;const i=Hs(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=n.getBoundingClientRect();if(a||e(),!d||!h)return;const p=j0(u),g=j0(i.clientWidth-(c+d)),m=j0(i.clientHeight-(u+h)),_=j0(c),b={rootMargin:-p+"px "+-g+"px "+-m+"px "+-_+"px",threshold:Ur(0,yl(1,l))||1};let x=!0;function S(E){const k=E[0].intersectionRatio;if(k!==l){if(!x)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{t=new IntersectionObserver(S,{...b,root:i.ownerDocument})}catch{t=new IntersectionObserver(S,b)}t.observe(n)}return o(!0),s}function Mse(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=W2(n),u=i||s?[...c?Lg(c):[],...Lg(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",t,{passive:!0}),s&&y.addEventListener("resize",t)});const d=c&&a?Rse(c,t):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),t()}),c&&!l&&p.observe(c),p.observe(e));let g,m=l?Au(n):null;l&&_();function _(){const y=Au(n);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&t(),m=y,g=requestAnimationFrame(_)}return t(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",t),s&&b.removeEventListener("resize",t)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const Dse=use,Lse=dse,Ise=ase,Ose=fse,Nse=lse,AL=ose,Fse=hse,jse=(n,e,t)=>{const r=new Map,i={platform:kse,...t},s={...i.platform,_c:r};return sse(n,e,{...i,platform:s})};var Fy=typeof document<"u"?w.useLayoutEffect:w.useEffect;function e_(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!e_(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!e_(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function t6(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function PL(n,e){const t=t6(n);return Math.round(e*t)/t}function Cx(n){const e=w.useRef(n);return Fy(()=>{e.current=n}),e}function $se(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,d]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=w.useState(r);e_(h,r)||p(r);const[g,m]=w.useState(null),[_,y]=w.useState(null),b=w.useCallback(D=>{D!==k.current&&(k.current=D,m(D))},[]),x=w.useCallback(D=>{D!==R.current&&(R.current=D,y(D))},[]),S=s||g,E=o||_,k=w.useRef(null),R=w.useRef(null),T=w.useRef(u),M=l!=null,L=Cx(l),N=Cx(i),z=Cx(c),W=w.useCallback(()=>{if(!k.current||!R.current)return;const D={placement:e,strategy:t,middleware:h};N.current&&(D.platform=N.current),jse(k.current,R.current,D).then(F=>{const q={...F,isPositioned:z.current!==!1};O.current&&!e_(T.current,q)&&(T.current=q,gf.flushSync(()=>{d(q)}))})},[h,e,t,N,z]);Fy(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[c]);const O=w.useRef(!1);Fy(()=>(O.current=!0,()=>{O.current=!1}),[]),Fy(()=>{if(S&&(k.current=S),E&&(R.current=E),S&&E){if(L.current)return L.current(S,E,W);W()}},[S,E,W,L,M]);const U=w.useMemo(()=>({reference:k,floating:R,setReference:b,setFloating:x}),[b,x]),B=w.useMemo(()=>({reference:S,floating:E}),[S,E]),j=w.useMemo(()=>{const D={position:t,left:0,top:0};if(!B.floating)return D;const F=PL(B.floating,u.x),q=PL(B.floating,u.y);return a?{...D,transform:"translate("+F+"px, "+q+"px)",...t6(B.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:q}},[t,a,B.floating,u.x,u.y]);return w.useMemo(()=>({...u,update:W,refs:U,elements:B,floatingStyles:j}),[u,W,U,B,j])}const Bse=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?AL({element:r.current,padding:i}).fn(t):{}:r?AL({element:r,padding:i}).fn(t):{}}}},zse=(n,e)=>({...Dse(n),options:[n,e]}),Use=(n,e)=>({...Lse(n),options:[n,e]}),Vse=(n,e)=>({...Fse(n),options:[n,e]}),Hse=(n,e)=>({...Ise(n),options:[n,e]}),Wse=(n,e)=>({...Ose(n),options:[n,e]}),Gse=(n,e)=>({...Nse(n),options:[n,e]}),qse=(n,e)=>({...Bse(n),options:[n,e]});var Kse="Arrow",n6=w.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return v.jsx(De.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});n6.displayName=Kse;var Yse=n6;function Xse(n,e=[]){let t=[];function r(s,o){const a=w.createContext(o),l=t.length;t=[...t,o];function c(d){const{scope:h,children:p,...g}=d,m=(h==null?void 0:h[n][l])||a,_=w.useMemo(()=>g,Object.values(g));return v.jsx(m.Provider,{value:_,children:p})}function u(d,h){const p=(h==null?void 0:h[n][l])||a,g=w.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return w.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,Qse(i,...e)]}function Qse(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Zse(n){const[e,t]=w.useState(void 0);return rr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var G2="Popper",[r6,Af]=Xse(G2),[Jse,i6]=r6(G2),s6=n=>{const{__scopePopper:e,children:t}=n,[r,i]=w.useState(null);return v.jsx(Jse,{scope:e,anchor:r,onAnchorChange:i,children:t})};s6.displayName=G2;var o6="PopperAnchor",a6=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=i6(o6,t),o=w.useRef(null),a=Ge(e,o);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:v.jsx(De.div,{...i,ref:a})});a6.displayName=o6;var q2="PopperContent",[eoe,toe]=r6(q2),l6=w.forwardRef((n,e)=>{var Q,me,Y,K,he,te;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=n,_=i6(q2,t),[y,b]=w.useState(null),x=Ge(e,H=>b(H)),[S,E]=w.useState(null),k=Zse(S),R=(k==null?void 0:k.width)??0,T=(k==null?void 0:k.height)??0,M=r+(s!=="center"?"-"+s:""),L=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],z=N.length>0,W={padding:L,boundary:N.filter(roe),altBoundary:z},{refs:O,floatingStyles:U,placement:B,isPositioned:j,middlewareData:D}=$se({strategy:"fixed",placement:M,whileElementsMounted:(...H)=>Mse(...H,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[zse({mainAxis:i+T,alignmentAxis:o}),l&&Use({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Vse():void 0,...W}),l&&Hse({...W}),Wse({...W,apply:({elements:H,rects:V,availableWidth:re,availableHeight:ve})=>{const{width:Pe,height:Ue}=V.reference,kt=H.floating.style;kt.setProperty("--radix-popper-available-width",`${re}px`),kt.setProperty("--radix-popper-available-height",`${ve}px`),kt.setProperty("--radix-popper-anchor-width",`${Pe}px`),kt.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),S&&qse({element:S,padding:a}),ioe({arrowWidth:R,arrowHeight:T}),h&&Gse({strategy:"referenceHidden",...W})]}),[F,q]=d6(B),ee=Ei(g);rr(()=>{j&&(ee==null||ee())},[j,ee]);const J=(Q=D.arrow)==null?void 0:Q.x,le=(me=D.arrow)==null?void 0:me.y,ae=((Y=D.arrow)==null?void 0:Y.centerOffset)!==0,[xe,ne]=w.useState();return rr(()=>{y&&ne(window.getComputedStyle(y).zIndex)},[y]),v.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:j?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(K=D.transformOrigin)==null?void 0:K.x,(he=D.transformOrigin)==null?void 0:he.y].join(" "),...((te=D.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:v.jsx(eoe,{scope:t,placedSide:F,onArrowChange:E,arrowX:J,arrowY:le,shouldHideArrow:ae,children:v.jsx(De.div,{"data-side":F,"data-align":q,...m,ref:x,style:{...m.style,animation:j?void 0:"none"}})})})});l6.displayName=q2;var c6="PopperArrow",noe={top:"bottom",right:"left",bottom:"top",left:"right"},u6=w.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=toe(c6,r),o=noe[s.placedSide];return v.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:v.jsx(Yse,{...i,ref:t,style:{...i.style,display:"block"}})})});u6.displayName=c6;function roe(n){return n!==null}var ioe=n=>({name:"transformOrigin",options:n,fn(e){var _,y,b;const{placement:t,rects:r,middlewareData:i}=e,o=((_=i.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=d6(t),d={start:"0%",center:"50%",end:"100%"}[u],h=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,p=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let g="",m="";return c==="bottom"?(g=o?d:`${h}px`,m=`${-l}px`):c==="top"?(g=o?d:`${h}px`,m=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=o?d:`${p}px`):c==="left"&&(g=`${r.floating.width+l}px`,m=o?d:`${p}px`),{data:{x:g,y:m}}}});function d6(n){const[e,t="center"]=n.split("-");return[e,t]}var K2=s6,Y2=a6,X2=l6,Q2=u6,soe="VisuallyHidden",Z2=w.forwardRef((n,e)=>v.jsx(De.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Z2.displayName=soe;var ooe=Z2,[$1,ufe]=bf("Tooltip",[Af]),B1=Af(),h6="TooltipProvider",aoe=700,JC="tooltip.open",[loe,J2]=$1(h6),f6=n=>{const{__scopeTooltip:e,delayDuration:t=aoe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,[o,a]=w.useState(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),v.jsx(loe,{scope:e,isOpenDelayed:o,delayDuration:t,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};f6.displayName=h6;var z1="Tooltip",[coe,U1]=$1(z1),p6=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=J2(z1,n.__scopeTooltip),c=B1(e),[u,d]=w.useState(null),h=Ns(),p=w.useRef(0),g=o??l.disableHoverableContent,m=a??l.delayDuration,_=w.useRef(!1),[y=!1,b]=Ko({prop:r,defaultProp:i,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(JC))):l.onClose(),s==null||s(R)}}),x=w.useMemo(()=>y?_.current?"delayed-open":"instant-open":"closed",[y]),S=w.useCallback(()=>{window.clearTimeout(p.current),_.current=!1,b(!0)},[b]),E=w.useCallback(()=>{window.clearTimeout(p.current),b(!1)},[b]),k=w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{_.current=!0,b(!0)},m)},[m,b]);return w.useEffect(()=>()=>window.clearTimeout(p.current),[]),v.jsx(K2,{...c,children:v.jsx(coe,{scope:e,contentId:h,open:y,stateAttribute:x,trigger:u,onTriggerChange:d,onTriggerEnter:w.useCallback(()=>{l.isOpenDelayed?k():S()},[l.isOpenDelayed,k,S]),onTriggerLeave:w.useCallback(()=>{g?E():window.clearTimeout(p.current)},[E,g]),onOpen:S,onClose:E,disableHoverableContent:g,children:t})})};p6.displayName=z1;var eA="TooltipTrigger",g6=w.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=U1(eA,t),s=J2(eA,t),o=B1(t),a=w.useRef(null),l=Ge(e,a,i.onTriggerChange),c=w.useRef(!1),u=w.useRef(!1),d=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),v.jsx(Y2,{asChild:!0,...o,children:v.jsx(De.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:de(n.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:de(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:de(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:de(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:de(n.onBlur,i.onClose),onClick:de(n.onClick,i.onClose)})})});g6.displayName=eA;var uoe="TooltipPortal",[dfe,doe]=$1(uoe,{forceMount:void 0}),uf="TooltipContent",m6=w.forwardRef((n,e)=>{const t=doe(uf,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=U1(uf,n.__scopeTooltip);return v.jsx(ta,{present:r||o.open,children:o.disableHoverableContent?v.jsx(v6,{side:i,...s,ref:e}):v.jsx(hoe,{side:i,...s,ref:e})})}),hoe=w.forwardRef((n,e)=>{const t=U1(uf,n.__scopeTooltip),r=J2(uf,n.__scopeTooltip),i=w.useRef(null),s=Ge(e,i),[o,a]=w.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:d}=r,h=w.useCallback(()=>{a(null),d(!1)},[d]),p=w.useCallback((g,m)=>{const _=g.currentTarget,y={x:g.clientX,y:g.clientY},b=moe(y,_.getBoundingClientRect()),x=voe(y,b),S=yoe(m.getBoundingClientRect()),E=_oe([...x,...S]);a(E),d(!0)},[d]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(l&&u){const g=_=>p(_,u),m=_=>p(_,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",m)}}},[l,u,p,h]),w.useEffect(()=>{if(o){const g=m=>{const _=m.target,y={x:m.clientX,y:m.clientY},b=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),x=!woe(y,o);b?h():x&&(h(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,h]),v.jsx(v6,{...n,ref:s})}),[foe,poe]=$1(z1,{isInside:!1}),v6=w.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=U1(uf,t),c=B1(t),{onClose:u}=l;return w.useEffect(()=>(document.addEventListener(JC,u),()=>document.removeEventListener(JC,u)),[u]),w.useEffect(()=>{if(l.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),v.jsx(Rv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:v.jsxs(X2,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(f2,{children:r}),v.jsx(foe,{scope:t,isInside:!0,children:v.jsx(ooe,{id:l.contentId,role:"tooltip",children:i||r})})]})})});m6.displayName=uf;var y6="TooltipArrow",goe=w.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=B1(t);return poe(y6,t).isInside?null:v.jsx(Q2,{...i,...r,ref:e})});goe.displayName=y6;function moe(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function voe(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function yoe(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function woe(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function _oe(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),boe(e)}function boe(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var xoe=f6,Soe=p6,Eoe=g6,w6=m6;const eT=xoe,Rr=Soe,Mr=Eoe,dr=w.forwardRef(({className:n,sideOffset:e=4,...t},r)=>v.jsx(w6,{ref:r,sideOffset:e,className:Se("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));dr.displayName=w6.displayName;var _6={exports:{}},Coe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Aoe=Coe,Poe=Aoe;function b6(){}function x6(){}x6.resetWarningCache=b6;var Toe=function(){function n(r,i,s,o,a,l){if(l!==Poe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:x6,resetWarningCache:b6};return t.PropTypes=t,t};_6.exports=Toe();var koe=_6.exports;const st=k_(koe);var Roe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Fv(n,e){var t=Moe(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Moe(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=Roe.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var Doe=[".DS_Store","Thumbs.db"];function Loe(n){return xf(this,void 0,void 0,function(){return Sf(this,function(e){return t_(n)&&Ioe(n.dataTransfer)?[2,joe(n.dataTransfer,n.type)]:Ooe(n)?[2,Noe(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Foe(n)]:[2,[]]})})}function Ioe(n){return t_(n)}function Ooe(n){return t_(n)&&t_(n.target)}function t_(n){return typeof n=="object"&&n!==null}function Noe(n){return tA(n.target.files).map(function(e){return Fv(e)})}function Foe(n){return xf(this,void 0,void 0,function(){var e;return Sf(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return Fv(r)})]}})})}function joe(n,e){return xf(this,void 0,void 0,function(){var t,r;return Sf(this,function(i){switch(i.label){case 0:return n.items?(t=tA(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map($oe))]):[3,2];case 1:return r=i.sent(),[2,TL(S6(r))];case 2:return[2,TL(tA(n.files).map(function(s){return Fv(s)}))]}})})}function TL(n){return n.filter(function(e){return Doe.indexOf(e.name)===-1})}function tA(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function $oe(n){if(typeof n.webkitGetAsEntry!="function")return kL(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?E6(e):kL(n)}function S6(n){return n.reduce(function(e,t){return kE(kE([],zD(e),!1),zD(Array.isArray(t)?S6(t):[t]),!1)},[])}function kL(n){var e=n.getAsFile();if(!e)return Promise.reject("".concat(n," is not a File"));var t=Fv(e);return Promise.resolve(t)}function Boe(n){return xf(this,void 0,void 0,function(){return Sf(this,function(e){return[2,n.isDirectory?E6(n):zoe(n)]})})}function E6(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return xf(o,void 0,void 0,function(){var l,c,u;return Sf(this,function(d){switch(d.label){case 0:if(a.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=d.sent(),t(l),[3,4];case 3:return c=d.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(Boe)),i.push(u),s(),d.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function zoe(n){return xf(this,void 0,void 0,function(){return Sf(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=Fv(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var Ax=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function RL(n){return Hoe(n)||Voe(n)||A6(n)||Uoe()}function Uoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Voe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Hoe(n){if(Array.isArray(n))return nA(n)}function ML(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function DL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(t),!0).forEach(function(r){C6(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ML(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function C6(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ig(n,e){return qoe(n)||Goe(n,e)||A6(n,e)||Woe()}function Woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A6(n,e){if(n){if(typeof n=="string")return nA(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nA(n,e)}}function nA(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Goe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function qoe(n){if(Array.isArray(n))return n}var Koe=typeof Ax=="function"?Ax:Ax.default,Yoe="file-invalid-type",Xoe="file-too-large",Qoe="file-too-small",Zoe="too-many-files",Joe=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Yoe,message:"File type must be ".concat(t)}},LL=function(e){return{code:Xoe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},IL=function(e){return{code:Qoe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},eae={code:Zoe,message:"Too many files"};function P6(n,e){var t=n.type==="application/x-moz-file"||Koe(n,e);return[t,t?null:Joe(e)]}function T6(n,e,t){if(tc(n.size))if(tc(e)&&tc(t)){if(n.size>t)return[!1,LL(t)];if(n.size<e)return[!1,IL(e)]}else{if(tc(e)&&n.size<e)return[!1,IL(e)];if(tc(t)&&n.size>t)return[!1,LL(t)]}return[!0,null]}function tc(n){return n!=null}function tae(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles,a=n.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var c=P6(l,t),u=Ig(c,1),d=u[0],h=T6(l,r,i),p=Ig(h,1),g=p[0],m=a?a(l):null;return d&&g&&!m})}function n_(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function $0(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function OL(n){n.preventDefault()}function nae(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function rae(n){return n.indexOf("Edge/")!==-1}function iae(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return nae(n)||rae(n)}function ls(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!n_(r)&&a&&a.apply(void 0,[r].concat(s)),n_(r)})}}function sae(){return"showOpenFilePicker"in window}function oae(n){if(tc(n)){var e=Object.entries(n).filter(function(t){var r=Ig(t,2),i=r[0],s=r[1],o=!0;return k6(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(R6))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(t,r){var i=Ig(r,2),s=i[0],o=i[1];return DL(DL({},t),{},C6({},s,o))},{});return[{description:"Files",accept:e}]}return n}function aae(n){if(tc(n))return Object.entries(n).reduce(function(e,t){var r=Ig(t,2),i=r[0],s=r[1];return[].concat(RL(e),[i],RL(s))},[]).filter(function(e){return k6(e)||R6(e)}).join(",")}function lae(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function cae(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function k6(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||/\w+\/[-+.\w]+/g.test(n)}function R6(n){return/^.*\.[\w]+$/.test(n)}var uae=["children"],dae=["open"],hae=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],fae=["refKey","onChange","onClick"];function pae(n){return vae(n)||mae(n)||M6(n)||gae()}function gae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mae(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vae(n){if(Array.isArray(n))return rA(n)}function Px(n,e){return _ae(n)||wae(n,e)||M6(n,e)||yae()}function yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M6(n,e){if(n){if(typeof n=="string")return rA(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rA(n,e)}}function rA(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function wae(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function _ae(n){if(Array.isArray(n))return n}function NL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Et(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(t),!0).forEach(function(r){iA(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iA(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r_(n,e){if(n==null)return{};var t=bae(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function bae(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var tT=w.forwardRef(function(n,e){var t=n.children,r=r_(n,uae),i=L6(r),s=i.open,o=r_(i,dae);return w.useImperativeHandle(e,function(){return{open:s}},[s]),I.createElement(w.Fragment,null,t(Et(Et({},o),{},{open:s})))});tT.displayName="Dropzone";var D6={disabled:!1,getFilesFromEvent:Loe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};tT.defaultProps=D6;tT.propTypes={children:st.func,accept:st.objectOf(st.arrayOf(st.string)),multiple:st.bool,preventDropOnDocument:st.bool,noClick:st.bool,noKeyboard:st.bool,noDrag:st.bool,noDragEventsBubbling:st.bool,minSize:st.number,maxSize:st.number,maxFiles:st.number,disabled:st.bool,getFilesFromEvent:st.func,onFileDialogCancel:st.func,onFileDialogOpen:st.func,useFsAccessApi:st.bool,autoFocus:st.bool,onDragEnter:st.func,onDragLeave:st.func,onDragOver:st.func,onDrop:st.func,onDropAccepted:st.func,onDropRejected:st.func,onError:st.func,validator:st.func};var sA={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function L6(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Et(Et({},D6),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,d=e.onDragOver,h=e.onDrop,p=e.onDropAccepted,g=e.onDropRejected,m=e.onFileDialogCancel,_=e.onFileDialogOpen,y=e.useFsAccessApi,b=e.autoFocus,x=e.preventDropOnDocument,S=e.noClick,E=e.noKeyboard,k=e.noDrag,R=e.noDragEventsBubbling,T=e.onError,M=e.validator,L=w.useMemo(function(){return aae(t)},[t]),N=w.useMemo(function(){return oae(t)},[t]),z=w.useMemo(function(){return typeof _=="function"?_:FL},[_]),W=w.useMemo(function(){return typeof m=="function"?m:FL},[m]),O=w.useRef(null),U=w.useRef(null),B=w.useReducer(xae,sA),j=Px(B,2),D=j[0],F=j[1],q=D.isFocused,ee=D.isFileDialogActive,J=w.useRef(typeof window<"u"&&window.isSecureContext&&y&&sae()),le=function(){!J.current&&ee&&setTimeout(function(){if(U.current){var we=U.current.files;we.length||(F({type:"closeDialog"}),W())}},300)};w.useEffect(function(){return window.addEventListener("focus",le,!1),function(){window.removeEventListener("focus",le,!1)}},[U,ee,W,J]);var ae=w.useRef([]),xe=function(we){O.current&&O.current.contains(we.target)||(we.preventDefault(),ae.current=[])};w.useEffect(function(){return x&&(document.addEventListener("dragover",OL,!1),document.addEventListener("drop",xe,!1)),function(){x&&(document.removeEventListener("dragover",OL),document.removeEventListener("drop",xe))}},[O,x]),w.useEffect(function(){return!r&&b&&O.current&&O.current.focus(),function(){}},[O,b,r]);var ne=w.useCallback(function(ie){T?T(ie):console.error(ie)},[T]),Q=w.useCallback(function(ie){ie.preventDefault(),ie.persist(),kn(ie),ae.current=[].concat(pae(ae.current),[ie.target]),$0(ie)&&Promise.resolve(i(ie)).then(function(we){if(!(n_(ie)&&!R)){var nt=we.length,rt=nt>0&&tae({files:we,accept:L,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:M}),Rt=nt>0&&!rt;F({isDragAccept:rt,isDragReject:Rt,isDragActive:!0,type:"setDraggedFiles"}),c&&c(ie)}}).catch(function(we){return ne(we)})},[i,c,ne,R,L,o,s,a,l,M]),me=w.useCallback(function(ie){ie.preventDefault(),ie.persist(),kn(ie);var we=$0(ie);if(we&&ie.dataTransfer)try{ie.dataTransfer.dropEffect="copy"}catch{}return we&&d&&d(ie),!1},[d,R]),Y=w.useCallback(function(ie){ie.preventDefault(),ie.persist(),kn(ie);var we=ae.current.filter(function(rt){return O.current&&O.current.contains(rt)}),nt=we.indexOf(ie.target);nt!==-1&&we.splice(nt,1),ae.current=we,!(we.length>0)&&(F({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),$0(ie)&&u&&u(ie))},[O,u,R]),K=w.useCallback(function(ie,we){var nt=[],rt=[];ie.forEach(function(Rt){var it=P6(Rt,L),Mt=Px(it,2),Ci=Mt[0],Vu=Mt[1],eb=T6(Rt,o,s),Hv=Px(eb,2),tb=Hv[0],nb=Hv[1],rb=M?M(Rt):null;if(Ci&&tb&&!rb)nt.push(Rt);else{var ib=[Vu,nb];rb&&(ib=ib.concat(rb)),rt.push({file:Rt,errors:ib.filter(function(SB){return SB})})}}),(!a&&nt.length>1||a&&l>=1&&nt.length>l)&&(nt.forEach(function(Rt){rt.push({file:Rt,errors:[eae]})}),nt.splice(0)),F({acceptedFiles:nt,fileRejections:rt,type:"setFiles"}),h&&h(nt,rt,we),rt.length>0&&g&&g(rt,we),nt.length>0&&p&&p(nt,we)},[F,a,L,o,s,l,h,p,g,M]),he=w.useCallback(function(ie){ie.preventDefault(),ie.persist(),kn(ie),ae.current=[],$0(ie)&&Promise.resolve(i(ie)).then(function(we){n_(ie)&&!R||K(we,ie)}).catch(function(we){return ne(we)}),F({type:"reset"})},[i,K,ne,R]),te=w.useCallback(function(){if(J.current){F({type:"openDialog"}),z();var ie={multiple:a,types:N};window.showOpenFilePicker(ie).then(function(we){return i(we)}).then(function(we){K(we,null),F({type:"closeDialog"})}).catch(function(we){lae(we)?(W(we),F({type:"closeDialog"})):cae(we)?(J.current=!1,U.current?(U.current.value=null,U.current.click()):ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ne(we)});return}U.current&&(F({type:"openDialog"}),z(),U.current.value=null,U.current.click())},[F,z,W,y,K,ne,N,a]),H=w.useCallback(function(ie){!O.current||!O.current.isEqualNode(ie.target)||(ie.key===" "||ie.key==="Enter"||ie.keyCode===32||ie.keyCode===13)&&(ie.preventDefault(),te())},[O,te]),V=w.useCallback(function(){F({type:"focus"})},[]),re=w.useCallback(function(){F({type:"blur"})},[]),ve=w.useCallback(function(){S||(iae()?setTimeout(te,0):te())},[S,te]),Pe=function(we){return r?null:we},Ue=function(we){return E?null:Pe(we)},kt=function(we){return k?null:Pe(we)},kn=function(we){R&&we.stopPropagation()},wt=w.useMemo(function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=ie.refKey,nt=we===void 0?"ref":we,rt=ie.role,Rt=ie.onKeyDown,it=ie.onFocus,Mt=ie.onBlur,Ci=ie.onClick,Vu=ie.onDragEnter,eb=ie.onDragOver,Hv=ie.onDragLeave,tb=ie.onDrop,nb=r_(ie,hae);return Et(Et(iA({onKeyDown:Ue(ls(Rt,H)),onFocus:Ue(ls(it,V)),onBlur:Ue(ls(Mt,re)),onClick:Pe(ls(Ci,ve)),onDragEnter:kt(ls(Vu,Q)),onDragOver:kt(ls(eb,me)),onDragLeave:kt(ls(Hv,Y)),onDrop:kt(ls(tb,he)),role:typeof rt=="string"&&rt!==""?rt:"presentation"},nt,O),!r&&!E?{tabIndex:0}:{}),nb)}},[O,H,V,re,ve,Q,me,Y,he,E,k,r]),Cr=w.useCallback(function(ie){ie.stopPropagation()},[]),fn=w.useMemo(function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=ie.refKey,nt=we===void 0?"ref":we,rt=ie.onChange,Rt=ie.onClick,it=r_(ie,fae),Mt=iA({accept:L,multiple:a,type:"file",style:{display:"none"},onChange:Pe(ls(rt,he)),onClick:Pe(ls(Rt,Cr)),tabIndex:-1},nt,U);return Et(Et({},Mt),it)}},[U,t,a,he,r]);return Et(Et({},D),{},{isFocused:q&&!r,getRootProps:wt,getInputProps:fn,rootRef:O,inputRef:U,open:Pe(te)})}function xae(n,e){switch(e.type){case"focus":return Et(Et({},n),{},{isFocused:!0});case"blur":return Et(Et({},n),{},{isFocused:!1});case"openDialog":return Et(Et({},sA),{},{isFileDialogActive:!0});case"closeDialog":return Et(Et({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Et(Et({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Et(Et({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Et({},sA);default:return n}}function FL(){}$2.workerSrc=new URL("/Measure.app/assets/pdf.worker.min-DGf6LXVo.mjs",import.meta.url).toString();const B0={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8}},Sae={animate:{transition:{staggerChildren:.1}}},Eae=()=>{const n=Ou(),e=wf(),t=Tl(),r=ft(Y=>Y.auth.session),{uploadFile:i,downloadFile:s,deleteFile:o,openFile:a,getAllFiles:l}=O1(),[c,u]=w.useState([]),[d,h]=w.useState(!1),[p,g]=w.useState(null),[m,_]=w.useState({}),[y,b]=w.useState([]),[x,S]=w.useState({}),[E,k]=w.useState({}),[R,T]=w.useState({}),[M,L]=w.useState({}),[N,z]=w.useState(!1),[W,O]=w.useState(!1),U=w.useMemo(()=>({cMapUrl:"https://cdn.jsdelivr.net/npm/pdfjs-dist@3.4.120/cmaps/",cMapPacked:!0}),[]),B=w.useCallback(({numPages:Y})=>{console.log(`Document loaded, number of pages: ${Y}`)},[]),j=w.useCallback(Y=>new Promise(K=>{S(te=>({...te,[Y]:!0})),k(te=>({...te,[Y]:!1})),T(te=>({...te,[Y]:!1}));const he=localStorage.getItem(`fileData_${Y}`);if(console.log(`Loading image: ${Y}`),console.log(`fileData exists: ${!!he}`),he){const te=new Image;te.onload=()=>{K(he),S(H=>({...H,[Y]:!1}))},te.onerror=()=>{console.error(`Could not load image: ${Y}`),k(H=>({...H,[Y]:!0})),S(H=>({...H,[Y]:!1})),setTimeout(()=>{T(H=>({...H,[Y]:!0}))},2e3),K(null)},te.src=he}else console.error(`No file data found for: ${Y}`),k(te=>({...te,[Y]:!0})),S(te=>({...te,[Y]:!1})),setTimeout(()=>{T(te=>({...te,[Y]:!0}))},2e3),K(null)}),[]);w.useEffect(()=>{(async()=>{const K=l();console.log("Saved files:",K);const he={},te=[];for(const H of K){const V=await j(H);V?he[H]=V:te.push(H)}_(he),b(te),u(K)})()},[l,j]),w.useEffect(()=>{const Y={};return Object.entries(E).forEach(([K,he])=>{he&&!M[K]&&(Y[K]=setTimeout(()=>{L(te=>({...te,[K]:!0}))},2e3))}),()=>{Object.values(Y).forEach(K=>clearTimeout(K))}},[E,M]);const D=w.useCallback(Y=>{Y.forEach(K=>{i(K),u(he=>[...he,K.name])})},[i]),{getRootProps:F,getInputProps:q,isDragActive:ee}=L6({onDrop:D,accept:{"image/*":[],"application/pdf":[]}}),J=w.useCallback(Y=>{g(Y),h(!0)},[]),le=w.useCallback(()=>{p&&(o(p),u(Y=>Y.filter(K=>K!==p)),h(!1),g(null))},[o,p]),ae=w.useCallback(Y=>{a(Y),n("/canvas")},[a,n]),xe=w.useCallback(Y=>{const K=localStorage.getItem(`fileData_${Y}`);K?s(Y,K):console.error(`No data found for the file: ${Y}`)},[s]),ne=w.useCallback((Y,K)=>x[K]?v.jsx("div",{children:"Loading..."}):E[K]?M[K]?v.jsx("div",{children:"Error loading"}):v.jsx("div",{children:"Loading..."}):K.toLowerCase().endsWith(".pdf")?v.jsx($$,{file:Y,options:U,onLoadSuccess:B,children:v.jsx("div",{style:{width:"100%",height:"100%",overflow:"hidden"},children:v.jsx(q$,{pageNumber:1,width:100,height:100,renderTextLayer:!1,renderAnnotationLayer:!1,scale:5})})}):v.jsx("img",{src:Y,alt:K,style:{width:"100%",height:"100%",objectFit:"cover"}}),[x,E,M,U,B]),Q=w.useCallback((Y,K)=>{const he=localStorage.getItem(`fileData_${Y}`);return localStorage.getItem(`fileType_${Y}`),v.jsx("div",{className:"relative",children:v.jsxs(G4,{className:"w-full aspect-square overflow-hidden cursor-pointer bg-white border border-gray-200",onClick:()=>ae(Y),children:[v.jsx(q4,{className:"p-0 w-full h-full relative",children:he?v.jsx("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",children:ne(he,Y)}):v.jsxs("div",{className:"w-full h-full bg-red-100 flex items-center justify-center",children:[v.jsx(IJ,{className:"h-12 w-12 text-red-500"}),v.jsx("p",{className:"text-red-500 text-center ml-2",children:"Error loading file"})]})}),v.jsxs(K4,{className:"absolute bottom-0 left-0 right-0 bg-white/70 backdrop-blur-sm p-2",children:[v.jsx("p",{className:"text-sm truncate flex-grow",children:Y}),v.jsxs(eT,{delayDuration:0,children:[v.jsxs(Rr,{children:[v.jsx(Mr,{asChild:!0,children:v.jsx(We,{variant:"ghost",size:"icon",className:"ml-2 aspect-square w-8",onClick:te=>{te.stopPropagation(),xe(Y)},children:v.jsx(Z4,{className:"h-4 w-4 text-gray-700"})})}),v.jsx(Fn,{children:v.jsx(dr,{side:"top",align:"center",className:"z-[9999]",children:je.download})})]}),v.jsxs(Rr,{children:[v.jsx(Mr,{asChild:!0,children:v.jsx(We,{variant:"ghost",size:"icon",className:"ml-2 aspect-square w-8",onClick:te=>{te.stopPropagation(),J(Y)},children:v.jsx(ej,{className:"h-4 w-4 text-gray-700"})})}),v.jsx(Fn,{children:v.jsx(dr,{side:"top",align:"center",className:"z-[9999]",children:je.deleteFile})})]})]})]})]})},`${Y}-${K}`)},[ae,ne]);w.useEffect(()=>{r||n("/auth",{replace:!0})},[r,n]),w.useEffect(()=>{r&&!W&&(new URLSearchParams(e.search).get("passwordReset")==="true"&&(z(!0),n("/gallery",{replace:!0})),O(!0))},[r,e,n,W]);const me=w.useCallback(async()=>{const{error:Y}=await ns.auth.signOut();Y?console.error("Error signing out:",Y):(t(mG()),n("/",{replace:!0}))},[t,n]);return v.jsx("div",{className:"flex flex-col min-h-screen w-full bg-gradient-to-br from-rose-50 via-white to-rose-100",children:r&&v.jsxs(v.Fragment,{children:[v.jsxs("header",{className:"px-4 lg:px-6 h-14 flex items-center justify-between backdrop-blur-md bg-white/30 fixed w-full z-50",children:[v.jsxs("a",{className:"flex items-center justify-center",href:"#",children:[v.jsx(kv,{className:"h-6 w-6 mr-2 text-rose-500"}),v.jsx("span",{className:"font-bold text-rose-500",children:"Measure.app Gallery"})]}),v.jsx(We,{variant:"ghost",onClick:me,className:"text-rose-500 hover:text-rose-700",children:"Log out"})]}),v.jsx("main",{className:"flex-1 w-full pt-14",children:v.jsx("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:v.jsxs(qe.div,{initial:"initial",animate:"animate",variants:Sae,className:"space-y-8",children:[v.jsx(qe.h1,{variants:B0,className:"text-4xl font-bold tracking-tighter text-center text-rose-500",children:"File Gallery"}),v.jsx(qe.div,{variants:B0,className:"max-w-xl mx-auto",children:v.jsxs("div",{...F(),className:`p-8 border-2 border-dashed rounded-lg text-center cursor-pointer transition-colors ${ee?"border-rose-500 bg-rose-50":"border-gray-300 hover:border-rose-500"}`,children:[v.jsx("input",{...q()}),v.jsx(J4,{className:"mx-auto h-12 w-12 text-gray-400"}),v.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Drag and drop some files here, or click to select files"}),v.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"(Only images and PDF files will be accepted)"})]})}),y.length>0&&v.jsxs(qe.div,{variants:B0,className:"mt-4 p-4 bg-yellow-100 rounded-md",children:[v.jsx("p",{className:"text-yellow-700",children:"Warning: Some files could not be loaded:"}),v.jsx("ul",{className:"list-disc list-inside",children:y.map((Y,K)=>v.jsx("li",{children:Y},K))})]}),v.jsx(qe.div,{variants:B0,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:c.map((Y,K)=>Q(Y,K))})]})})}),v.jsx(P2,{open:d,onOpenChange:h,children:v.jsxs(y1,{children:[v.jsxs(w1,{children:[v.jsx(_1,{children:je.deleteFile}),v.jsx(b1,{children:je.areYouSureDelete})]}),v.jsxs(T2,{children:[v.jsx(We,{onClick:()=>h(!1),children:je.cancel}),v.jsx(We,{onClick:le,children:je.deleteFile})]})]})}),v.jsx("footer",{className:"flex flex-col gap-2 sm:flex-row py-6 w-full shrink-0 items-center px-4 md:px-6 border-t",children:v.jsx("p",{className:"text-xs text-gray-500",children:" 2024 Measure.app. All rights reserved."})})]})})};var mi=function(n,e){return Number(n.toFixed(e))},Cae=function(n,e){return e},_t=function(n,e,t){t&&typeof t=="function"&&t(n,e)},Aae=function(n){return-Math.cos(n*Math.PI)/2+.5},Pae=function(n){return n},Tae=function(n){return n*n},kae=function(n){return n*(2-n)},Rae=function(n){return n<.5?2*n*n:-1+(4-2*n)*n},Mae=function(n){return n*n*n},Dae=function(n){return--n*n*n+1},Lae=function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},Iae=function(n){return n*n*n*n},Oae=function(n){return 1- --n*n*n*n},Nae=function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},Fae=function(n){return n*n*n*n*n},jae=function(n){return 1+--n*n*n*n*n},$ae=function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n},I6={easeOut:Aae,linear:Pae,easeInQuad:Tae,easeOutQuad:kae,easeInOutQuad:Rae,easeInCubic:Mae,easeOutCubic:Dae,easeInOutCubic:Lae,easeInQuart:Iae,easeOutQuart:Oae,easeInOutQuart:Nae,easeInQuint:Fae,easeOutQuint:jae,easeInOutQuint:$ae},O6=function(n){typeof n=="number"&&cancelAnimationFrame(n)},Ts=function(n){n.mounted&&(O6(n.animation),n.animate=!1,n.animation=null,n.velocity=null)};function N6(n,e,t,r){if(n.mounted){var i=new Date().getTime(),s=1;Ts(n),n.animation=function(){if(!n.mounted)return O6(n.animation);var o=new Date().getTime()-i,a=o/t,l=I6[e],c=l(a);o>=t?(r(s),n.animation=null):n.animation&&(r(c),requestAnimationFrame(n.animation))},requestAnimationFrame(n.animation)}}function Bae(n){var e=n.scale,t=n.positionX,r=n.positionY;return!(Number.isNaN(e)||Number.isNaN(t)||Number.isNaN(r))}function Il(n,e,t,r){var i=Bae(e);if(!(!n.mounted||!i)){var s=n.setTransformState,o=n.transformState,a=o.scale,l=o.positionX,c=o.positionY,u=e.scale-a,d=e.positionX-l,h=e.positionY-c;t===0?s(e.scale,e.positionX,e.positionY):N6(n,r,t,function(p){var g=a+u*p,m=l+d*p,_=c+h*p;s(g,m,_)})}}function zae(n,e,t){var r=n.offsetWidth,i=n.offsetHeight,s=e.offsetWidth,o=e.offsetHeight,a=s*t,l=o*t,c=r-a,u=i-l;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:a,newDiffWidth:c,newContentHeight:l,newDiffHeight:u}}var Uae=function(n,e,t,r,i,s,o){var a=n>e?t*(o?1:.5):0,l=r>i?s*(o?1:.5):0,c=n-e-a,u=a,d=r-i-l,h=l;return{minPositionX:c,maxPositionX:u,minPositionY:d,maxPositionY:h}},nT=function(n,e){var t=n.wrapperComponent,r=n.contentComponent,i=n.setup.centerZoomedOut;if(!t||!r)throw new Error("Components are not mounted");var s=zae(t,r,e),o=s.wrapperWidth,a=s.wrapperHeight,l=s.newContentWidth,c=s.newDiffWidth,u=s.newContentHeight,d=s.newDiffHeight,h=Uae(o,l,c,a,u,d,!!i);return h},oA=function(n,e,t,r){return r?n<e?mi(e,2):n>t?mi(t,2):mi(n,2):mi(n,2)},df=function(n,e){var t=nT(n,e);return n.bounds=t,t};function jv(n,e,t,r,i,s,o){var a=t.minPositionX,l=t.minPositionY,c=t.maxPositionX,u=t.maxPositionY,d=0,h=0;o&&(d=i,h=s);var p=oA(n,a-d,c+d,r),g=oA(e,l-h,u+h,r);return{x:p,y:g}}function V1(n,e,t,r,i,s){var o=n.transformState,a=o.scale,l=o.positionX,c=o.positionY,u=r-a;if(typeof e!="number"||typeof t!="number")return console.error("Mouse X and Y position were not provided!"),{x:l,y:c};var d=l-e*u,h=c-t*u,p=jv(d,h,i,s,0,0,null);return p}function $v(n,e,t,r,i){var s=i?r:0,o=e-s;return!Number.isNaN(t)&&n>=t?t:!Number.isNaN(e)&&n<=o?o:n}var jL=function(n,e){var t=n.setup.panning.excluded,r=n.isInitialized,i=n.wrapperComponent,s=e.target,o="shadowRoot"in s&&"composedPath"in e,a=o?e.composedPath().some(function(u){return u instanceof Element?i==null?void 0:i.contains(u):!1}):i==null?void 0:i.contains(s),l=r&&s&&a;if(!l)return!1;var c=H1(s,t);return!c},$L=function(n){var e=n.isInitialized,t=n.isPanning,r=n.setup,i=r.panning.disabled,s=e&&t&&!i;return!!s},Vae=function(n,e){var t=n.transformState,r=t.positionX,i=t.positionY;n.isPanning=!0;var s=e.clientX,o=e.clientY;n.startCoords={x:s-r,y:o-i}},Hae=function(n,e){var t=e.touches,r=n.transformState,i=r.positionX,s=r.positionY;n.isPanning=!0;var o=t.length===1;if(o){var a=t[0].clientX,l=t[0].clientY;n.startCoords={x:a-i,y:l-s}}};function Wae(n){var e=n.transformState,t=e.positionX,r=e.positionY,i=e.scale,s=n.setup,o=s.disabled,a=s.limitToBounds,l=s.centerZoomedOut,c=n.wrapperComponent;if(!(o||!c||!n.bounds)){var u=n.bounds,d=u.maxPositionX,h=u.minPositionX,p=u.maxPositionY,g=u.minPositionY,m=t>d||t<h,_=r>p||r<g,y=t>d?c.offsetWidth:n.setup.minPositionX||0,b=r>p?c.offsetHeight:n.setup.minPositionY||0,x=V1(n,y,b,i,n.bounds,a||l),S=x.x,E=x.y;return{scale:i,positionX:m?S:t,positionY:_?E:r}}}function F6(n,e,t,r,i){var s=n.setup.limitToBounds,o=n.wrapperComponent,a=n.bounds,l=n.transformState,c=l.scale,u=l.positionX,d=l.positionY;if(!(o===null||a===null||e===u&&t===d)){var h=jv(e,t,a,s,r,i,o),p=h.x,g=h.y;n.setTransformState(c,p,g)}}var Gae=function(n,e,t){var r=n.startCoords,i=n.transformState,s=n.setup.panning,o=s.lockAxisX,a=s.lockAxisY,l=i.positionX,c=i.positionY;if(!r)return{x:l,y:c};var u=e-r.x,d=t-r.y,h=o?l:u,p=a?c:d;return{x:h,y:p}},xl=function(n,e){var t=n.setup,r=n.transformState,i=r.scale,s=t.minScale,o=t.disablePadding;return e>0&&i>=s&&!o?e:0},qae=function(n){var e=n.mounted,t=n.setup,r=t.disabled,i=t.velocityAnimation,s=n.transformState.scale,o=i.disabled,a=!o||s>1||!r||e;return!!a},Kae=function(n){var e=n.mounted,t=n.velocity,r=n.bounds,i=n.setup,s=i.disabled,o=i.velocityAnimation,a=n.transformState.scale,l=o.disabled,c=!l||a>1||!s||e;return!(!c||!t||!r)};function Yae(n,e){var t=n.setup.velocityAnimation,r=t.equalToMove,i=t.animationTime,s=t.sensitivity;return r?i*e*s:i}function BL(n,e,t,r,i,s,o,a,l,c){if(i){if(e>o&&t>o){var u=o+(n-o)*c;return u>l?l:u<o?o:u}if(e<s&&t<s){var u=s+(n-s)*c;return u<a?a:u>s?s:u}}return r?e:oA(n,s,o,i)}function Xae(n,e){var t=1;return e?Math.min(t,n.offsetWidth/window.innerWidth):t}function Qae(n,e){var t=qae(n);if(t){var r=n.lastMousePosition,i=n.velocityTime,s=n.setup,o=n.wrapperComponent,a=s.velocityAnimation.equalToMove,l=Date.now();if(r&&i&&o){var c=Xae(o,a),u=e.x-r.x,d=e.y-r.y,h=u/c,p=d/c,g=l-i,m=u*u+d*d,_=Math.sqrt(m)/g;n.velocity={velocityX:h,velocityY:p,total:_}}n.lastMousePosition=e,n.velocityTime=l}}function Zae(n){var e=n.velocity,t=n.bounds,r=n.setup,i=n.wrapperComponent,s=Kae(n);if(!(!s||!e||!t||!i)){var o=e.velocityX,a=e.velocityY,l=e.total,c=t.maxPositionX,u=t.minPositionX,d=t.maxPositionY,h=t.minPositionY,p=r.limitToBounds,g=r.alignmentAnimation,m=r.zoomAnimation,_=r.panning,y=_.lockAxisY,b=_.lockAxisX,x=m.animationType,S=g.sizeX,E=g.sizeY,k=g.velocityAlignmentTime,R=k,T=Yae(n,l),M=Math.max(T,R),L=xl(n,S),N=xl(n,E),z=L*i.offsetWidth/100,W=N*i.offsetHeight/100,O=c+z,U=u-z,B=d+W,j=h-W,D=n.transformState,F=new Date().getTime();N6(n,x,M,function(q){var ee=n.transformState,J=ee.scale,le=ee.positionX,ae=ee.positionY,xe=new Date().getTime()-F,ne=xe/R,Q=I6[g.animationType],me=1-Q(Math.min(1,ne)),Y=1-q,K=le+o*Y,he=ae+a*Y,te=BL(K,D.positionX,le,b,p,u,c,U,O,me),H=BL(he,D.positionY,ae,y,p,h,d,j,B,me);(le!==K||ae!==he)&&n.setTransformState(J,te,H)})}}function zL(n,e){var t=n.transformState.scale;Ts(n),df(n,t),window.TouchEvent!==void 0&&e instanceof TouchEvent?Hae(n,e):Vae(n,e)}function j6(n){var e=n.transformState.scale,t=n.setup,r=t.minScale,i=t.alignmentAnimation,s=i.disabled,o=i.sizeX,a=i.sizeY,l=i.animationTime,c=i.animationType,u=s||e<r||!o&&!a;if(!u){var d=Wae(n);d&&Il(n,d,l,c)}}function UL(n,e,t){var r=n.startCoords,i=n.setup,s=i.alignmentAnimation,o=s.sizeX,a=s.sizeY;if(r){var l=Gae(n,e,t),c=l.x,u=l.y,d=xl(n,o),h=xl(n,a);Qae(n,{x:c,y:u}),F6(n,c,u,d,h)}}function Jae(n){if(n.isPanning){var e=n.setup.panning.velocityDisabled,t=n.velocity,r=n.wrapperComponent,i=n.contentComponent;n.isPanning=!1,n.animate=!1,n.animation=null;var s=r==null?void 0:r.getBoundingClientRect(),o=i==null?void 0:i.getBoundingClientRect(),a=(s==null?void 0:s.width)||0,l=(s==null?void 0:s.height)||0,c=(o==null?void 0:o.width)||0,u=(o==null?void 0:o.height)||0,d=a<c||l<u,h=!e&&t&&(t==null?void 0:t.total)>.1&&d;h?Zae(n):j6(n)}}function rT(n,e,t,r){var i=n.setup,s=i.minScale,o=i.maxScale,a=i.limitToBounds,l=$v(mi(e,2),s,o,0,!1),c=df(n,l),u=V1(n,t,r,l,c,a),d=u.x,h=u.y;return{scale:l,positionX:d,positionY:h}}function $6(n,e,t){var r=n.transformState.scale,i=n.wrapperComponent,s=n.setup,o=s.minScale,a=s.limitToBounds,l=s.zoomAnimation,c=l.disabled,u=l.animationTime,d=l.animationType,h=c||r>=o;if((r>=1||a)&&j6(n),!(h||!i||!n.mounted)){var p=e||i.offsetWidth/2,g=t||i.offsetHeight/2,m=rT(n,o,p,g);m&&Il(n,m,u,d)}}var al=function(){return al=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},al.apply(this,arguments)};function VL(n,e,t){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var z0={previousScale:1,scale:1,positionX:0,positionY:0},Qf={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},aA={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},B6=function(n){var e,t,r,i;return{previousScale:(e=n.initialScale)!==null&&e!==void 0?e:z0.scale,scale:(t=n.initialScale)!==null&&t!==void 0?t:z0.scale,positionX:(r=n.initialPositionX)!==null&&r!==void 0?r:z0.positionX,positionY:(i=n.initialPositionY)!==null&&i!==void 0?i:z0.positionY}},HL=function(n){var e=al({},Qf);return Object.keys(n).forEach(function(t){var r=typeof n[t]<"u",i=typeof Qf[t]<"u";if(i&&r){var s=Object.prototype.toString.call(Qf[t]),o=s==="[object Object]",a=s==="[object Array]";o?e[t]=al(al({},Qf[t]),n[t]):a?e[t]=VL(VL([],Qf[t],!0),n[t]):e[t]=n[t]}}),e},z6=function(n,e,t){var r=n.transformState.scale,i=n.wrapperComponent,s=n.setup,o=s.maxScale,a=s.minScale,l=s.zoomAnimation,c=s.smooth,u=l.size;if(!i)throw new Error("Wrapper is not mounted");var d=c?r*Math.exp(e*t):r+e*t,h=$v(mi(d,3),a,o,u,!1);return h};function U6(n,e,t,r,i){var s=n.wrapperComponent,o=n.transformState,a=o.scale,l=o.positionX,c=o.positionY;if(!s)return console.error("No WrapperComponent found");var u=s.offsetWidth,d=s.offsetHeight,h=(u/2-l)/a,p=(d/2-c)/a,g=z6(n,e,t),m=rT(n,g,h,p);if(!m)return console.error("Error during zoom event. New transformation state was not calculated.");Il(n,m,r,i)}function V6(n,e,t,r){var i=n.setup,s=n.wrapperComponent,o=i.limitToBounds,a=B6(n.props),l=n.transformState,c=l.scale,u=l.positionX,d=l.positionY;if(s){var h=nT(n,a.scale),p=jv(a.positionX,a.positionY,h,o,0,0,s),g={scale:a.scale,positionX:p.x,positionY:p.y};c===a.scale&&u===a.positionX&&d===a.positionY||(r==null||r(),Il(n,g,e,t))}}function ele(n,e,t,r){var i=n.getBoundingClientRect(),s=e.getBoundingClientRect(),o=t.getBoundingClientRect(),a=s.x*r.scale,l=s.y*r.scale;return{x:(i.x-o.x+a)/r.scale,y:(i.y-o.y+l)/r.scale}}function tle(n,e,t){var r=n.wrapperComponent,i=n.contentComponent,s=n.transformState,o=n.setup,a=o.limitToBounds,l=o.minScale,c=o.maxScale;if(!r||!i)return s;var u=r.getBoundingClientRect(),d=e.getBoundingClientRect(),h=ele(e,r,i,s),p=h.x,g=h.y,m=d.width/s.scale,_=d.height/s.scale,y=r.offsetWidth/m,b=r.offsetHeight/_,x=$v(t||Math.min(y,b),l,c,0,!1),S=(u.width-m*x)/2,E=(u.height-_*x)/2,k=(u.left-p)*x+S,R=(u.top-g)*x+E,T=nT(n,x),M=jv(k,R,T,a,0,0,r),L=M.x,N=M.y;return{positionX:L,positionY:N,scale:x}}var nle=function(n){return function(e,t,r){e===void 0&&(e=.5),t===void 0&&(t=300),r===void 0&&(r="easeOut"),U6(n,1,e,t,r)}},rle=function(n){return function(e,t,r){e===void 0&&(e=.5),t===void 0&&(t=300),r===void 0&&(r="easeOut"),U6(n,-1,e,t,r)}},ile=function(n){return function(e,t,r,i,s){i===void 0&&(i=300),s===void 0&&(s="easeOut");var o=n.transformState,a=o.positionX,l=o.positionY,c=o.scale,u=n.wrapperComponent,d=n.contentComponent,h=n.setup.disabled;if(!(h||!u||!d)){var p={positionX:Number.isNaN(e)?a:e,positionY:Number.isNaN(t)?l:t,scale:Number.isNaN(r)?c:r};Il(n,p,i,s)}}},sle=function(n){return function(e,t){e===void 0&&(e=200),t===void 0&&(t="easeOut"),V6(n,e,t)}},ole=function(n){return function(e,t,r){t===void 0&&(t=200),r===void 0&&(r="easeOut");var i=n.transformState,s=n.wrapperComponent,o=n.contentComponent;if(s&&o){var a=W6(e||i.scale,s,o);Il(n,a,t,r)}}},ale=function(n){return function(e,t,r,i){r===void 0&&(r=600),i===void 0&&(i="easeOut"),Ts(n);var s=n.wrapperComponent,o=typeof e=="string"?document.getElementById(e):e;if(s&&o&&s.contains(o)){var a=tle(n,o,t);Il(n,a,r,i)}}},i_=function(n){return{instance:n,zoomIn:nle(n),zoomOut:rle(n),setTransform:ile(n),resetTransform:sle(n),centerView:ole(n),zoomToElement:ale(n)}},H6=function(n){return{instance:n,state:n.transformState}},at=function(n){var e={};return Object.assign(e,H6(n)),Object.assign(e,i_(n)),e},Tx=!1;function kx(){try{var n={get passive(){return Tx=!0,!1}};return n}catch{return Tx=!1,Tx}}var U0=".".concat(aA.wrapperClass),H1=function(n,e){return e.some(function(t){return n.matches("".concat(U0," ").concat(t,", ").concat(U0," .").concat(t,", ").concat(U0," ").concat(t," *, ").concat(U0," .").concat(t," *"))})},lA=function(n){n&&clearTimeout(n)},lle=function(n,e,t){return"translate(".concat(n,"px, ").concat(e,"px) scale(").concat(t,")")},W6=function(n,e,t){var r=t.offsetWidth*n,i=t.offsetHeight*n,s=(e.offsetWidth-r)/2,o=(e.offsetHeight-i)/2;return{scale:n,positionX:s,positionY:o}};function cle(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ule=function(n,e){var t=n.setup.wheel,r=t.disabled,i=t.wheelDisabled,s=t.touchPadDisabled,o=t.excluded,a=n.isInitialized,l=n.isPanning,c=e.target,u=a&&!l&&!r&&c;if(!u||i&&!e.ctrlKey||s&&e.ctrlKey)return!1;var d=H1(c,o);return!d},dle=function(n){return n?n.deltaY<0?1:-1:0};function hle(n,e){var t=dle(n),r=Cae(e,t);return r}function G6(n,e,t){var r=e.getBoundingClientRect(),i=0,s=0;if("clientX"in n)i=(n.clientX-r.left)/t,s=(n.clientY-r.top)/t;else{var o=n.touches[0];i=(o.clientX-r.left)/t,s=(o.clientY-r.top)/t}return(Number.isNaN(i)||Number.isNaN(s))&&console.error("No mouse or touch offset found"),{x:i,y:s}}var fle=function(n,e,t,r,i){var s=n.transformState.scale,o=n.wrapperComponent,a=n.setup,l=a.maxScale,c=a.minScale,u=a.zoomAnimation,d=a.disablePadding,h=u.size,p=u.disabled;if(!o)throw new Error("Wrapper is not mounted");var g=s+e*t,m=r?!1:!p,_=$v(mi(g,3),c,l,h,m&&!d);return _},ple=function(n,e){var t=n.previousWheelEvent,r=n.transformState.scale,i=n.setup,s=i.maxScale,o=i.minScale;return t?r<s||r>o||Math.sign(t.deltaY)!==Math.sign(e.deltaY)||t.deltaY>0&&t.deltaY<e.deltaY||t.deltaY<0&&t.deltaY>e.deltaY||Math.sign(t.deltaY)!==Math.sign(e.deltaY):!1},gle=function(n,e){var t=n.setup.pinch,r=t.disabled,i=t.excluded,s=n.isInitialized,o=e.target,a=s&&!r&&o;if(!a)return!1;var l=H1(o,i);return!l},mle=function(n){var e=n.setup.pinch.disabled,t=n.isInitialized,r=n.pinchStartDistance,i=t&&!e&&r;return!!i},vle=function(n,e,t){var r=t.getBoundingClientRect(),i=n.touches,s=mi(i[0].clientX-r.left,5),o=mi(i[0].clientY-r.top,5),a=mi(i[1].clientX-r.left,5),l=mi(i[1].clientY-r.top,5);return{x:(s+a)/2/e,y:(o+l)/2/e}},q6=function(n){return Math.sqrt(Math.pow(n.touches[0].pageX-n.touches[1].pageX,2)+Math.pow(n.touches[0].pageY-n.touches[1].pageY,2))},yle=function(n,e){var t=n.pinchStartScale,r=n.pinchStartDistance,i=n.setup,s=i.maxScale,o=i.minScale,a=i.zoomAnimation,l=i.disablePadding,c=a.size,u=a.disabled;if(!t||r===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return n.transformState.scale;var d=e/r,h=d*t;return $v(mi(h,2),o,s,c,!u&&!l)},wle=160,_le=100,ble=function(n,e){var t=n.props,r=t.onWheelStart,i=t.onZoomStart;n.wheelStopEventTimer||(Ts(n),_t(at(n),e,r),_t(at(n),e,i))},xle=function(n,e){var t=n.props,r=t.onWheel,i=t.onZoom,s=n.contentComponent,o=n.setup,a=n.transformState,l=a.scale,c=o.limitToBounds,u=o.centerZoomedOut,d=o.zoomAnimation,h=o.wheel,p=o.disablePadding,g=o.smooth,m=d.size,_=d.disabled,y=h.step,b=h.smoothStep;if(!s)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var x=hle(e,null),S=g?b*Math.abs(e.deltaY):y,E=fle(n,x,S,!e.ctrlKey);if(l!==E){var k=df(n,E),R=G6(e,s,l),T=_||m===0||u||p,M=c&&T,L=V1(n,R.x,R.y,E,k,M),N=L.x,z=L.y;n.previousWheelEvent=e,n.setTransformState(E,N,z),_t(at(n),e,r),_t(at(n),e,i)}},Sle=function(n,e){var t=n.props,r=t.onWheelStop,i=t.onZoomStop;lA(n.wheelAnimationTimer),n.wheelAnimationTimer=setTimeout(function(){n.mounted&&($6(n,e.x,e.y),n.wheelAnimationTimer=null)},_le);var s=ple(n,e);s&&(lA(n.wheelStopEventTimer),n.wheelStopEventTimer=setTimeout(function(){n.mounted&&(n.wheelStopEventTimer=null,_t(at(n),e,r),_t(at(n),e,i))},wle))},K6=function(n){for(var e=0,t=0,r=0;r<2;r+=1)e+=n.touches[r].clientX,t+=n.touches[r].clientY;var i=e/2,s=t/2;return{x:i,y:s}},Ele=function(n,e){var t=q6(e);n.pinchStartDistance=t,n.lastDistance=t,n.pinchStartScale=n.transformState.scale,n.isPanning=!1;var r=K6(e);n.pinchLastCenterX=r.x,n.pinchLastCenterY=r.y,Ts(n)},Cle=function(n,e){var t=n.contentComponent,r=n.pinchStartDistance,i=n.wrapperComponent,s=n.transformState.scale,o=n.setup,a=o.limitToBounds,l=o.centerZoomedOut,c=o.zoomAnimation,u=o.alignmentAnimation,d=c.disabled,h=c.size;if(!(r===null||!t)){var p=vle(e,s,t);if(!(!Number.isFinite(p.x)||!Number.isFinite(p.y))){var g=q6(e),m=yle(n,g),_=K6(e),y=_.x-(n.pinchLastCenterX||0),b=_.y-(n.pinchLastCenterY||0);if(!(m===s&&y===0&&b===0)){n.pinchLastCenterX=_.x,n.pinchLastCenterY=_.y;var x=df(n,m),S=d||h===0||l,E=a&&S,k=V1(n,p.x,p.y,m,x,E),R=k.x,T=k.y;n.pinchMidpoint=p,n.lastDistance=g;var M=u.sizeX,L=u.sizeY,N=xl(n,M),z=xl(n,L),W=R+y,O=T+b,U=jv(W,O,x,a,N,z,i),B=U.x,j=U.y;n.setTransformState(m,B,j)}}}},Ale=function(n){var e=n.pinchMidpoint;n.velocity=null,n.lastDistance=null,n.pinchMidpoint=null,n.pinchStartScale=null,n.pinchStartDistance=null,$6(n,e==null?void 0:e.x,e==null?void 0:e.y)},Y6=function(n,e){var t=n.props.onZoomStop,r=n.setup.doubleClick.animationTime;lA(n.doubleClickStopEventTimer),n.doubleClickStopEventTimer=setTimeout(function(){n.doubleClickStopEventTimer=null,_t(at(n),e,t)},r)},Ple=function(n,e){var t=n.props,r=t.onZoomStart,i=t.onZoom,s=n.setup.doubleClick,o=s.animationTime,a=s.animationType;_t(at(n),e,r),V6(n,o,a,function(){return _t(at(n),e,i)}),Y6(n,e)};function Tle(n,e){return n==="toggle"?e===1?1:-1:n==="zoomOut"?-1:1}function kle(n,e){var t=n.setup,r=n.doubleClickStopEventTimer,i=n.transformState,s=n.contentComponent,o=i.scale,a=n.props,l=a.onZoomStart,c=a.onZoom,u=t.doubleClick,d=u.disabled,h=u.mode,p=u.step,g=u.animationTime,m=u.animationType;if(!d&&!r){if(h==="reset")return Ple(n,e);if(!s)return console.error("No ContentComponent found");var _=Tle(h,n.transformState.scale),y=z6(n,_,p);if(o!==y){_t(at(n),e,l);var b=G6(e,s,o),x=rT(n,y,b.x,b.y);if(!x)return console.error("Error during zoom event. New transformation state was not calculated.");_t(at(n),e,c),Il(n,x,g,m),Y6(n,e)}}}var Rle=function(n,e){var t=n.isInitialized,r=n.setup,i=n.wrapperComponent,s=r.doubleClick,o=s.disabled,a=s.excluded,l=e.target,c=i==null?void 0:i.contains(l),u=t&&l&&c&&!o;if(!u)return!1;var d=H1(l,a);return!d},Mle=function(){function n(e){var t=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(r){t.props=r,df(t,t.transformState.scale),t.setup=HL(r)},this.initializeWindowEvents=function(){var r,i,s=kx(),o=(r=t.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,a=o==null?void 0:o.defaultView;(i=t.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",t.onWheelPanning,s),a==null||a.addEventListener("mousedown",t.onPanningStart,s),a==null||a.addEventListener("mousemove",t.onPanning,s),a==null||a.addEventListener("mouseup",t.onPanningStop,s),o==null||o.addEventListener("mouseleave",t.clearPanning,s),a==null||a.addEventListener("keyup",t.setKeyUnPressed,s),a==null||a.addEventListener("keydown",t.setKeyPressed,s)},this.cleanupWindowEvents=function(){var r,i,s=kx(),o=(r=t.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,a=o==null?void 0:o.defaultView;a==null||a.removeEventListener("mousedown",t.onPanningStart,s),a==null||a.removeEventListener("mousemove",t.onPanning,s),a==null||a.removeEventListener("mouseup",t.onPanningStop,s),o==null||o.removeEventListener("mouseleave",t.clearPanning,s),a==null||a.removeEventListener("keyup",t.setKeyUnPressed,s),a==null||a.removeEventListener("keydown",t.setKeyPressed,s),document.removeEventListener("mouseleave",t.clearPanning,s),Ts(t),(i=t.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(r){var i=kx();r.addEventListener("wheel",t.onWheelZoom,i),r.addEventListener("dblclick",t.onDoubleClick,i),r.addEventListener("touchstart",t.onTouchPanningStart,i),r.addEventListener("touchmove",t.onTouchPanning,i),r.addEventListener("touchend",t.onTouchPanningStop,i)},this.handleInitialize=function(r){var i=t.setup.centerOnInit;t.applyTransformation(),t.onInitCallbacks.forEach(function(s){return s(at(t))}),i&&(t.setCenter(),t.observer=new ResizeObserver(function(){var s,o=r.offsetWidth,a=r.offsetHeight;(o>0||a>0)&&(t.onInitCallbacks.forEach(function(l){return l(at(t))}),t.setCenter(),(s=t.observer)===null||s===void 0||s.disconnect())}),setTimeout(function(){var s;(s=t.observer)===null||s===void 0||s.disconnect()},5e3),t.observer.observe(r))},this.onWheelZoom=function(r){var i=t.setup.disabled;if(!i){var s=ule(t,r);if(s){var o=t.isPressingKeys(t.setup.wheel.activationKeys);o&&(ble(t,r),xle(t,r),Sle(t,r))}}},this.onWheelPanning=function(r){var i=t.setup,s=i.disabled,o=i.wheel,a=i.panning;if(!(!t.wrapperComponent||!t.contentComponent||s||!o.wheelDisabled||a.disabled||!a.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var l=t.transformState,c=l.positionX,u=l.positionY,d=c-r.deltaX,h=u-r.deltaY,p=a.lockAxisX?c:d,g=a.lockAxisY?u:h,m=t.setup.alignmentAnimation,_=m.sizeX,y=m.sizeY,b=xl(t,_),x=xl(t,y);p===c&&g===u||F6(t,p,g,b,x)}},this.onPanningStart=function(r){var i=t.setup.disabled,s=t.props.onPanningStart;if(!i){var o=jL(t,r);if(o){var a=t.isPressingKeys(t.setup.panning.activationKeys);a&&(r.button===0&&!t.setup.panning.allowLeftClickPan||r.button===1&&!t.setup.panning.allowMiddleClickPan||r.button===2&&!t.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),Ts(t),zL(t,r),_t(at(t),r,s)))}}},this.onPanning=function(r){var i=t.setup.disabled,s=t.props.onPanning;if(!i){var o=$L(t);if(o){var a=t.isPressingKeys(t.setup.panning.activationKeys);a&&(r.preventDefault(),r.stopPropagation(),UL(t,r.clientX,r.clientY),_t(at(t),r,s))}}},this.onPanningStop=function(r){var i=t.props.onPanningStop;t.isPanning&&(Jae(t),_t(at(t),r,i))},this.onPinchStart=function(r){var i=t.setup.disabled,s=t.props,o=s.onPinchingStart,a=s.onZoomStart;if(!i){var l=gle(t,r);l&&(Ele(t,r),Ts(t),_t(at(t),r,o),_t(at(t),r,a))}},this.onPinch=function(r){var i=t.setup.disabled,s=t.props,o=s.onPinching,a=s.onZoom;if(!i){var l=mle(t);l&&(r.preventDefault(),r.stopPropagation(),Cle(t,r),_t(at(t),r,o),_t(at(t),r,a))}},this.onPinchStop=function(r){var i=t.props,s=i.onPinchingStop,o=i.onZoomStop;t.pinchStartScale&&(Ale(t),_t(at(t),r,s),_t(at(t),r,o))},this.onTouchPanningStart=function(r){var i=t.setup.disabled,s=t.props.onPanningStart;if(!i){var o=jL(t,r);if(o){var a=t.lastTouch&&+new Date-t.lastTouch<200;if(!a){t.lastTouch=+new Date,Ts(t);var l=r.touches,c=l.length===1,u=l.length===2;c&&(Ts(t),zL(t,r),_t(at(t),r,s)),u&&t.onPinchStart(r)}}}},this.onTouchPanning=function(r){var i=t.setup.disabled,s=t.props.onPanning;if(t.isPanning&&r.touches.length===1){if(i)return;var o=$L(t);if(!o)return;r.preventDefault(),r.stopPropagation();var a=r.touches[0];UL(t,a.clientX,a.clientY),_t(at(t),r,s)}else r.touches.length>1&&t.onPinch(r)},this.onTouchPanningStop=function(r){t.onPanningStop(r),t.onPinchStop(r)},this.onDoubleClick=function(r){var i=t.setup.disabled;if(!i){var s=Rle(t,r);s&&kle(t,r)}},this.clearPanning=function(r){t.isPanning&&t.onPanningStop(r)},this.setKeyPressed=function(r){t.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){t.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(i){return t.pressedKeys[i]}):!0},this.setTransformState=function(r,i,s){var o=t.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(s)){r!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=r),t.transformState.positionX=i,t.transformState.positionY=s,t.applyTransformation();var a=at(t);t.onChangeCallbacks.forEach(function(l){return l(a)}),_t(a,{scale:r,positionX:i,positionY:s},o)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var r=W6(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,i,s){return t.props.customTransform?t.props.customTransform(r,i,s):lle(r,i,s)},this.applyTransformation=function(){if(!(!t.mounted||!t.contentComponent)){var r=t.transformState,i=r.scale,s=r.positionX,o=r.positionY,a=t.handleTransformStyles(s,o,i);t.contentComponent.style.transform=a}},this.getContext=function(){return at(t)},this.onChange=function(r){return t.onChangeCallbacks.has(r)||t.onChangeCallbacks.add(r),function(){t.onChangeCallbacks.delete(r)}},this.onInit=function(r){return t.onInitCallbacks.has(r)||t.onInitCallbacks.add(r),function(){t.onInitCallbacks.delete(r)}},this.init=function(r,i){t.cleanupWindowEvents(),t.wrapperComponent=r,t.contentComponent=i,df(t,t.transformState.scale),t.handleInitializeWrapperEvents(r),t.handleInitialize(i),t.initializeWindowEvents(),t.isInitialized=!0;var s=at(t);_t(s,void 0,t.props.onInit)},this.props=e,this.setup=HL(this.props),this.transformState=B6(this.props)}return n}(),W1=I.createContext(null),Dle=function(n,e){return typeof n=="function"?n(e):n},Lle=I.forwardRef(function(n,e){var t=w.useRef(new Mle(n)).current,r=Dle(n.children,i_(t));return w.useImperativeHandle(e,function(){return i_(t)},[t]),w.useEffect(function(){t.update(n)},[t,n]),I.createElement(W1.Provider,{value:t},r)});I.forwardRef(function(n,e){var t=w.useRef(null),r=w.useContext(W1);return w.useEffect(function(){return r.onChange(function(i){if(t.current){var s=0,o=0;t.current.style.transform=r.handleTransformStyles(s,o,1/i.instance.transformState.scale)}})},[r]),I.createElement("div",al({},n,{ref:cle([t,e])}))});function Ile(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}var Ole=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,WL={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};Ile(Ole);var Nle=function(n){var e=n.children,t=n.wrapperClass,r=t===void 0?"":t,i=n.contentClass,s=i===void 0?"":i,o=n.wrapperStyle,a=n.contentStyle,l=n.wrapperProps,c=l===void 0?{}:l,u=n.contentProps,d=u===void 0?{}:u,h=w.useContext(W1),p=h.init,g=h.cleanupWindowEvents,m=w.useRef(null),_=w.useRef(null);return w.useEffect(function(){var y=m.current,b=_.current;return y!==null&&b!==null&&p&&(p==null||p(y,b)),function(){g==null||g()}},[]),I.createElement("div",al({},c,{ref:m,className:"".concat(aA.wrapperClass," ").concat(WL.wrapper," ").concat(r),style:o}),I.createElement("div",al({},d,{ref:_,className:"".concat(aA.contentClass," ").concat(WL.content," ").concat(s),style:a}),e))},X6=function(){var n=w.useContext(W1);if(!n)throw new Error("Transform context must be placed inside TransformWrapper");return n},Fle=function(){var n=X6();return i_(n)},jle=function(n){var e=X6();w.useEffect(function(){var t,r=e.onChange(function(i){t=n(H6(i.instance))});return function(){r(),t==null||t()}},[n,e])};const $le=I.memo(({width:n,height:e})=>{const t=ft(a=>a.canvas.currentFile),{error:r,setError:i}=O1(),s=w.useRef(null),o=w.useCallback(a=>{const l=a.target;console.log("BackgroundLayer: Image loaded",l.naturalWidth,l.naturalHeight)},[]);return w.useEffect(()=>{if(console.log("BackgroundLayer: useEffect running",{currentFile:t,width:n,height:e}),!t){console.log("BackgroundLayer: Missing currentFile");return}const a=localStorage.getItem(`fileData_${t.name}`);console.log("BackgroundLayer: dataURL found",!!a,"for file:",t.name),a?(console.log("BackgroundLayer: dataURL starts with",a.substring(0,50)),console.log("BackgroundLayer: dataURL MIME type:",a.split(",")[0])):(console.error("BackgroundLayer: No dataURL found for file:",t.name),i("Kunde inte hitta bilddata fr filen"))},[t,n,e,i]),r?v.jsxs("div",{children:["Error: ",r]}):t?v.jsx("div",{ref:s,style:{position:"absolute",top:0,left:0,width:n,height:e,overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:t.name.toLowerCase().endsWith(".pdf")?v.jsx($$,{file:t.objectURL,children:v.jsx(q$,{pageNumber:1,width:n,height:e,renderTextLayer:!1,renderAnnotationLayer:!1})}):v.jsx("img",{src:t.objectURL,alt:t.name,onLoad:o,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}):null}),Fs=w.forwardRef(({className:n,type:e,...t},r)=>v.jsx("input",{type:e,className:Se("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));Fs.displayName="Input";function GL(n,[e,t]){return Math.min(t,Math.max(e,n))}function Ble(n,e=[]){let t=[];function r(s,o){const a=w.createContext(o),l=t.length;t=[...t,o];function c(d){const{scope:h,children:p,...g}=d,m=(h==null?void 0:h[n][l])||a,_=w.useMemo(()=>g,Object.values(g));return v.jsx(m.Provider,{value:_,children:p})}function u(d,h){const p=(h==null?void 0:h[n][l])||a,g=w.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return w.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,zle(i,...e)]}function zle(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function iT(n){const e=n+"CollectionProvider",[t,r]=Ble(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:m}=p,_=I.useRef(null),y=I.useRef(new Map).current;return v.jsx(i,{scope:g,itemMap:y,collectionRef:_,children:m})};o.displayName=e;const a=n+"CollectionSlot",l=I.forwardRef((p,g)=>{const{scope:m,children:_}=p,y=s(a,m),b=Ge(g,y.collectionRef);return v.jsx(ml,{ref:b,children:_})});l.displayName=a;const c=n+"CollectionItemSlot",u="data-radix-collection-item",d=I.forwardRef((p,g)=>{const{scope:m,children:_,...y}=p,b=I.useRef(null),x=Ge(g,b),S=s(c,m);return I.useEffect(()=>(S.itemMap.set(b,{ref:b,...y}),()=>void S.itemMap.delete(b))),v.jsx(ml,{[u]:"",ref:x,children:_})});d.displayName=c;function h(p){const g=s(n+"CollectionConsumer",p);return I.useCallback(()=>{const _=g.collectionRef.current;if(!_)return[];const y=Array.from(_.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((S,E)=>y.indexOf(S.ref.current)-y.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},h,r]}var Ule=w.createContext(void 0);function G1(n){const e=w.useContext(Ule);return n||e||"ltr"}function Vle(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Hle=[" ","Enter","ArrowUp","ArrowDown"],Wle=[" ","Enter"],Bv="Select",[q1,K1,Gle]=iT(Bv),[Pf,hfe]=bf(Bv,[Gle,Af]),Y1=Af(),[qle,Ol]=Pf(Bv),[Kle,Yle]=Pf(Bv),Q6=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:p,form:g}=n,m=Y1(e),[_,y]=w.useState(null),[b,x]=w.useState(null),[S,E]=w.useState(!1),k=G1(c),[R=!1,T]=Ko({prop:r,defaultProp:i,onChange:s}),[M,L]=Ko({prop:o,defaultProp:a,onChange:l}),N=w.useRef(null),z=_?g||!!_.closest("form"):!0,[W,O]=w.useState(new Set),U=Array.from(W).map(B=>B.props.value).join(";");return v.jsx(K2,{...m,children:v.jsxs(qle,{required:p,scope:e,trigger:_,onTriggerChange:y,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:Ns(),value:M,onValueChange:L,open:R,onOpenChange:T,dir:k,triggerPointerDownPosRef:N,disabled:h,children:[v.jsx(q1.Provider,{scope:e,children:v.jsx(Kle,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(B=>{O(j=>new Set(j).add(B))},[]),onNativeOptionRemove:w.useCallback(B=>{O(j=>{const D=new Set(j);return D.delete(B),D})},[]),children:t})}),z?v.jsxs(x9,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:M,onChange:B=>L(B.target.value),disabled:h,form:g,children:[M===void 0?v.jsx("option",{value:""}):null,Array.from(W)]},U):null]})})};Q6.displayName=Bv;var Z6="SelectTrigger",J6=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=Y1(t),o=Ol(Z6,t),a=o.disabled||r,l=Ge(e,o.onTriggerChange),c=K1(t),u=w.useRef("touch"),[d,h,p]=S9(m=>{const _=c().filter(x=>!x.disabled),y=_.find(x=>x.value===o.value),b=E9(_,m,y);b!==void 0&&o.onValueChange(b.value)}),g=m=>{a||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return v.jsx(Y2,{asChild:!0,...s,children:v.jsx(De.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":b9(o.value)?"":void 0,...i,ref:l,onClick:de(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:de(i.onPointerDown,m=>{u.current=m.pointerType;const _=m.target;_.hasPointerCapture(m.pointerId)&&_.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:de(i.onKeyDown,m=>{const _=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(_&&m.key===" ")&&Hle.includes(m.key)&&(g(),m.preventDefault())})})})});J6.displayName=Z6;var e9="SelectValue",t9=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:o="",...a}=n,l=Ol(e9,t),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=Ge(e,l.onValueNodeChange);return rr(()=>{c(u)},[c,u]),v.jsx(De.span,{...a,ref:d,style:{pointerEvents:"none"},children:b9(l.value)?v.jsx(v.Fragment,{children:o}):s})});t9.displayName=e9;var Xle="SelectIcon",n9=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return v.jsx(De.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});n9.displayName=Xle;var Qle="SelectPortal",r9=n=>v.jsx(Fn,{asChild:!0,...n});r9.displayName=Qle;var Pu="SelectContent",i9=w.forwardRef((n,e)=>{const t=Ol(Pu,n.__scopeSelect),[r,i]=w.useState();if(rr(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?gf.createPortal(v.jsx(s9,{scope:n.__scopeSelect,children:v.jsx(q1.Slot,{scope:n.__scopeSelect,children:v.jsx("div",{children:n.children})})}),s):null}return v.jsx(o9,{...n,ref:e})});i9.displayName=Pu;var ki=10,[s9,Nl]=Pf(Pu),Zle="SelectContentImpl",o9=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:_,...y}=n,b=Ol(Pu,t),[x,S]=w.useState(null),[E,k]=w.useState(null),R=Ge(e,Q=>S(Q)),[T,M]=w.useState(null),[L,N]=w.useState(null),z=K1(t),[W,O]=w.useState(!1),U=w.useRef(!1);w.useEffect(()=>{if(x)return v2(x)},[x]),m2();const B=w.useCallback(Q=>{const[me,...Y]=z().map(te=>te.ref.current),[K]=Y.slice(-1),he=document.activeElement;for(const te of Q)if(te===he||(te==null||te.scrollIntoView({block:"nearest"}),te===me&&E&&(E.scrollTop=0),te===K&&E&&(E.scrollTop=E.scrollHeight),te==null||te.focus(),document.activeElement!==he))return},[z,E]),j=w.useCallback(()=>B([T,x]),[B,T,x]);w.useEffect(()=>{W&&j()},[W,j]);const{onOpenChange:D,triggerPointerDownPosRef:F}=b;w.useEffect(()=>{if(x){let Q={x:0,y:0};const me=K=>{var he,te;Q={x:Math.abs(Math.round(K.pageX)-(((he=F.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(K.pageY)-(((te=F.current)==null?void 0:te.y)??0))}},Y=K=>{Q.x<=10&&Q.y<=10?K.preventDefault():x.contains(K.target)||D(!1),document.removeEventListener("pointermove",me),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Y,{capture:!0})}}},[x,D,F]),w.useEffect(()=>{const Q=()=>D(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[D]);const[q,ee]=S9(Q=>{const me=z().filter(he=>!he.disabled),Y=me.find(he=>he.ref.current===document.activeElement),K=E9(me,Q,Y);K&&setTimeout(()=>K.ref.current.focus())}),J=w.useCallback((Q,me,Y)=>{const K=!U.current&&!Y;(b.value!==void 0&&b.value===me||K)&&(M(Q),K&&(U.current=!0))},[b.value]),le=w.useCallback(()=>x==null?void 0:x.focus(),[x]),ae=w.useCallback((Q,me,Y)=>{const K=!U.current&&!Y;(b.value!==void 0&&b.value===me||K)&&N(Q)},[b.value]),xe=r==="popper"?cA:a9,ne=xe===cA?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:_}:{};return v.jsx(s9,{scope:t,content:x,viewport:E,onViewportChange:k,itemRefCallback:J,selectedItem:T,onItemLeave:le,itemTextRefCallback:ae,focusSelectedItem:j,selectedItemText:L,position:r,isPositioned:W,searchRef:q,children:v.jsx(v1,{as:ml,allowPinchZoom:!0,children:v.jsx(g1,{asChild:!0,trapped:b.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:de(i,Q=>{var me;(me=b.trigger)==null||me.focus({preventScroll:!0}),Q.preventDefault()}),children:v.jsx(Rv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:v.jsx(xe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Q=>Q.preventDefault(),...y,...ne,onPlaced:()=>O(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:de(y.onKeyDown,Q=>{const me=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!me&&Q.key.length===1&&ee(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let K=z().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const he=Q.target,te=K.indexOf(he);K=K.slice(te+1)}setTimeout(()=>B(K)),Q.preventDefault()}})})})})})})});o9.displayName=Zle;var Jle="SelectItemAlignedPosition",a9=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=Ol(Pu,t),o=Nl(Pu,t),[a,l]=w.useState(null),[c,u]=w.useState(null),d=Ge(e,R=>u(R)),h=K1(t),p=w.useRef(!1),g=w.useRef(!0),{viewport:m,selectedItem:_,selectedItemText:y,focusSelectedItem:b}=o,x=w.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&m&&_&&y){const R=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),M=s.valueNode.getBoundingClientRect(),L=y.getBoundingClientRect();if(s.dir!=="rtl"){const he=L.left-T.left,te=M.left-he,H=R.left-te,V=R.width+H,re=Math.max(V,T.width),ve=window.innerWidth-ki,Pe=GL(te,[ki,Math.max(ki,ve-re)]);a.style.minWidth=V+"px",a.style.left=Pe+"px"}else{const he=T.right-L.right,te=window.innerWidth-M.right-he,H=window.innerWidth-R.right-te,V=R.width+H,re=Math.max(V,T.width),ve=window.innerWidth-ki,Pe=GL(te,[ki,Math.max(ki,ve-re)]);a.style.minWidth=V+"px",a.style.right=Pe+"px"}const N=h(),z=window.innerHeight-ki*2,W=m.scrollHeight,O=window.getComputedStyle(c),U=parseInt(O.borderTopWidth,10),B=parseInt(O.paddingTop,10),j=parseInt(O.borderBottomWidth,10),D=parseInt(O.paddingBottom,10),F=U+B+W+D+j,q=Math.min(_.offsetHeight*5,F),ee=window.getComputedStyle(m),J=parseInt(ee.paddingTop,10),le=parseInt(ee.paddingBottom,10),ae=R.top+R.height/2-ki,xe=z-ae,ne=_.offsetHeight/2,Q=_.offsetTop+ne,me=U+B+Q,Y=F-me;if(me<=ae){const he=N.length>0&&_===N[N.length-1].ref.current;a.style.bottom="0px";const te=c.clientHeight-m.offsetTop-m.offsetHeight,H=Math.max(xe,ne+(he?le:0)+te+j),V=me+H;a.style.height=V+"px"}else{const he=N.length>0&&_===N[0].ref.current;a.style.top="0px";const H=Math.max(ae,U+m.offsetTop+(he?J:0)+ne)+Y;a.style.height=H+"px",m.scrollTop=me-ae+m.offsetTop}a.style.margin=`${ki}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,a,c,m,_,y,s.dir,r]);rr(()=>x(),[x]);const[S,E]=w.useState();rr(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const k=w.useCallback(R=>{R&&g.current===!0&&(x(),b==null||b(),g.current=!1)},[x,b]);return v.jsx(tce,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:v.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:v.jsx(De.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});a9.displayName=Jle;var ece="SelectPopperPosition",cA=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=ki,...s}=n,o=Y1(t);return v.jsx(X2,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cA.displayName=ece;var[tce,sT]=Pf(Pu,{}),uA="SelectViewport",l9=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=Nl(uA,t),o=sT(uA,t),a=Ge(e,s.onViewportChange),l=w.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(q1.Slot,{scope:t,children:v.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:de(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const g=window.innerHeight-ki*2,m=parseFloat(d.style.minHeight),_=parseFloat(d.style.height),y=Math.max(m,_);if(y<g){const b=y+p,x=Math.min(g,b),S=b-x;d.style.height=x+"px",d.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});l9.displayName=uA;var c9="SelectGroup",[nce,rce]=Pf(c9),ice=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Ns();return v.jsx(nce,{scope:t,id:i,children:v.jsx(De.div,{role:"group","aria-labelledby":i,...r,ref:e})})});ice.displayName=c9;var u9="SelectLabel",d9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=rce(u9,t);return v.jsx(De.div,{id:i.id,...r,ref:e})});d9.displayName=u9;var s_="SelectItem",[sce,h9]=Pf(s_),f9=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...o}=n,a=Ol(s_,t),l=Nl(s_,t),c=a.value===r,[u,d]=w.useState(s??""),[h,p]=w.useState(!1),g=Ge(e,b=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,b,r,i)}),m=Ns(),_=w.useRef("touch"),y=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(sce,{scope:t,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:w.useCallback(b=>{d(x=>x||((b==null?void 0:b.textContent)??"").trim())},[]),children:v.jsx(q1.ItemSlot,{scope:t,value:r,disabled:i,textValue:u,children:v.jsx(De.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:de(o.onFocus,()=>p(!0)),onBlur:de(o.onBlur,()=>p(!1)),onClick:de(o.onClick,()=>{_.current!=="mouse"&&y()}),onPointerUp:de(o.onPointerUp,()=>{_.current==="mouse"&&y()}),onPointerDown:de(o.onPointerDown,b=>{_.current=b.pointerType}),onPointerMove:de(o.onPointerMove,b=>{var x;_.current=b.pointerType,i?(x=l.onItemLeave)==null||x.call(l):_.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(o.onPointerLeave,b=>{var x;b.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:de(o.onKeyDown,b=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(Wle.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});f9.displayName=s_;var Ap="SelectItemText",p9=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,o=Ol(Ap,t),a=Nl(Ap,t),l=h9(Ap,t),c=Yle(Ap,t),[u,d]=w.useState(null),h=Ge(e,y=>d(y),l.onItemTextChange,y=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,y,l.value,l.disabled)}),p=u==null?void 0:u.textContent,g=w.useMemo(()=>v.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:_}=c;return rr(()=>(m(g),()=>_(g)),[m,_,g]),v.jsxs(v.Fragment,{children:[v.jsx(De.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?gf.createPortal(s.children,o.valueNode):null]})});p9.displayName=Ap;var g9="SelectItemIndicator",m9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return h9(g9,t).isSelected?v.jsx(De.span,{"aria-hidden":!0,...r,ref:e}):null});m9.displayName=g9;var dA="SelectScrollUpButton",v9=w.forwardRef((n,e)=>{const t=Nl(dA,n.__scopeSelect),r=sT(dA,n.__scopeSelect),[i,s]=w.useState(!1),o=Ge(e,r.onScrollButtonChange);return rr(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?v.jsx(w9,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});v9.displayName=dA;var hA="SelectScrollDownButton",y9=w.forwardRef((n,e)=>{const t=Nl(hA,n.__scopeSelect),r=sT(hA,n.__scopeSelect),[i,s]=w.useState(!1),o=Ge(e,r.onScrollButtonChange);return rr(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?v.jsx(w9,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});y9.displayName=hA;var w9=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=Nl("SelectScrollButton",t),o=w.useRef(null),a=K1(t),l=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>l(),[l]),rr(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),v.jsx(De.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:de(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:de(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:de(i.onPointerLeave,()=>{l()})})}),oce="SelectSeparator",_9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return v.jsx(De.div,{"aria-hidden":!0,...r,ref:e})});_9.displayName=oce;var fA="SelectArrow",ace=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Y1(t),s=Ol(fA,t),o=Nl(fA,t);return s.open&&o.position==="popper"?v.jsx(Q2,{...i,...r,ref:e}):null});ace.displayName=fA;function b9(n){return n===""||n===void 0}var x9=w.forwardRef((n,e)=>{const{value:t,...r}=n,i=w.useRef(null),s=Ge(e,i),o=Vle(t);return w.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const d=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(d)}},[o,t]),v.jsx(Z2,{asChild:!0,children:v.jsx("select",{...r,ref:s,defaultValue:t})})});x9.displayName="BubbleSelect";function S9(n){const e=Ei(n),t=w.useRef(""),r=w.useRef(0),i=w.useCallback(o=>{const a=t.current+o;e(a),function l(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=w.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function E9(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=lce(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function lce(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var cce=Q6,C9=J6,uce=t9,dce=n9,hce=r9,A9=i9,fce=l9,P9=d9,T9=f9,pce=p9,gce=m9,k9=v9,R9=y9,M9=_9;const mce=cce,vce=uce,D9=w.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(C9,{ref:r,className:Se("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,v.jsx(dce,{asChild:!0,children:v.jsx(ite,{className:"h-4 w-4 opacity-50"})})]}));D9.displayName=C9.displayName;const L9=w.forwardRef(({className:n,...e},t)=>v.jsx(k9,{ref:t,className:Se("flex cursor-default items-center justify-center py-1",n),...e,children:v.jsx(dte,{})}));L9.displayName=k9.displayName;const I9=w.forwardRef(({className:n,...e},t)=>v.jsx(R9,{ref:t,className:Se("flex cursor-default items-center justify-center py-1",n),...e,children:v.jsx(ate,{})}));I9.displayName=R9.displayName;const O9=w.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>v.jsx(hce,{children:v.jsxs(A9,{ref:i,className:Se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,style:{zIndex:9999},children:[v.jsx(L9,{}),v.jsx(fce,{className:Se("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),v.jsx(I9,{})]})}));O9.displayName=A9.displayName;const yce=w.forwardRef(({className:n,...e},t)=>v.jsx(P9,{ref:t,className:Se("px-2 py-1.5 text-sm font-semibold",n),...e}));yce.displayName=P9.displayName;const N9=w.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(T9,{ref:r,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[v.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(gce,{children:v.jsx(Lj,{className:"h-4 w-4"})})}),v.jsx(pce,{children:e})]}));N9.displayName=T9.displayName;const wce=w.forwardRef(({className:n,...e},t)=>v.jsx(M9,{ref:t,className:Se("-mx-1 my-1 h-px bg-muted",n),...e}));wce.displayName=M9.displayName;const _ce=10,bce=({onClose:n,pixelsPerUnit:e,currentUnit:t,updateMeasurements:r,measurePoints:i,isSettingScale:s,setIsSettingScale:o,handleMouseMove:a,handleMouseLeave:l,mousePosition:c,isMeasuring:u,scaleType:d})=>{const h=Tl(),[p,g]=w.useState(""),m=w.useMemo(()=>d==="area",[d]),_=w.useMemo(()=>t,[t]),[y,b]=w.useState(_),[x,S]=w.useState(!1),E=w.useCallback((O,U)=>Math.sqrt(Math.pow(O.x-U.x,2)+Math.pow(O.y-U.y,2))<_ce,[]),k=w.useCallback(()=>{if(i.length<2||!p)return;let O;if(m){const U=Nd(i,1,"px"),B=parseFloat(p);O=Math.sqrt(U/wP(B,y,"px"))}else{const U=ac(i[0],i[i.length-1],1,"px"),B=parseFloat(p);O=U/mw(B,y,"px")}h(lc(O)),h(vg(y)),r(O,y),h(ny()),h(Ki()),S(!1),o(!1),n()},[h,i,p,y,r,n,o,m]),R=w.useCallback((O=!1)=>{console.log("tryFinishScaleMeasurement called",{scaleType:d,measurePoints:i.length,isSettingScale:s,forceFinish:O}),O||d==="distance"&&i.length===2||d==="area"&&i.length>=3?(console.log("Finishing scale measurement"),S(!0),o(!1)):console.log("Not enough points to finish measurement")},[d,i,o]),T=w.useCallback(O=>{if(console.log("handleClick called in SetScaleTool",{isSettingScale:s,scaleType:d,measurePointsLength:i.length}),!s)return;const U={x:O.clientX,y:O.clientY};if(d==="distance")i.length===0?(console.log("Setting first point for distance"),h(Fd({points:[U]}))):i.length===1?(console.log("Setting second point for distance and finishing measurement"),h(Fd({points:[...i,U]})),R()):console.log("Ignoring click, already have 2 points for distance");else if(d==="area"){const B=[...i,U];h(Fd({points:B})),console.log("Setting point for area",{updatedPointsLength:B.length}),B.length>=3&&E(U,B[0])&&(console.log("Finishing area measurement"),R())}},[s,i,d,h,R,E]),M=w.useCallback(()=>{R(!0)},[R]),L=w.useCallback(O=>{O.key==="Escape"?(console.log("ESC pressed, cancelling scale setting"),h(Ki()),o(!1),n()):O.key==="Enter"&&(O.preventDefault(),s&&!x&&R(!0))},[s,x,h,o,n,R]),N=w.useCallback(O=>{O.key==="Enter"&&(O.preventDefault(),k())},[k]);w.useEffect(()=>{if(s)return window.addEventListener("keydown",L),()=>{window.removeEventListener("keydown",L)}},[s,L]);const z=w.useMemo(()=>{if(i.length===0||x)return null;const O=d==="distance"?i.length===1?[...i,c]:i:[...i,c],U=O.map((j,D)=>`${D===0?"M":"L"} ${j.x} ${j.y}`).join(" "),B=d==="area"&&O.length>2;return v.jsxs("g",{children:[v.jsx("path",{d:U+(B?" Z":""),fill:B?"rgba(255, 0, 0, 0.1)":"none",stroke:"rgba(255, 0, 0, 0.8)",strokeWidth:"2",strokeDasharray:"5,5"}),O.map((j,D)=>v.jsx("circle",{cx:j.x,cy:j.y,r:"4",fill:"none",stroke:"rgba(255, 0, 0, 0.8)",strokeWidth:"2"},D))]})},[i,c,x,d]),W=w.useMemo(()=>{if(!u||i.length===0||x)return null;const O=[...i,c],U=O.length>2;let B=0,j=0,D=0;if(O.length>=2){const ee=O.length-1,J=O.length-2,le=O[ee].x-O[J].x,ae=O[ee].y-O[J].y;if(D=Math.sqrt(le*le+ae*ae)/e,O.length<=3)B=D;else if(U){let xe=0;for(let ne=0;ne<O.length;ne++){const Q=(ne+1)%O.length;xe+=O[ne].x*O[Q].y,xe-=O[Q].x*O[ne].x}j=Math.abs(xe/2)/(e*e)}}const F=U?`${j.toFixed(2)} ${t} (${D.toFixed(2)} ${t})`:`${B.toFixed(2)} ${t}`,q=O[O.length-1];return v.jsxs("g",{transform:`translate(${q.x+10}, ${q.y-10})`,children:[v.jsx("rect",{x:"-5",y:"-20",width:F.length*7+10,height:"20",rx:"3",ry:"3",fill:"rgba(0, 0, 0, 0.7)"}),v.jsx("text",{x:(F.length*7+10)/2-5,y:"-10",fill:"white",fontSize:"12",textAnchor:"middle",dominantBaseline:"middle",children:F})]})},[i,c,e,t,u,x]);return w.useEffect(()=>{console.log("isDialogOpen changed:",x)},[x]),w.useEffect(()=>{console.log("measurePoints changed:",i)},[i]),w.useEffect(()=>{console.log("scaleType changed:",d)},[d]),w.useEffect(()=>{console.log("SetScaleTool mounted/updated")},[]),w.useEffect(()=>{console.log("isSettingScale changed:",s)},[s]),v.jsxs(v.Fragment,{children:[v.jsxs("g",{onMouseMove:a,onMouseLeave:l,onClick:T,onDoubleClick:M,children:[z,W]}),v.jsx(P2,{open:x,onOpenChange:O=>{S(O),O?b(_):(o(!1),h(Ki()),h(Jh("measure")),n())},children:v.jsxs(y1,{className:"max-w-md",children:[v.jsxs(w1,{children:[v.jsx(_1,{children:je.setScale}),v.jsx(b1,{children:d==="area"?je.enterActualArea:je.enterActualDistance})]}),v.jsxs("div",{className:"mt-4 flex gap-2",children:[v.jsx(Fs,{type:"number",placeholder:d==="area"?je.enterArea:je.enterDistance,value:p,onChange:O=>g(O.target.value),onKeyDown:N,className:"flex-grow text-right pr-3 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),v.jsxs(mce,{value:y,onValueChange:O=>{b(O),h(vg(O))},children:[v.jsx(D9,{className:"w-[100px]",children:v.jsx(vce,{placeholder:je.selectUnit})}),v.jsx(O9,{children:VO.map(O=>v.jsx(N9,{value:O,children:d==="area"?HO(O):O},O))})]})]}),v.jsxs(T2,{className:"mt-4",children:[v.jsx(We,{onClick:k,children:je.setScale}),v.jsx(We,{onClick:()=>{h(Ki()),h(Jh("measure")),S(!1),o(!1)},variant:"outline",children:je.cancel})]})]})})]})},xce=10,Sce=I.memo(({isInitialLoad:n,width:e,height:t,containerRef:r})=>{const i=Tl(),s=ft(V=>V.canvas.measurePoints,Bk),[o,a]=w.useState(!1),[l,c]=w.useState(!1),u=ft(V=>V.canvas.measurements,Bk),[d,h]=w.useState({scale:1,positionX:0,positionY:0}),[p,g]=w.useState(null),[m,_]=w.useState(null),[y,b]=w.useState(null),[x,S]=w.useState({x:0,y:0}),E=w.useRef(null),k=ft(V=>V.canvas.showAllMeasurements),R=ft(V=>V.canvas.pixelsPerUnit),T=ft(V=>V.canvas.currentUnit),M=ft(V=>V.canvas.selectedTool),{saveMeasurements:L}=O1(),N=ft(V=>V.canvas.currentFile),z=ft(V=>V.canvas.scale),[W,O]=w.useState(!1),U=ft(V=>V.canvas.scaleType),[B,j]=w.useState(!1);jle(({state:V})=>{h({scale:V.scale,positionX:V.positionX,positionY:V.positionY})});const D=w.useCallback((V,re)=>!V||!re?!1:Math.sqrt(Math.pow(V.x-re.x,2)+Math.pow(V.y-re.y,2))<xce,[]),F=w.useCallback((V,re,ve)=>{i(jb({measurementIndex:V,pointIndex:re,newPoint:ve}));const Pe=u[V];Pe.points.length>3&&(re===0?i(jb({measurementIndex:V,pointIndex:Pe.points.length-1,newPoint:ve})):re===Pe.points.length-1&&i(jb({measurementIndex:V,pointIndex:0,newPoint:ve})))},[i,u]),q=w.useCallback(()=>{c(!1),i(Jk())},[i]),ee=w.useCallback(V=>{if(!r.current)return;const re=r.current.getBoundingClientRect(),ve=(V.clientX-re.left-d.positionX)/d.scale,Pe=(V.clientY-re.top-d.positionY)/d.scale;if(S({x:ve,y:Pe}),y&&E.current){const{measurementIndex:Ue,pointIndex:kt}=y;F(Ue,kt,{x:ve,y:Pe})}else c(!0)},[r,d,y,F]),J=w.useCallback(()=>{b(null),j(!1),i(rH())},[i]),le=w.useCallback(()=>{},[]),ae=w.useCallback(V=>{if(n||l||B||V.target.closest("button")||!x)return;const ve=x;if(M==="setScale")i(Fd({points:[...s,ve]})),s.length===1&&O(!0);else{if(!o){a(!0),i(Fd({points:[ve]})),_(null);return}const Pe=s[s.length-1],Ue=s[0];if(D(ve,Pe)||D(ve,Ue)){const kt=[...s,Ue];i(Fb({points:kt})),i(ny()),i(Ki()),a(!1)}else i(Fd({points:[...s,ve]}))}},[i,s,o,x,D,n,l,B,M]),xe=w.useCallback(()=>{if(M!=="setScale")if(s.length>=2){const V=[...s];s.length>2&&V.push(s[0]),i(Fb({points:V})),i(ny()),i(Ki()),a(!1)}else i(Ki()),a(!1)},[M,s,i,a]),ne=w.useCallback(V=>{if(V.key==="Escape"||V.key==="Enter")if(M==="setScale")s.length>=2?O(!0):(i(Ki()),i(Jh("measure")));else if(s.length>=2){const re=[...s];s.length>2&&re.push(s[0]),i(Fb({points:re})),i(ny()),i(Ki()),a(!1)}else i(Ki()),a(!1)},[M,i,s]);w.useEffect(()=>(window.addEventListener("keydown",ne),()=>{window.removeEventListener("keydown",ne)}),[ne]);const Q=w.useCallback(V=>({x:V.x,y:V.y}),[]),me=w.useCallback(V=>{_(re=>re===V?null:V)},[]),Y=w.useCallback((V,re,ve)=>{ve.stopPropagation(),b({measurementIndex:V,pointIndex:re}),j(!0),i(Jk())},[i]),K=w.useCallback((V,re)=>{re.stopPropagation(),i(tH(V)),_(null)},[i]),he=w.useCallback((V,re)=>{u.forEach((ve,Pe)=>{const Ue={...ve};Ue.points.length<=3?Ue.distance=ac(Ue.points[0],Ue.points[1],V,re):Ue.points.length>2&&(Ue.area=Nd(Ue.points,V,re)),i(eH({index:Pe,measurement:Ue}))})},[i,u]),te=w.useMemo(()=>u.map((V,re)=>{const{points:ve,distance:Pe,area:Ue}=V,kt=ve.length<=3;let kn=kt?KV(Pe):Ue!=null?`${Ue.toFixed(2)} ${HO(T)}`:"N/A";const wt=ve.map(Q),Cr=wt.map((it,Mt)=>`${Mt===0?"M":"L"} ${it.x} ${it.y}`).join(" ")+(ve.length>2?" Z":""),fn=m===re,we=k||fn||p===re,nt=wt.reduce((it,Mt,Ci)=>{if(Ci===0)return it;const Vu=wt[Ci-1];return it.x+=(Vu.x+Mt.x)/2,it.y+=(Vu.y+Mt.y)/2,it},{x:0,y:0});nt.x/=wt.length-1,nt.y/=wt.length-1;let rt=0,Rt=0;if(kt){const it=wt[1].x-wt[0].x,Mt=wt[1].y-wt[0].y,Ci=Math.sqrt(it*it+Mt*Mt);rt=-Mt/Ci*20,Rt=it/Ci*20}else Rt=-20;return v.jsxs("g",{onMouseEnter:()=>g(re),onMouseLeave:()=>g(null),onClick:()=>me(re),style:{cursor:"pointer"},children:[v.jsxs(Rr,{open:we,children:[v.jsx(Mr,{asChild:!0,children:kt?v.jsx("line",{x1:wt[0].x,y1:wt[0].y,x2:wt[1].x,y2:wt[1].y,stroke:fn?"rgba(59, 130, 246, 1)":"rgba(59, 130, 246, 0.6)",strokeWidth:fn?"3":"2",className:"hover:stroke-blue-400 transition-colors duration-200"}):v.jsx("path",{d:Cr,fill:fn?"rgba(59, 130, 246, 0.2)":"rgba(59, 130, 246, 0.05)",stroke:fn?"rgba(59, 130, 246, 1)":"rgba(59, 130, 246, 0.6)",strokeWidth:fn?"2":"1",className:"hover:fill-blue-200 hover:stroke-blue-400 transition-colors duration-200"})}),v.jsx(dr,{children:kn})]}),we&&v.jsxs("g",{transform:`translate(${nt.x+rt}, ${nt.y+Rt})`,children:[v.jsx("rect",{x:-kn.length*3.5-5,y:"-10",width:kn.length*7+10,height:"20",rx:"3",ry:"3",fill:"rgba(0, 0, 0, 0.7)"}),v.jsx("text",{fill:"white",fontSize:"12",textAnchor:"middle",dominantBaseline:"middle",className:"transition-colors duration-200",children:kn}),(fn||k)&&v.jsxs("g",{transform:`translate(${kn.length*3.5+15}, 0)`,onClick:it=>K(re,it),style:{cursor:"pointer"},children:[v.jsx("circle",{r:"5",fill:"white",stroke:"rgba(59, 130, 246, 1)",strokeWidth:"0.5"}),v.jsx("path",{d:"M-2,-2 L2,2 M2,-2 L-2,2",stroke:"rgba(59, 130, 246, 1)",strokeWidth:"0.5",strokeLinecap:"round"})]})]}),wt.map((it,Mt)=>v.jsx("circle",{cx:it.x,cy:it.y,r:"5",fill:we?"rgba(59, 130, 246, 0.5)":"none",stroke:"rgba(59, 130, 246, 0.8)",strokeWidth:"1",style:{cursor:we?"move":"pointer"},onMouseDown:Ci=>we&&Y(re,Mt,Ci)},Mt))]},re)}),[u,p,m,k,me,K,Y,Q,T]),H=w.useMemo(()=>{if(M==="setScale"||!o)return null;const V=[...s,x],re=V.map(Q),ve=re.map((Cr,fn)=>`${fn===0?"M":"L"} ${Cr.x} ${Cr.y}`).join(" "),Pe=V.length>2;let Ue=0,kt=0;if(V.length>=2){const Cr=V.length-1,fn=V.length-2;Ue=ac(V[fn],V[Cr],R,T),V.length>=3&&(kt=Nd(V,R,T))}const kn=Pe?`${kt.toFixed(2)} ${T} (${Ue.toFixed(2)} ${T})`:`${Ue.toFixed(2)} ${T}`,wt=re[re.length-1];return v.jsxs("g",{children:[v.jsx("path",{d:ve+(Pe?" Z":""),fill:Pe?"rgba(59, 130, 246, 0.1)":"none",stroke:"rgba(59, 130, 246, 0.8)",strokeWidth:"2"}),re.map((Cr,fn)=>v.jsx("circle",{cx:Cr.x,cy:Cr.y,r:"3",fill:"none",stroke:"rgba(59, 130, 246, 1)",strokeWidth:"1"},fn)),V.length>=2&&v.jsxs("g",{transform:`translate(${wt.x+10}, ${wt.y-10})`,children:[v.jsx("rect",{x:"-5",y:"-20",width:kn.length*7+10,height:"20",rx:"3",ry:"3",fill:"rgba(0, 0, 0, 0.7)"}),v.jsx("text",{x:(kn.length*7+10)/2-5,y:"-10",fill:"white",fontSize:"12",textAnchor:"middle",dominantBaseline:"middle",children:kn})]})]})},[o,s,x,Q,R,T,M]);return w.useEffect(()=>{N&&u.length>0&&L(N.name,u,R,T,z)},[N,u,R,T,z,L]),w.useEffect(()=>{if(N){const V=JSON.parse(localStorage.getItem(`fileMetadata_${N.name}`)||"{}");V.measurements&&i(ty(V.measurements))}},[N,i]),w.useEffect(()=>{M==="setScale"&&(a(!1),i(Ki()))},[M,i]),w.useEffect(()=>{console.log("selectedTool changed:",M)},[M]),v.jsx(eT,{children:v.jsx("div",{style:{position:"relative",width:e,height:t},children:v.jsxs("svg",{ref:E,width:e,height:t,style:{position:"absolute",top:0,left:0},onMouseMove:ee,onMouseUp:J,onMouseLeave:le,onClick:ae,onMouseDown:q,children:[M!=="setScale"&&te,M!=="setScale"&&H,M==="setScale"&&v.jsx(bce,{isOpen:M==="setScale",onClose:()=>i(Jh("measure")),pixelsPerUnit:R,currentUnit:T,updateMeasurements:he,width:e,height:t,measurePoints:s,isSettingScale:W,setIsSettingScale:O,handleClick:ae,handleDoubleClick:xe,mousePosition:x,handleMouseMove:ee,handleMouseLeave:le,isMeasuring:o,scaleType:U})]})})})});function Ece(n,e=[]){let t=[];function r(s,o){const a=w.createContext(o),l=t.length;t=[...t,o];function c(d){const{scope:h,children:p,...g}=d,m=(h==null?void 0:h[n][l])||a,_=w.useMemo(()=>g,Object.values(g));return v.jsx(m.Provider,{value:_,children:p})}function u(d,h){const p=(h==null?void 0:h[n][l])||a,g=w.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return w.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,Cce(i,...e)]}function Cce(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Ace(n,e=[]){let t=[];function r(s,o){const a=w.createContext(o),l=t.length;t=[...t,o];function c(d){const{scope:h,children:p,...g}=d,m=(h==null?void 0:h[n][l])||a,_=w.useMemo(()=>g,Object.values(g));return v.jsx(m.Provider,{value:_,children:p})}function u(d,h){const p=(h==null?void 0:h[n][l])||a,g=w.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return w.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,Pce(i,...e)]}function Pce(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Rx="rovingFocusGroup.onEntryFocus",Tce={bubbles:!1,cancelable:!0},X1="RovingFocusGroup",[pA,F9,kce]=iT(X1),[Rce,Q1]=Ace(X1,[kce]),[Mce,Dce]=Rce(X1),j9=w.forwardRef((n,e)=>v.jsx(pA.Provider,{scope:n.__scopeRovingFocusGroup,children:v.jsx(pA.Slot,{scope:n.__scopeRovingFocusGroup,children:v.jsx(Lce,{...n,ref:e})})}));j9.displayName=X1;var Lce=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=n,h=w.useRef(null),p=Ge(e,h),g=G1(s),[m=null,_]=Ko({prop:o,defaultProp:a,onChange:l}),[y,b]=w.useState(!1),x=Ei(c),S=F9(t),E=w.useRef(!1),[k,R]=w.useState(0);return w.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(Rx,x),()=>T.removeEventListener(Rx,x)},[x]),v.jsx(Mce,{scope:t,orientation:r,dir:g,loop:i,currentTabStopId:m,onItemFocus:w.useCallback(T=>_(T),[_]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>R(T=>T+1),[]),onFocusableItemRemove:w.useCallback(()=>R(T=>T-1),[]),children:v.jsx(De.div,{tabIndex:y||k===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...n.style},onMouseDown:de(n.onMouseDown,()=>{E.current=!0}),onFocus:de(n.onFocus,T=>{const M=!E.current;if(T.target===T.currentTarget&&M&&!y){const L=new CustomEvent(Rx,Tce);if(T.currentTarget.dispatchEvent(L),!L.defaultPrevented){const N=S().filter(B=>B.focusable),z=N.find(B=>B.active),W=N.find(B=>B.id===m),U=[z,W,...N].filter(Boolean).map(B=>B.ref.current);z9(U,u)}}E.current=!1}),onBlur:de(n.onBlur,()=>b(!1))})})}),$9="RovingFocusGroupItem",B9=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,...o}=n,a=Ns(),l=s||a,c=Dce($9,t),u=c.currentTabStopId===l,d=F9(t),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return w.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),v.jsx(pA.ItemSlot,{scope:t,id:l,focusable:r,active:i,children:v.jsx(De.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:de(n.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:de(n.onFocus,()=>c.onItemFocus(l)),onKeyDown:de(n.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=Nce(g,c.orientation,c.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=d().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const b=y.indexOf(g.currentTarget);y=c.loop?Fce(y,b+1):y.slice(b+1)}setTimeout(()=>z9(y))}})})})});B9.displayName=$9;var Ice={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Oce(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Nce(n,e,t){const r=Oce(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Ice[r]}function z9(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function Fce(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var U9=j9,V9=B9,jce="Toggle",oT=w.forwardRef((n,e)=>{const{pressed:t,defaultPressed:r=!1,onPressedChange:i,...s}=n,[o=!1,a]=Ko({prop:t,onChange:i,defaultProp:r});return v.jsx(De.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":n.disabled?"":void 0,...s,ref:e,onClick:de(n.onClick,()=>{n.disabled||a(!o)})})});oT.displayName=jce;var H9=oT,Tf="ToggleGroup",[W9,ffe]=Ece(Tf,[Q1]),G9=Q1(),aT=I.forwardRef((n,e)=>{const{type:t,...r}=n;if(t==="single"){const i=r;return v.jsx($ce,{...i,ref:e})}if(t==="multiple"){const i=r;return v.jsx(Bce,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Tf}\``)});aT.displayName=Tf;var[q9,K9]=W9(Tf),$ce=I.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:i=()=>{},...s}=n,[o,a]=Ko({prop:t,defaultProp:r,onChange:i});return v.jsx(q9,{scope:n.__scopeToggleGroup,type:"single",value:o?[o]:[],onItemActivate:a,onItemDeactivate:I.useCallback(()=>a(""),[a]),children:v.jsx(Y9,{...s,ref:e})})}),Bce=I.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:i=()=>{},...s}=n,[o=[],a]=Ko({prop:t,defaultProp:r,onChange:i}),l=I.useCallback(u=>a((d=[])=>[...d,u]),[a]),c=I.useCallback(u=>a((d=[])=>d.filter(h=>h!==u)),[a]);return v.jsx(q9,{scope:n.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:l,onItemDeactivate:c,children:v.jsx(Y9,{...s,ref:e})})});aT.displayName=Tf;var[zce,Uce]=W9(Tf),Y9=I.forwardRef((n,e)=>{const{__scopeToggleGroup:t,disabled:r=!1,rovingFocus:i=!0,orientation:s,dir:o,loop:a=!0,...l}=n,c=G9(t),u=G1(o),d={role:"group",dir:u,...l};return v.jsx(zce,{scope:t,rovingFocus:i,disabled:r,children:i?v.jsx(U9,{asChild:!0,...c,orientation:s,dir:u,loop:a,children:v.jsx(De.div,{...d,ref:e})}):v.jsx(De.div,{...d,ref:e})})}),o_="ToggleGroupItem",X9=I.forwardRef((n,e)=>{const t=K9(o_,n.__scopeToggleGroup),r=Uce(o_,n.__scopeToggleGroup),i=G9(n.__scopeToggleGroup),s=t.value.includes(n.value),o=r.disabled||n.disabled,a={...n,pressed:s,disabled:o},l=I.useRef(null);return r.rovingFocus?v.jsx(V9,{asChild:!0,...i,focusable:!o,active:s,ref:l,children:v.jsx(qL,{...a,ref:e})}):v.jsx(qL,{...a,ref:e})});X9.displayName=o_;var qL=I.forwardRef((n,e)=>{const{__scopeToggleGroup:t,value:r,...i}=n,s=K9(o_,t),o={role:"radio","aria-checked":n.pressed,"aria-pressed":void 0},a=s.type==="single"?o:void 0;return v.jsx(oT,{...a,...i,ref:e,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),Q9=aT,Z9=X9;const J9=p2("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),Vce=w.forwardRef(({className:n,variant:e,size:t,...r},i)=>v.jsx(H9,{ref:i,className:Se(J9({variant:e,size:t,className:n})),...r}));Vce.displayName=H9.displayName;const e8=w.createContext({size:"default",variant:"default"}),t8=w.forwardRef(({className:n,variant:e,size:t,children:r,...i},s)=>v.jsx(Q9,{ref:s,className:Se("flex items-center justify-center gap-1",n),...i,children:v.jsx(e8.Provider,{value:{variant:e,size:t},children:r})}));t8.displayName=Q9.displayName;const gA=w.forwardRef(({className:n,children:e,variant:t,size:r,...i},s)=>{const o=w.useContext(e8);return v.jsx(Z9,{ref:s,className:Se(J9({variant:o.variant||t,size:o.size||r}),n),...i,children:e})});gA.displayName=Z9.displayName;var mA=["Enter"," "],Hce=["ArrowDown","PageUp","Home"],n8=["ArrowUp","PageDown","End"],Wce=[...Hce,...n8],Gce={ltr:[...mA,"ArrowRight"],rtl:[...mA,"ArrowLeft"]},qce={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zv="Menu",[Og,Kce,Yce]=iT(zv),[Bu,r8]=bf(zv,[Yce,Af,Q1]),Z1=Af(),i8=Q1(),[Xce,zu]=Bu(zv),[Qce,Uv]=Bu(zv),s8=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=n,a=Z1(e),[l,c]=w.useState(null),u=w.useRef(!1),d=Ei(s),h=G1(i);return w.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),v.jsx(K2,{...a,children:v.jsx(Xce,{scope:e,open:t,onOpenChange:d,content:l,onContentChange:c,children:v.jsx(Qce,{scope:e,onClose:w.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:o,children:r})})})};s8.displayName=zv;var Zce="MenuAnchor",lT=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Z1(t);return v.jsx(Y2,{...i,...r,ref:e})});lT.displayName=Zce;var cT="MenuPortal",[Jce,o8]=Bu(cT,{forceMount:void 0}),a8=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=zu(cT,e);return v.jsx(Jce,{scope:e,forceMount:t,children:v.jsx(ta,{present:t||s.open,children:v.jsx(Fn,{asChild:!0,container:i,children:r})})})};a8.displayName=cT;var _i="MenuContent",[eue,uT]=Bu(_i),l8=w.forwardRef((n,e)=>{const t=o8(_i,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=zu(_i,n.__scopeMenu),o=Uv(_i,n.__scopeMenu);return v.jsx(Og.Provider,{scope:n.__scopeMenu,children:v.jsx(ta,{present:r||s.open,children:v.jsx(Og.Slot,{scope:n.__scopeMenu,children:o.modal?v.jsx(tue,{...i,ref:e}):v.jsx(nue,{...i,ref:e})})})})}),tue=w.forwardRef((n,e)=>{const t=zu(_i,n.__scopeMenu),r=w.useRef(null),i=Ge(e,r);return w.useEffect(()=>{const s=r.current;if(s)return v2(s)},[]),v.jsx(dT,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:de(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),nue=w.forwardRef((n,e)=>{const t=zu(_i,n.__scopeMenu);return v.jsx(dT,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),dT=w.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=n,_=zu(_i,t),y=Uv(_i,t),b=Z1(t),x=i8(t),S=Kce(t),[E,k]=w.useState(null),R=w.useRef(null),T=Ge(e,R,_.onContentChange),M=w.useRef(0),L=w.useRef(""),N=w.useRef(0),z=w.useRef(null),W=w.useRef("right"),O=w.useRef(0),U=g?v1:w.Fragment,B=g?{as:ml,allowPinchZoom:!0}:void 0,j=F=>{var Q,me;const q=L.current+F,ee=S().filter(Y=>!Y.disabled),J=document.activeElement,le=(Q=ee.find(Y=>Y.ref.current===J))==null?void 0:Q.textValue,ae=ee.map(Y=>Y.textValue),xe=pue(ae,q,le),ne=(me=ee.find(Y=>Y.textValue===xe))==null?void 0:me.ref.current;(function Y(K){L.current=K,window.clearTimeout(M.current),K!==""&&(M.current=window.setTimeout(()=>Y(""),1e3))})(q),ne&&setTimeout(()=>ne.focus())};w.useEffect(()=>()=>window.clearTimeout(M.current),[]),m2();const D=w.useCallback(F=>{var ee,J;return W.current===((ee=z.current)==null?void 0:ee.side)&&mue(F,(J=z.current)==null?void 0:J.area)},[]);return v.jsx(eue,{scope:t,searchRef:L,onItemEnter:w.useCallback(F=>{D(F)&&F.preventDefault()},[D]),onItemLeave:w.useCallback(F=>{var q;D(F)||((q=R.current)==null||q.focus(),k(null))},[D]),onTriggerLeave:w.useCallback(F=>{D(F)&&F.preventDefault()},[D]),pointerGraceTimerRef:N,onPointerGraceIntentChange:w.useCallback(F=>{z.current=F},[]),children:v.jsx(U,{...B,children:v.jsx(g1,{asChild:!0,trapped:i,onMountAutoFocus:de(s,F=>{var q;F.preventDefault(),(q=R.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:v.jsx(Rv,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:v.jsx(U9,{asChild:!0,...x,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:k,onEntryFocus:de(l,F=>{y.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(X2,{role:"menu","aria-orientation":"vertical","data-state":E8(_.open),"data-radix-menu-content":"",dir:y.dir,...b,...m,ref:T,style:{outline:"none",...m.style},onKeyDown:de(m.onKeyDown,F=>{const ee=F.target.closest("[data-radix-menu-content]")===F.currentTarget,J=F.ctrlKey||F.altKey||F.metaKey,le=F.key.length===1;ee&&(F.key==="Tab"&&F.preventDefault(),!J&&le&&j(F.key));const ae=R.current;if(F.target!==ae||!Wce.includes(F.key))return;F.preventDefault();const ne=S().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);n8.includes(F.key)&&ne.reverse(),hue(ne)}),onBlur:de(n.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(M.current),L.current="")}),onPointerMove:de(n.onPointerMove,Ng(F=>{const q=F.target,ee=O.current!==F.clientX;if(F.currentTarget.contains(q)&&ee){const J=F.clientX>O.current?"right":"left";W.current=J,O.current=F.clientX}}))})})})})})})});l8.displayName=_i;var rue="MenuGroup",hT=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(De.div,{role:"group",...r,ref:e})});hT.displayName=rue;var iue="MenuLabel",c8=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(De.div,{...r,ref:e})});c8.displayName=iue;var a_="MenuItem",KL="menu.itemSelect",J1=w.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=w.useRef(null),o=Uv(a_,n.__scopeMenu),a=uT(a_,n.__scopeMenu),l=Ge(e,s),c=w.useRef(!1),u=()=>{const d=s.current;if(!t&&d){const h=new CustomEvent(KL,{bubbles:!0,cancelable:!0});d.addEventListener(KL,p=>r==null?void 0:r(p),{once:!0}),tj(d,h),h.defaultPrevented?c.current=!1:o.onClose()}};return v.jsx(u8,{...i,ref:l,disabled:t,onClick:de(n.onClick,u),onPointerDown:d=>{var h;(h=n.onPointerDown)==null||h.call(n,d),c.current=!0},onPointerUp:de(n.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:de(n.onKeyDown,d=>{const h=a.searchRef.current!=="";t||h&&d.key===" "||mA.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});J1.displayName=a_;var u8=w.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,o=uT(a_,t),a=i8(t),l=w.useRef(null),c=Ge(e,l),[u,d]=w.useState(!1),[h,p]=w.useState("");return w.useEffect(()=>{const g=l.current;g&&p((g.textContent??"").trim())},[s.children]),v.jsx(Og.ItemSlot,{scope:t,disabled:r,textValue:i??h,children:v.jsx(V9,{asChild:!0,...a,focusable:!r,children:v.jsx(De.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:de(n.onPointerMove,Ng(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:de(n.onPointerLeave,Ng(g=>o.onItemLeave(g))),onFocus:de(n.onFocus,()=>d(!0)),onBlur:de(n.onBlur,()=>d(!1))})})})}),sue="MenuCheckboxItem",d8=w.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return v.jsx(m8,{scope:n.__scopeMenu,checked:t,children:v.jsx(J1,{role:"menuitemcheckbox","aria-checked":l_(t)?"mixed":t,...i,ref:e,"data-state":pT(t),onSelect:de(i.onSelect,()=>r==null?void 0:r(l_(t)?!0:!t),{checkForDefaultPrevented:!1})})})});d8.displayName=sue;var h8="MenuRadioGroup",[oue,aue]=Bu(h8,{value:void 0,onValueChange:()=>{}}),f8=w.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=Ei(r);return v.jsx(oue,{scope:n.__scopeMenu,value:t,onValueChange:s,children:v.jsx(hT,{...i,ref:e})})});f8.displayName=h8;var p8="MenuRadioItem",g8=w.forwardRef((n,e)=>{const{value:t,...r}=n,i=aue(p8,n.__scopeMenu),s=t===i.value;return v.jsx(m8,{scope:n.__scopeMenu,checked:s,children:v.jsx(J1,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":pT(s),onSelect:de(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});g8.displayName=p8;var fT="MenuItemIndicator",[m8,lue]=Bu(fT,{checked:!1}),v8=w.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=lue(fT,t);return v.jsx(ta,{present:r||l_(s.checked)||s.checked===!0,children:v.jsx(De.span,{...i,ref:e,"data-state":pT(s.checked)})})});v8.displayName=fT;var cue="MenuSeparator",y8=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(De.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});y8.displayName=cue;var uue="MenuArrow",w8=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Z1(t);return v.jsx(Q2,{...i,...r,ref:e})});w8.displayName=uue;var due="MenuSub",[pfe,_8]=Bu(due),Pp="MenuSubTrigger",b8=w.forwardRef((n,e)=>{const t=zu(Pp,n.__scopeMenu),r=Uv(Pp,n.__scopeMenu),i=_8(Pp,n.__scopeMenu),s=uT(Pp,n.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:n.__scopeMenu},u=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>u,[u]),w.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),v.jsx(lT,{asChild:!0,...c,children:v.jsx(u8,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":E8(t.open),...n,ref:p1(e,i.onTriggerChange),onClick:d=>{var h;(h=n.onClick)==null||h.call(n,d),!(n.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:de(n.onPointerMove,Ng(d=>{s.onItemEnter(d),!d.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:de(n.onPointerLeave,Ng(d=>{var p,g;u();const h=(p=t.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=t.content)==null?void 0:g.dataset.side,_=m==="right",y=_?-5:5,b=h[_?"left":"right"],x=h[_?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:b,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:b,y:h.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:de(n.onKeyDown,d=>{var p;const h=s.searchRef.current!=="";n.disabled||h&&d.key===" "||Gce[r.dir].includes(d.key)&&(t.onOpenChange(!0),(p=t.content)==null||p.focus(),d.preventDefault())})})})});b8.displayName=Pp;var x8="MenuSubContent",S8=w.forwardRef((n,e)=>{const t=o8(_i,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=zu(_i,n.__scopeMenu),o=Uv(_i,n.__scopeMenu),a=_8(x8,n.__scopeMenu),l=w.useRef(null),c=Ge(e,l);return v.jsx(Og.Provider,{scope:n.__scopeMenu,children:v.jsx(ta,{present:r||s.open,children:v.jsx(Og.Slot,{scope:n.__scopeMenu,children:v.jsx(dT,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:de(n.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:de(n.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:de(n.onKeyDown,u=>{var p;const d=u.currentTarget.contains(u.target),h=qce[o.dir].includes(u.key);d&&h&&(s.onOpenChange(!1),(p=a.trigger)==null||p.focus(),u.preventDefault())})})})})})});S8.displayName=x8;function E8(n){return n?"open":"closed"}function l_(n){return n==="indeterminate"}function pT(n){return l_(n)?"indeterminate":n?"checked":"unchecked"}function hue(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function fue(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function pue(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=fue(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function gue(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function mue(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return gue(t,e)}function Ng(n){return e=>e.pointerType==="mouse"?n(e):void 0}var vue=s8,yue=lT,wue=a8,_ue=l8,bue=hT,xue=c8,Sue=J1,Eue=d8,Cue=f8,Aue=g8,Pue=v8,Tue=y8,kue=w8,Rue=b8,Mue=S8,gT="DropdownMenu",[Due,gfe]=bf(gT,[r8]),or=r8(),[Lue,C8]=Due(gT),A8=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,l=or(e),c=w.useRef(null),[u=!1,d]=Ko({prop:i,defaultProp:s,onChange:o});return v.jsx(Lue,{scope:e,triggerId:Ns(),triggerRef:c,contentId:Ns(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(h=>!h),[d]),modal:a,children:v.jsx(vue,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:t})})};A8.displayName=gT;var P8="DropdownMenuTrigger",T8=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=C8(P8,t),o=or(t);return v.jsx(yue,{asChild:!0,...o,children:v.jsx(De.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:p1(e,s.triggerRef),onPointerDown:de(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:de(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});T8.displayName=P8;var Iue="DropdownMenuPortal",k8=n=>{const{__scopeDropdownMenu:e,...t}=n,r=or(e);return v.jsx(wue,{...r,...t})};k8.displayName=Iue;var R8="DropdownMenuContent",M8=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=C8(R8,t),s=or(t),o=w.useRef(!1);return v.jsx(_ue,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:de(n.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:de(n.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});M8.displayName=R8;var Oue="DropdownMenuGroup",Nue=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=or(t);return v.jsx(bue,{...i,...r,ref:e})});Nue.displayName=Oue;var Fue="DropdownMenuLabel",D8=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=or(t);return v.jsx(xue,{...i,...r,ref:e})});D8.displayName=Fue;var jue="DropdownMenuItem",L8=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=or(t);return v.jsx(Sue,{...i,...r,ref:e})});L8.displayName=jue;var $ue="DropdownMenuCheckboxItem",I8=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=or(t);return v.jsx(Eue,{...i,...r,ref:e})});I8.displayName=$ue;var Bue="DropdownMenuRadioGroup",zue=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=or(t);return v.jsx(Cue,{...i,...r,ref:e})});zue.displayName=Bue;var Uue="DropdownMenuRadioItem",O8=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=or(t);return v.jsx(Aue,{...i,...r,ref:e})});O8.displayName=Uue;var Vue="DropdownMenuItemIndicator",N8=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=or(t);return v.jsx(Pue,{...i,...r,ref:e})});N8.displayName=Vue;var Hue="DropdownMenuSeparator",F8=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=or(t);return v.jsx(Tue,{...i,...r,ref:e})});F8.displayName=Hue;var Wue="DropdownMenuArrow",Gue=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=or(t);return v.jsx(kue,{...i,...r,ref:e})});Gue.displayName=Wue;var que="DropdownMenuSubTrigger",j8=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=or(t);return v.jsx(Rue,{...i,...r,ref:e})});j8.displayName=que;var Kue="DropdownMenuSubContent",$8=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=or(t);return v.jsx(Mue,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$8.displayName=Kue;var Yue=A8,Xue=T8,Que=k8,B8=M8,z8=D8,U8=L8,V8=I8,H8=O8,W8=N8,G8=F8,q8=j8,K8=$8;const YL=Yue,XL=Xue,Zue=w.forwardRef(({className:n,inset:e,children:t,...r},i)=>v.jsxs(q8,{ref:i,className:Se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...r,children:[t,v.jsx(cte,{className:"ml-auto h-4 w-4"})]}));Zue.displayName=q8.displayName;const Jue=w.forwardRef(({className:n,...e},t)=>v.jsx(K8,{ref:t,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));Jue.displayName=K8.displayName;const vA=w.forwardRef(({className:n,sideOffset:e=4,...t},r)=>v.jsx(Que,{children:v.jsx(B8,{ref:r,sideOffset:e,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));vA.displayName=B8.displayName;const Y8=w.forwardRef(({className:n,inset:e,...t},r)=>v.jsx(U8,{ref:r,className:Se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));Y8.displayName=U8.displayName;const ede=w.forwardRef(({className:n,children:e,checked:t,...r},i)=>v.jsxs(V8,{ref:i,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(W8,{children:v.jsx(Lj,{className:"h-4 w-4"})})}),e]}));ede.displayName=V8.displayName;const tde=w.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(H8,{ref:r,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(W8,{children:v.jsx(gte,{className:"h-4 w-4 fill-current"})})}),e]}));tde.displayName=H8.displayName;const nde=w.forwardRef(({className:n,inset:e,...t},r)=>v.jsx(z8,{ref:r,className:Se("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));nde.displayName=z8.displayName;const rde=w.forwardRef(({className:n,...e},t)=>v.jsx(G8,{ref:t,className:Se("-mx-1 my-1 h-px bg-muted",n),...e}));rde.displayName=G8.displayName;const ide=p2("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),od=w.forwardRef(({className:n,variant:e,...t},r)=>v.jsx("div",{ref:r,role:"alert",className:Se(ide({variant:e}),n),...t}));od.displayName="Alert";const sde=w.forwardRef(({className:n,...e},t)=>v.jsx("h5",{ref:t,className:Se("mb-1 font-medium leading-none tracking-tight",n),...e}));sde.displayName="AlertTitle";const ad=w.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:Se("text-sm [&_p]:leading-relaxed",n),...e}));ad.displayName="AlertDescription";const ode=({currentFileName:n,onExport:e,showWelcomeMessage:t})=>{const r=Ou(),{zoomIn:i,zoomOut:s,resetTransform:o}=Fle(),a=Tl(),l=ft(H=>H.canvas.selectedTool),c=ft(H=>H.canvas.historyIndex),u=ft(H=>H.canvas.history.length),d=ft(H=>H.canvas.showAllMeasurements),h=ft(H=>H.canvas.pixelsPerUnit),p=ft(H=>H.canvas.currentUnit),g=ft(H=>H.canvas.scale),m=ft(H=>H.canvas.measurements),{setError:_,saveMeasurements:y}=O1(),b=ft(H=>H.canvas.scaleType),[x,S]=w.useState(100),[E,k]=w.useState("px"),[R,T]=w.useState(!1),[M,L]=w.useState(!1),[N,z]=w.useState(!1),[W,O]=w.useState(!1),[U,B]=w.useState(!1),j=ft(H=>H.canvas.currentFile);w.useEffect(()=>{if(t){z(!0),O(!0);const H=setTimeout(()=>{z(!1)},4e3),V=setTimeout(()=>{O(!1)},1e4);return()=>{clearTimeout(H),clearTimeout(V)}}},[t]),w.useEffect(()=>{S(g!==void 0?g:100),k(p||"px")},[g,p]),w.useEffect(()=>{M&&S(g)},[M,g]);const D=H=>{const V=parseFloat(H.target.value);if(!isNaN(V)&&V>0){S(V);const re=100/V;a($p(V)),a(lc(re))}},F=H=>{if(H.key==="ArrowUp"||H.key==="ArrowDown"){H.preventDefault();const V=.01,re=H.key==="ArrowUp"?x+V:Math.max(.01,x-V);S(re),a($p(re)),a(lc(100/re))}},q=H=>{k(H),a(sH(H))},ee=()=>{const V="cm";S(100),k(V),a(lc(1)),a(vg(V))},J=H=>H===100&&E==="px"?"100":H.toFixed(2),le=H=>{var ve;if(R)return H.toString();const[V,re]=H.toFixed(2).split(".");return`${V}.${re}${((ve=H.toString().split(".")[1])==null?void 0:ve.length)>2?"..":""}`},ae=`100px = ${J(x)}${E}`,xe=H=>{H!=="showAll"&&a(Jh(H))},ne=()=>{a(ZV())},Q=()=>{a(JV())},me=w.useCallback(()=>{j&&y(j.name,m,h,p,g),a(iH()),a(GO()),r("/gallery")},[a,r,j,m,h,p,g,y]),Y=()=>{a(nH(!d))},K=H=>{a(Jh("setScale")),a(oH(H)),L(!1)},he=()=>{n?(y(n,m,h,p,g),B(!0),setTimeout(()=>B(!1),3e3)):_("No file is open to save")},te=w.useCallback(H=>{const V=H.ctrlKey||H.metaKey;V&&H.key==="z"?(H.preventDefault(),H.shiftKey?Q():ne()):V&&H.key==="y"&&(H.preventDefault(),Q())},[ne,Q]);return w.useEffect(()=>(window.addEventListener("keydown",te),()=>{window.removeEventListener("keydown",te)}),[te]),v.jsx(eT,{delayDuration:0,children:v.jsxs("div",{className:"relative",children:[v.jsxs("div",{className:"bg-white p-2 rounded-t-lg shadow-md flex items-center space-x-2 overflow-x-auto rounded-lg",children:[v.jsxs(t8,{type:"multiple",value:[l,...d?["showAll"]:[]],onValueChange:H=>{H.includes("showAll")?Y():xe(H[0])},children:[v.jsxs(Rr,{children:[v.jsx(Mr,{asChild:!0,children:v.jsx(gA,{value:"measure","aria-label":je.measure,className:"h-10 w-10 p-0","data-state":l==="measure"?"on":"off",children:v.jsx(kv,{className:"h-4 w-4"})})}),v.jsx(Fn,{children:v.jsx(dr,{side:"top",align:"center",className:"z-[9999]",children:je.measure})})]}),v.jsxs(Rr,{children:[v.jsx(Mr,{asChild:!0,children:v.jsx(We,{onClick:ne,variant:"outline",size:"icon",className:"h-10 w-10 p-0",disabled:c<=0,children:v.jsx(OJ,{className:"h-4 w-4"})})}),v.jsx(Fn,{children:v.jsx(dr,{side:"top",align:"center",className:"z-[9999]",children:je.undo})})]}),v.jsxs(Rr,{children:[v.jsx(Mr,{asChild:!0,children:v.jsx(We,{onClick:Q,variant:"outline",size:"icon",className:"h-10 w-10 p-0",disabled:c>=u-1,children:v.jsx(RJ,{className:"h-4 w-4"})})}),v.jsx(Fn,{children:v.jsx(dr,{side:"top",align:"center",className:"z-[9999]",children:je.redo})})]}),v.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),v.jsxs(Rr,{children:[v.jsx(Mr,{asChild:!0,children:v.jsx(We,{onClick:()=>i(),variant:"outline",size:"icon",className:"h-10 w-10 p-0",children:v.jsx(FJ,{className:"h-4 w-4"})})}),v.jsx(Fn,{children:v.jsx(dr,{side:"top",align:"center",className:"z-[9999]",children:je.zoomIn})})]}),v.jsxs(Rr,{children:[v.jsx(Mr,{asChild:!0,children:v.jsx(We,{onClick:()=>s(),variant:"outline",size:"icon",className:"h-10 w-10 p-0",children:v.jsx(jJ,{className:"h-4 w-4"})})}),v.jsx(Fn,{children:v.jsx(dr,{side:"top",align:"center",className:"z-[9999]",children:je.zoomOut})})]}),v.jsxs(Rr,{children:[v.jsx(Mr,{asChild:!0,children:v.jsx(We,{onClick:()=>o(),variant:"outline",size:"icon",className:"h-10 w-10 p-0",children:v.jsx(MJ,{className:"h-4 w-4"})})}),v.jsx(Fn,{children:v.jsx(dr,{side:"top",align:"center",className:"z-[9999]",children:je.resetView})})]}),v.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),v.jsxs(YL,{open:M&&l!=="setScale",onOpenChange:H=>{!M&&H?L(!0):M&&!H&&L(!1)},children:[v.jsx(XL,{asChild:!0,children:v.jsxs(We,{variant:"outline",className:"flex items-center h-10",children:[ae," ",v.jsx(Q4,{className:"ml-2 h-4 w-4"})]})}),v.jsx(vA,{className:"w-auto p-2 z-[9999]",children:v.jsxs("div",{className:"flex flex-col space-y-2",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{children:"100px ="}),v.jsx(Fs,{type:"number",value:le(x),onChange:D,onKeyDown:F,onFocus:()=>T(!0),onBlur:()=>{T(!1),a($p(x)),a(lc(100/x))},className:"w-20",step:"0.01"}),v.jsxs(YL,{children:[v.jsx(XL,{asChild:!0,children:v.jsx(We,{variant:"outline",children:E})}),v.jsx(vA,{className:"w-auto p-2 z-[9999]",children:VO.map(H=>v.jsx(Y8,{onSelect:()=>q(H),children:H},H))})]})]}),v.jsxs("div",{className:"flex flex-col space-y-2",children:[v.jsx(We,{onClick:()=>K("distance"),className:"flex-1",children:"Set Scale (Distance)"}),v.jsx(We,{onClick:()=>K("area"),className:"flex-1",children:"Set Scale (Area)"}),v.jsx(We,{onClick:ee,variant:"outline",className:"flex-1",children:"Reset"})]})]})})]}),v.jsxs(Rr,{children:[v.jsx(Mr,{asChild:!0,children:v.jsx(gA,{value:"showAll","aria-label":je.showAll,className:Se("h-10 w-10 p-0",d&&"bg-purple-700"),"data-state":d?"on":"off",onClick:Y,children:d?v.jsx(TJ,{className:"h-4 w-4"}):v.jsx(PJ,{className:"h-4 w-4"})})}),v.jsx(Fn,{children:v.jsx(dr,{side:"top",align:"center",className:"z-[9999]",children:je.showAll})})]})]}),v.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),v.jsxs(Rr,{children:[v.jsx(Mr,{asChild:!0,children:v.jsx(We,{onClick:he,variant:"outline",size:"icon",className:"h-10 w-10 p-0",children:v.jsx(DJ,{className:"h-4 w-4"})})}),v.jsx(Fn,{children:v.jsx(dr,{side:"top",align:"center",className:"z-[9999]",children:je.save})})]}),v.jsxs(Rr,{children:[v.jsx(Mr,{asChild:!0,children:v.jsx(We,{onClick:e,variant:"outline",size:"icon",className:"h-10 w-10 p-0",disabled:!n,children:v.jsx(Z4,{className:"h-4 w-4"})})}),v.jsx(Fn,{children:v.jsx(dr,{side:"top",align:"center",className:"z-[9999]",children:je.export})})]}),v.jsxs(Rr,{children:[v.jsx(Mr,{asChild:!0,children:v.jsx(We,{onClick:me,variant:"outline",size:"icon",className:"h-10 w-10 p-0 bg-rose-500 text-white hover:bg-rose-600",children:v.jsx(ej,{className:"h-4 w-4"})})}),v.jsx(Fn,{children:v.jsx(dr,{side:"top",align:"center",className:"z-[9999]",children:je.close})})]})]}),l==="setScale"&&!M&&b==="distance"&&v.jsxs(od,{className:"absolute top-full left-0 mt-2 w-96 bg-black/80 text-white shadow-lg",children:[v.jsx(P0,{className:"h-4 w-4 stroke-white"}),v.jsx(ad,{children:je.setScaleDistanceInstructions})]}),l==="setScale"&&!M&&b==="area"&&v.jsxs(od,{className:"absolute top-full left-0 mt-2 w-96 bg-black/80 text-white shadow-lg",children:[v.jsx(P0,{className:"h-4 w-4 stroke-white"}),v.jsx(ad,{children:je.setScaleAreaInstructions})]}),t&&v.jsxs(v.Fragment,{children:[v.jsxs(od,{className:Se("absolute top-full left-0 mt-2 w-96 bg-rose-500 text-white shadow-lg transition-opacity duration-500",N?"opacity-100":"opacity-0"),children:[v.jsx(P0,{className:"h-4 w-4 stroke-white"}),v.jsxs(ad,{children:[v.jsx("p",{children:v.jsx("b",{children:je.welcomeTitle})}),v.jsx("p",{children:je.welcomeMessage})]})]}),v.jsxs(od,{className:Se("absolute top-full left-0 mt-28 w-96 bg-rose-500 text-white shadow-lg transition-opacity duration-500",W?"opacity-100":"opacity-0"),children:[v.jsx(P0,{className:"h-4 w-4 stroke-white"}),v.jsxs(ad,{children:[v.jsx("p",{children:v.jsx("b",{children:je.WelcomeTip1})}),v.jsx("p",{children:je.WelcomeTip1_1}),v.jsx("p",{children:je.WelcomeTip1_2}),v.jsx("p",{children:je.WelcomeTip1_3})]})]})]}),U&&v.jsx(od,{className:"absolute top-full left-0 mt-2 w-96 bg-green-400 text-white shadow-lg transition-opacity duration-500",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(AJ,{className:"h-4 w-4 stroke-white"}),v.jsx(ad,{className:"mt-0",children:je.fileSaved})]})})]})})},ade=()=>{const[n,e]=w.useState({width:0,height:0}),t=ft(r=>r.canvas.currentFile);return w.useEffect(()=>{const r=()=>{if(t&&t.objectURL){const i=new Image;i.onload=()=>{const s=i.width/i.height,o=window.innerWidth*.9,a=window.innerHeight*.9;let l,c;i.width>o||i.height>a?o/s<=a?(l=o,c=o/s):(c=a,l=a*s):(l=i.width,c=i.height),e({width:l,height:c})},i.src=t.objectURL}else{const i=window.innerWidth*.9,s=window.innerHeight*.9;e({width:i,height:s})}};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[t]),n},lde=()=>{const n=Tl(),e=w.useRef(null),t=w.useRef(null),{width:r,height:i}=ade(),s=ft(p=>p.canvas.currentFile),o=Ou(),[a,l]=w.useState(!0),[c,u]=w.useState(!0),d=ft(p=>p.auth.session),h=w.useCallback(()=>{n(GO()),o("/gallery")},[n,o]);return w.useEffect(()=>{l(!1);const p=setTimeout(()=>{u(!1)},11e3);return()=>clearTimeout(p)},[]),w.useEffect(()=>()=>{s!=null&&s.objectURL&&URL.revokeObjectURL(s.objectURL)},[s]),d?s?v.jsx("div",{className:"flex flex-col min-h-screen w-full bg-gradient-to-br from-rose-50 via-white to-rose-100",children:v.jsx("div",{ref:e,style:{width:"98vw",height:"95vh",position:"absolute",top:"2.5vh",left:"1vw",overflow:"hidden",zIndex:100,boxShadow:"0 0 10px rgba(0,0,0,0.5)",backgroundColor:"white",borderRadius:"1rem"},children:v.jsx(Lle,{initialScale:1,initialPositionX:0,initialPositionY:0,minScale:.2,maxScale:5,centerOnInit:!0,doubleClick:{disabled:!0},limitToBounds:!0,disabled:!1,children:({zoomIn:p,zoomOut:g,resetTransform:m,zoomToElement:_,state:y})=>(w.useEffect(()=>{const b=()=>{var k,R;const x=((k=e.current)==null?void 0:k.clientWidth)||0,S=((R=e.current)==null?void 0:R.clientHeight)||0,E=Math.min(x/r,S/i);m(),_("content",E,0)};return window.addEventListener("resize",b),b(),()=>window.removeEventListener("resize",b)},[r,i,m,_,y==null?void 0:y.scale]),v.jsxs(v.Fragment,{children:[v.jsx(Nle,{wrapperStyle:{width:"100%",height:"100%"},children:v.jsxs("div",{id:"content",style:{position:"relative",width:`${r}px`,height:`${i}px`},children:[v.jsx($le,{width:r,height:i,canvasRef:t,isInitialLoad:a}),v.jsx(Sce,{width:r,height:i,isInitialLoad:a,containerRef:e})]})}),v.jsx("div",{style:{position:"absolute",top:10,left:10,zIndex:200},children:v.jsx(ode,{zoomIn:p,zoomOut:g,resetTransform:m,onClose:h,isCanvasJustOpened:a,showWelcomeMessage:c,onDownload:()=>{},currentFileName:(s==null?void 0:s.name)||null,onExport:()=>{}})})]}))})})}):v.jsx(Cg,{to:"/gallery",replace:!0}):v.jsx(Cg,{to:"/auth",replace:!0})};async function cde(n,e,t){if(!n||!e||!t)throw new Error("All fields are required");try{const{error:r}=await ns.from("waitlist").insert([{first_name:n,last_name:e,email:t}]);if(r)throw r.code==="23505"?new Error("This email is already registered"):(console.error("Supabase error:",r),r);return console.log("Waitlist joined successfully"),{message:"Successfully registered"}}catch(r){throw console.error("Error adding to waitlist:",r),r instanceof Error?r:new Error("Unable to register, please try again later")}}const ude=()=>{const[n,e]=w.useState(""),[t,r]=w.useState(""),[i,s]=w.useState(""),[o,a]=w.useState(!1),[l,c]=w.useState(!1),u=async d=>{d.preventDefault(),a(!0);try{await cde(n,t,i),c(!0)}catch(h){console.error("Error during registration:",h),h instanceof Error?h.message==="This email is already registered"?alert("This email is already registered. Please use a different email."):alert("Unable to register at this time. Please try again later."):alert("An unexpected error occurred. Please try again later.")}finally{a(!1)}};return v.jsxs(P2,{children:[v.jsx(mte,{asChild:!0,children:v.jsx(We,{children:"Join Waitlist"})}),v.jsxs(y1,{className:"sm:max-w-[425px]",children:[v.jsxs(w1,{children:[v.jsx(_1,{className:"text-2xl font-bold text-rose-500 mb-2",children:"Join the waitlist for the Pro version"}),v.jsx(b1,{className:"text-gray-600 mb-6",children:"Enter your details to be notified when the Pro version launches."})]}),l?v.jsx("p",{className:"text-green-600 text-center py-4",children:"Thank you for registering! We'll be in touch soon."}):v.jsxs("form",{onSubmit:u,className:"space-y-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"firstName",className:"text-sm font-medium text-gray-700",children:"First Name"}),v.jsx(Fs,{id:"firstName",type:"text",value:n,onChange:d=>e(d.target.value),required:!0,className:"w-full py-2 px-4 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"lastName",className:"text-sm font-medium text-gray-700",children:"Last Name"}),v.jsx(Fs,{id:"lastName",type:"text",value:t,onChange:d=>r(d.target.value),required:!0,className:"w-full py-2 px-4 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email address"}),v.jsx(Fs,{id:"email",type:"email",value:i,onChange:d=>s(d.target.value),required:!0,className:"w-full py-2 px-4 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),v.jsx(We,{type:"submit",disabled:o,className:"w-full py-3 px-4 rounded-md text-white font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 bg-rose-500 hover:bg-rose-600",children:o?"Registering...":"Register"})]})]})]})},aa={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1.8,once:!0}},Qu={animate:{transition:{staggerChildren:.5}}},dde=()=>{const n=wf(),e=Ou();w.useEffect(()=>{if(n.hash){const m=document.querySelector(n.hash);m&&m.scrollIntoView({behavior:"smooth"})}},[n]);const t=m=>_=>{_.preventDefault();const y=document.querySelector(m);y&&y.scrollIntoView({behavior:"smooth"})},[r,i]=I.useState(null),s=m=>{i(r===m?null:m)},o=[{question:"What file types are supported?",answer:"We support a wide range of image formats (JPEG, PNG, GIF, BMP, WebP, TIFF, etc.) and PDF files. Just drag and drop while in the gallery and you're good to go."},{question:"Can I measure both distances and areas?",answer:"Yes, you can measure both distances and areas. Just keep placing points and the app will calculate it for you."},{question:"Can I set the scale?",answer:"Yes, you can set the scale of the measurements. You can do this with the 'Set scale' tool - available for both distance and area."},{question:"Are both imperial and metric units supported?",answer:"Yes, you can choose between imperial and metric units. Just use the 'Set scale' tool - available for both distance and area. By default, you are measuring in pixels."},{question:"Is my data secure?",answer:"The app is still in beta (and free!), so data is not being stored right now. All measurements are being calculated in your browser only. We recommend that you save your files to your computer so you can access them later."}],a=()=>{e("/gallery")},[l,c]=w.useState(""),[u,d]=w.useState(!1),[h,p]=w.useState(""),g=async m=>{m.preventDefault(),d(!0),p("");const{error:_}=await ns.auth.signInWithOtp({email:l,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});d(!1),p(_?"An error occurred. Please try again later.":"Check your email for the login link!")};return v.jsxs("div",{className:"flex flex-col min-h-screen w-full bg-gradient-to-br from-rose-50 via-white to-rose-100",children:[v.jsxs("header",{className:"px-4 lg:px-6 h-14 flex items-center backdrop-blur-md bg-white/30 fixed w-full z-50",children:[v.jsxs("a",{className:"flex items-center justify-center",href:"#",children:[v.jsx(kv,{className:"h-6 w-6 mr-2 text-rose-500"}),v.jsx("span",{className:"font-bold text-rose-500",children:"Measure.app"})]}),v.jsxs("nav",{className:"ml-auto flex gap-4 sm:gap-6",children:[v.jsx("a",{className:"text-sm font-medium hover:text-rose-500 transition-colors",href:"#features",onClick:t("#features"),children:"Features"}),v.jsx("a",{className:"text-sm font-medium hover:text-rose-500 transition-colors",href:"#how-it-works",onClick:t("#how-it-works"),children:"How It Works"}),v.jsx("a",{className:"text-sm font-medium hover:text-rose-500 transition-colors",href:"#reviews",onClick:t("#reviews"),children:"Reviews"}),v.jsx("a",{className:"text-sm font-medium hover:text-rose-500 transition-colors",href:"#pricing",onClick:t("#pricing"),children:"Pricing"}),v.jsx("a",{className:"text-sm font-medium hover:text-rose-500 transition-colors",href:"#faq",onClick:t("#faq"),children:"FAQ"})]})]}),v.jsx("main",{className:"flex-1 w-full",children:v.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[v.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32 xl:py-48",children:v.jsx("div",{className:"container px-4 md:px-6",children:v.jsxs(qe.div,{initial:"initial",animate:"animate",variants:Qu,className:"flex flex-col items-center space-y-4 text-center",children:[v.jsxs(qe.div,{variants:aa,className:"space-y-2",children:[v.jsx("h1",{className:"text-4xl font-bold tracking-tighter sm:text-5xl md:text-6xl lg:text-7xl/none  bg-clip-text text-transparent bg-gradient-to-r pb-1 from-rose-500 to-purple-600",children:"Measure Anything, Anywhere"}),v.jsx("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-xl lg:text-2xl",children:"Instantly measure distances and areas on images, blueprints, and PDFs with our suuper-intuitive app."})]}),v.jsxs(qe.div,{variants:aa,className:"space-x-4",children:[v.jsx(We,{size:"lg",className:"bg-rose-500 hover:bg-rose-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",onClick:a,children:"Get Started"}),v.jsx(We,{size:"lg",variant:"outline",className:"text-rose-500 border-rose-500 hover:bg-rose-50 shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>{var m;return(m=document.getElementById("features"))==null?void 0:m.scrollIntoView({behavior:"smooth"})},children:"Learn More"})]})]})})}),v.jsx("section",{id:"features",className:"w-full py-12 md:py-24 lg:py-32",children:v.jsxs("div",{className:"container px-4 md:px-6",children:[v.jsx(qe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl text-center mb-12 text-rose-500",children:"Powerful Features"}),v.jsx(qe.div,{initial:"initial",whileInView:"animate",viewport:{once:!0},variants:{initial:{},animate:{transition:{staggerChildren:.2}}},className:"grid gap-10 sm:grid-cols-2 md:grid-cols-3",children:[{icon:kJ,title:"Precise Measurements",description:"Get accurate measurements of distances and areas with ease."},{icon:J4,title:"Image & PDF Support",description:"Works seamlessly with both image files and PDF documents."},{icon:NJ,title:"Instant Results",description:"Get measurements in real-time as you interact with your files."}].map((m,_)=>v.jsxs(qe.div,{variants:{initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5}}},className:"flex flex-col items-center space-y-3 text-center p-6 bg-white rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300",children:[v.jsx(m.icon,{className:"h-12 w-12 text-rose-500"}),v.jsx("h3",{className:"text-xl font-bold text-gray-800",children:m.title}),v.jsx("p",{className:"text-gray-500",children:m.description})]},_))})]})}),v.jsx("section",{id:"how-it-works",className:"w-full py-12 md:py-24 lg:py-32 bg-rose-50",children:v.jsxs("div",{className:"container px-4 md:px-6 w-full",children:[v.jsx(qe.h2,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl text-center mb-12 text-rose-500",children:"How It Works"}),v.jsx(qe.div,{initial:"initial",whileInView:"animate",viewport:{once:!0},variants:Qu,className:"flex flex-col md:flex-row justify-center items-start gap-8",children:[{step:1,title:"Upload",description:"Upload your image or PDF file to our app."},{step:2,title:"Measure",description:"Use our intuitive tool to measure distances and areas."},{step:3,title:"Analyze",description:"Get instant results and export your measurements."}].map((m,_)=>v.jsxs(qe.div,{variants:aa,className:"flex flex-col items-center text-center max-w-xs",children:[v.jsx("div",{className:"w-16 h-16 bg-rose-500 text-white rounded-full flex items-center justify-center text-2xl font-bold mb-4 shadow-lg",children:m.step}),v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:m.title}),v.jsx("p",{className:"text-gray-500",children:m.description})]},_))})]})}),v.jsx("section",{id:"reviews",className:"w-full py-12 md:py-24 lg:py-32",children:v.jsxs("div",{className:"container px-4 md:px-6",children:[v.jsx(qe.h2,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl text-center mb-12 text-rose-500",children:"What Our Users Say"}),v.jsx(qe.div,{initial:"initial",animate:"animate",variants:Qu,className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:[{name:"Michaela Rossinger",role:"Garden Designer",comment:"This app has helped us significantly during our brainstorming sessions. Quick and easy to get some measurements in place."},{name:"Sarah F.",role:"Interior Designer",comment:"The ability to measure directly on photos has been a game-changer for my design process. As long as I have a reference in the room it's super easy to to get a hang of the different measurements. Highly recommended!"},{name:"Alex Johnson",role:"Architect",comment:"Measure.app is such a breeze when working with older blueprints, it's super useful tool just to get some quick measurements from older scanned documents."}].map((m,_)=>v.jsxs(qe.div,{variants:aa,className:"bg-white p-6 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300",children:[v.jsx("div",{className:"flex items-center space-x-1 mb-4",children:[...Array(5)].map((y,b)=>v.jsx(LJ,{className:"h-5 w-5 text-yellow-400 fill-current"},b))}),v.jsxs("p",{className:"text-gray-600 mb-4",children:['"',m.comment,'"']}),v.jsx("div",{className:"font-semibold text-gray-800",children:m.name}),v.jsx("div",{className:"text-sm text-gray-500",children:m.role})]},_))})]})}),v.jsx("section",{id:"pricing",className:"w-full py-12 md:py-24 lg:py-32",children:v.jsxs("div",{className:"container px-4 md:px-6",children:[v.jsx(qe.h2,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl text-center mb-12 text-rose-500",children:"As cheap as it gets - for a limited time!"}),v.jsx(qe.div,{initial:"initial",animate:"animate",variants:Qu,className:"grid gap-8 md:grid-cols-2 px-4 md:px-16 lg:px-32",children:[{title:"Free",price:"- for a limited time!",features:["Measure distances","Measure areas","Set scale","Export measurements","Only local files"],cta:"Get Started",highlight:!0},{title:"Pro",price:"Coming Soon",features:["Measure distances","Measure areas","Set scale","Export measurements","Database storage","Rename measurements","Highlight areas","Export in list format","...and more!"],cta:"Join Waitlist",action:v.jsx(ude,{})}].map((m,_)=>v.jsxs(qe.div,{variants:aa,className:`flex flex-col p-6 bg-white rounded-xl shadow-xl ${m.highlight?"border-2 border-rose-500 scale-105":""}`,whileHover:{scale:m.highlight?1.05:1.02},children:[v.jsx("h3",{className:"text-2xl font-bold text-center mb-4",children:m.title}),v.jsx("p",{className:"text-center text-3xl font-bold text-gray-800 mb-6",children:m.price}),v.jsx("ul",{className:"space-y-2 mb-6 flex-grow",children:m.features.map((y,b)=>v.jsxs("li",{className:"flex items-center",children:[v.jsx(EJ,{className:"text-green-500 mr-2"}),v.jsx("span",{children:y})]},b))}),m.action||v.jsx(We,{className:`mt-auto ${m.highlight?"bg-rose-500 hover:bg-rose-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"}`,onClick:m.highlight?a:void 0,children:m.cta})]},_))})]})}),v.jsx("section",{id:"faq",className:"w-full py-12 md:py-24 lg:py-32",children:v.jsxs("div",{className:"container px-4 md:px-6",children:[v.jsx(qe.h2,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl text-center mb-12 text-rose-500",children:"Frequently Asked Questions"}),v.jsx(qe.div,{initial:"initial",animate:"animate",variants:Qu,className:"max-w-3xl mx-auto",children:o.map((m,_)=>v.jsxs(qe.div,{variants:aa,className:"mb-4",children:[v.jsxs("button",{className:"flex justify-between items-center w-full text-left p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300",onClick:()=>s(_),children:[v.jsx("span",{className:"font-semibold text-gray-800",children:m.question}),r===_?v.jsx(CJ,{className:"text-rose-500"}):v.jsx(Q4,{className:"text-rose-500"})]}),r===_&&v.jsx("div",{className:"mt-2 p-4 bg-white rounded-lg",children:v.jsx("p",{className:"text-gray-600",children:m.answer})})]},_))})]})}),v.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32 bg-gradient-to-r from-rose-500 to-purple-600",children:v.jsx("div",{className:"container px-4 md:px-6",children:v.jsxs(qe.div,{initial:"initial",whileInView:"animate",variants:Qu,className:"flex flex-col items-center space-y-4 text-center",children:[v.jsxs(qe.div,{variants:aa,className:"space-y-2",children:[v.jsx("h2",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl text-white",children:"Ready to Start Measuring?"}),v.jsx("p",{className:"mx-auto max-w-[600px] text-rose-100 md:text-xl",children:"Join the big team of professionals who trust Measure.app for accurate measurements."})]}),v.jsxs(qe.div,{variants:aa,className:"w-full max-w-md space-y-2",children:[v.jsxs("form",{onSubmit:g,className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[v.jsx(Fs,{className:"flex-grow bg-white",placeholder:"Enter your email",type:"email",value:l,onChange:m=>c(m.target.value),required:!0}),v.jsx(We,{type:"submit",disabled:u,className:"bg-rose-500 hover:bg-rose-600 text-white",children:u?"Sending...":"Get Started"})]}),h&&v.jsx("p",{className:`mt-2 text-sm text-white p-2 rounded ${h==="Check your email for the login link!"?"bg-green-600":"bg-rose-600"}`,children:h}),v.jsx("p",{className:"text-xs text-rose-100",children:"Try it out for free, only for a limited time! No credit card required."})]})]})})})]})}),v.jsxs("footer",{className:"flex flex-col gap-2 sm:flex-row py-6 w-full shrink-0 items-center px-4 md:px-6 border-t",children:[v.jsx("p",{className:"text-xs text-gray-500",children:" 2024 Measure.app. All rights reserved."}),v.jsxs("nav",{className:"sm:ml-auto flex gap-4 sm:gap-6",children:[v.jsx("a",{className:"text-xs hover:underline underline-offset-4",href:"#",onClick:m=>{m.preventDefault(),e("/terms-of-service")},children:"Terms of Service"}),v.jsx("a",{className:"text-xs hover:underline underline-offset-4",href:"#",onClick:m=>{m.preventDefault(),e("/privacy-policy")},children:"Privacy Policy"})]})]})]})},hde={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8}},fde=()=>v.jsxs("div",{className:"flex flex-col min-h-screen w-full bg-gradient-to-br from-rose-50 via-white to-rose-100",children:[v.jsx("header",{className:"px-4 lg:px-6 h-14 flex items-center",children:v.jsx("a",{className:"flex items-center justify-center",href:"/",children:v.jsx("span",{className:"font-bold text-rose-500",children:"Measure.app"})})}),v.jsx("main",{className:"flex-1 flex items-center justify-center w-full p-4",children:v.jsxs(qe.div,{initial:"initial",animate:"animate",variants:hde,className:"w-full max-w-4xl space-y-8 p-8 bg-white rounded-xl shadow-2xl",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Terms of Service"}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),v.jsx("p",{children:"By accessing or using Measure.app, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any part of these terms, you may not use our service."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Description of Service"}),v.jsx("p",{children:"Measure.app is a web-based application that allows users to measure and annotate images and documents. We reserve the right to modify or discontinue the service at any time without notice."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Accounts"}),v.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account and password. You agree to accept responsibility for all activities that occur under your account."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. User Content"}),v.jsx("p",{children:"You retain all rights to any content you upload to Measure.app. By uploading content, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, and distribute your content in connection with the service."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Prohibited Uses"}),v.jsx("p",{children:"You may not use Measure.app for any illegal or unauthorized purpose. You must not transmit any worms, viruses, or any code of a destructive nature."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Intellectual Property"}),v.jsx("p",{children:"The Measure.app service and its original content, features, and functionality are owned by Measure.app and are protected by international copyright, trademark, patent, trade secret, and other intellectual property laws."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Termination"}),v.jsx("p",{children:"We may terminate or suspend your account and access to the service immediately, without prior notice or liability, for any reason, including without limitation if you breach the Terms of Service."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Limitation of Liability"}),v.jsx("p",{children:"In no event shall Measure.app, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your access to or use of or inability to access or use the service."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Governing Law"}),v.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of Sweden, without regard to its conflict of law provisions."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Changes to Terms"}),v.jsx("p",{children:"We reserve the right to modify or replace these Terms at any time. If a revision is material, we will provide at least 30 days' notice prior to any new terms taking effect."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. GDPR Compliance"}),v.jsx("p",{children:"We are committed to complying with the General Data Protection Regulation (GDPR). We process personal data only for specified and lawful purposes and implement appropriate technical and organizational measures to protect personal data against unauthorized or unlawful processing and accidental loss, destruction, or damage."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. User Rights"}),v.jsx("p",{children:"As a user of Measure.app, you have rights regarding your personal data under GDPR including:"}),v.jsxs("ul",{className:"list-disc ml-6",children:[v.jsx("li",{children:"The right to access your personal data."}),v.jsx("li",{children:"The right to rectify inaccurate personal data."}),v.jsx("li",{children:'The right to erase personal data ("right to be forgotten").'}),v.jsx("li",{children:"The right to restrict processing of your personal data."}),v.jsx("li",{children:"The right to data portability."}),v.jsx("li",{children:"The right to object to processing based on legitimate interests."})]}),v.jsx("p",{children:'You can exercise these rights by contacting us as described in the "Contact Us" section below.'})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Dispute Resolution"}),v.jsx("p",{children:"Any disputes arising out of or related to these Terms shall be resolved through binding arbitration in accordance with the rules of the Swedish Arbitration Association. The arbitration shall take place in Sweden."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Contact Us"}),v.jsx("p",{children:"If you have any questions about these Terms, please contact us at hi at measure.app."})]})]})}),v.jsx("footer",{className:"flex flex-col gap-2 sm:flex-row py-6 w-full shrink-0 items-center px-4 md:px-6 border-t",children:v.jsx("p",{className:"text-xs text-gray-500",children:" 2024 Measure.app. All rights reserved."})})]}),pde={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8}},gde=()=>v.jsxs("div",{className:"flex flex-col min-h-screen w-full bg-gradient-to-br from-rose-50 via-white to-rose-100",children:[v.jsx("header",{className:"px-4 lg:px-6 h-14 flex items-center",children:v.jsx("a",{className:"flex items-center justify-center",href:"/",children:v.jsx("span",{className:"font-bold text-rose-500",children:"Measure.app"})})}),v.jsx("main",{className:"flex-1 flex items-center justify-center w-full p-4",children:v.jsxs(qe.div,{initial:"initial",animate:"animate",variants:pde,className:"w-full max-w-4xl space-y-8 p-8 bg-white rounded-xl shadow-2xl",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Privacy Policy"}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),v.jsx("p",{children:"At Measure.app, we are committed to protecting your privacy and personal data. This Privacy Policy explains how we collect, use, and safeguard your information when you use our service."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Information We Collect"}),v.jsx("p",{children:"We collect the following types of information:"}),v.jsxs("ul",{className:"list-disc ml-6",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Personal Information:"})," Name, email address, phone number."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Technical Information:"})," IP address, browser type, device information."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Usage Data:"})," Information about how you interact with our service, including timestamps of visits and page views."]})]}),v.jsx("p",{children:"This may include information you provide directly to us when you create an account, upload files, or contact us for support."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. How We Use Your Information"}),v.jsx("p",{children:"We use the information we collect to provide, maintain, and improve our services, to communicate with you, and to comply with legal obligations. We do not sell your personal information to third parties."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Data Storage and Security"}),v.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal data against unauthorized or unlawful processing, accidental loss, destruction, or damage."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Your Rights"}),v.jsx("p",{children:"Under the General Data Protection Regulation (GDPR), you have the right to access, rectify, erase, restrict processing, object to processing, and data portability in relation to your personal data."}),v.jsx("p",{children:'You can exercise these rights by contacting us as described in the "Contact Us" section below.'})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Cookies and Tracking Technologies"}),v.jsx("p",{children:"We use cookies and similar tracking technologies to track activity on our service and hold certain information. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Third-Party Services"}),v.jsx("p",{children:"Our service may contain links to third-party websites or services that are not owned or controlled by Measure.app. We have no control over, and assume no responsibility for, the content, privacy policies, or practices of any third-party websites or services."}),v.jsx("p",{children:"We may use third-party services for analytics and payment processing that may collect information used to identify you."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. International Data Transfers"}),v.jsx("p",{children:"Your information may be transferred to  and maintained on  computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ from those of your jurisdiction."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Data Retention"}),v.jsx("p",{children:"We will retain your personal data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use your personal data to the extent necessary to comply with our legal obligations."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Children's Privacy"}),v.jsx("p",{children:"Our service does not address anyone under the age of 13. We do not knowingly collect personally identifiable information from children under 13."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Changes to This Privacy Policy"}),v.jsx("p",{children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "effective date" at the top of this Privacy Policy.'})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Contact Us"}),v.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at hi at measure.app."})]})]})}),v.jsx("footer",{className:"flex flex-col gap-2 sm:flex-row py-6 w-full shrink-0 items-center px-4 md:px-6 border-t",children:v.jsx("p",{className:"text-xs text-gray-500",children:" 2024 Measure.app. All rights reserved."})})]});var QL,Qe="colors",Gn="sizes",ue="space",mde={gap:ue,gridGap:ue,columnGap:ue,gridColumnGap:ue,rowGap:ue,gridRowGap:ue,inset:ue,insetBlock:ue,insetBlockEnd:ue,insetBlockStart:ue,insetInline:ue,insetInlineEnd:ue,insetInlineStart:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,marginBlock:ue,marginBlockEnd:ue,marginBlockStart:ue,marginInline:ue,marginInlineEnd:ue,marginInlineStart:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,paddingBlock:ue,paddingBlockEnd:ue,paddingBlockStart:ue,paddingInline:ue,paddingInlineEnd:ue,paddingInlineStart:ue,top:ue,right:ue,bottom:ue,left:ue,scrollMargin:ue,scrollMarginTop:ue,scrollMarginRight:ue,scrollMarginBottom:ue,scrollMarginLeft:ue,scrollMarginX:ue,scrollMarginY:ue,scrollMarginBlock:ue,scrollMarginBlockEnd:ue,scrollMarginBlockStart:ue,scrollMarginInline:ue,scrollMarginInlineEnd:ue,scrollMarginInlineStart:ue,scrollPadding:ue,scrollPaddingTop:ue,scrollPaddingRight:ue,scrollPaddingBottom:ue,scrollPaddingLeft:ue,scrollPaddingX:ue,scrollPaddingY:ue,scrollPaddingBlock:ue,scrollPaddingBlockEnd:ue,scrollPaddingBlockStart:ue,scrollPaddingInline:ue,scrollPaddingInlineEnd:ue,scrollPaddingInlineStart:ue,fontSize:"fontSizes",background:Qe,backgroundColor:Qe,backgroundImage:Qe,borderImage:Qe,border:Qe,borderBlock:Qe,borderBlockEnd:Qe,borderBlockStart:Qe,borderBottom:Qe,borderBottomColor:Qe,borderColor:Qe,borderInline:Qe,borderInlineEnd:Qe,borderInlineStart:Qe,borderLeft:Qe,borderLeftColor:Qe,borderRight:Qe,borderRightColor:Qe,borderTop:Qe,borderTopColor:Qe,caretColor:Qe,color:Qe,columnRuleColor:Qe,fill:Qe,outline:Qe,outlineColor:Qe,stroke:Qe,textDecorationColor:Qe,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Gn,minBlockSize:Gn,maxBlockSize:Gn,inlineSize:Gn,minInlineSize:Gn,maxInlineSize:Gn,width:Gn,minWidth:Gn,maxWidth:Gn,height:Gn,minHeight:Gn,maxHeight:Gn,flexBasis:Gn,gridTemplateColumns:Gn,gridTemplateRows:Gn,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},vde=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Vv=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,vde))(e);return i in n?n[i]:n[i]=t(e,...r)}},jy=Symbol.for("sxs.internal"),mT=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),ZL=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:yde}=Object.prototype,yA=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),wde=/\s+(?![^()]*\))/,Zu=n=>e=>n(...typeof e=="string"?String(e).split(wde):[e]),JL={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:Zu((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:Zu((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:Zu((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:Zu((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:Zu((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:Zu((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},Mx=/([\d.]+)([^]*)/,_de=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,bde=(n,e)=>n in xde&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${yA(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${yA(n)}:${r}fit-content`)+s):String(e),xde={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Qo=n=>n?n+"-":"",X8=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Qo(e)+(a.includes("$")?"":Qo(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),Sde=/\s*,\s*(?![^()]*\))/,Ede=Object.prototype.toString,Pd=(n,e,t,r,i)=>{let s,o,a;const l=(c,u,d)=>{let h,p;const g=m=>{for(h in m){const b=h.charCodeAt(0)===64,x=b&&Array.isArray(m[h])?m[h]:[m[h]];for(p of x){const S=/[A-Z]/.test(y=h)?y:y.replace(/-[^]/g,k=>k[1].toUpperCase()),E=typeof p=="object"&&p&&p.toString===Ede&&(!r.utils[S]||!u.length);if(S in r.utils&&!E){const k=r.utils[S];if(k!==o){o=k,g(k(p)),o=null;continue}}else if(S in JL){const k=JL[S];if(k!==a){a=k,g(k(p)),a=null;continue}}if(b&&(_=h.slice(1)in r.media?"@media "+r.media[h.slice(1)]:h,h=_.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(k,R,T,M,L,N)=>{const z=Mx.test(R),W=.0625*(z?-1:1),[O,U]=z?[M,R]:[R,M];return"("+(T[0]==="="?"":T[0]===">"===z?"max-":"min-")+O+":"+(T[0]!=="="&&T.length===1?U.replace(Mx,(B,j,D)=>Number(j)+W*(T===">"?1:-1)+D):U)+(L?") and ("+(L[0]===">"?"min-":"max-")+O+":"+(L.length===1?N.replace(Mx,(B,j,D)=>Number(j)+W*(L===">"?-1:1)+D):N):"")+")"})),E){const k=b?d.concat(h):[...d],R=b?[...u]:_de(u,h.split(Sde));s!==void 0&&i(e3(...s)),s=void 0,l(p,R,k)}else s===void 0&&(s=[[],u,d]),h=b||h.charCodeAt(0)!==36?h:`--${Qo(r.prefix)}${h.slice(1).replace(/\$/g,"-")}`,p=E?p:typeof p=="number"?p&&S in Cde?String(p)+"px":String(p):X8(bde(S,p??""),r.prefix,r.themeMap[S]),s[0].push(`${b?`${h} `:`${yA(h)}:`}${p}`)}}var _,y};g(c),s!==void 0&&i(e3(...s)),s=void 0};l(n,e,t)},e3=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,Cde={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},t3=n=>String.fromCharCode(n+(n>25?39:97)),hu=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=t3(t%52)+r;return t3(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),Tp=["themed","global","styled","onevar","resonevar","allvar","inline"],Ade=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},Pde=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if(Ade(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const d=Object(c[l+1]);if(d.type!==4)continue;++l;const{cssText:h}=u;if(!h.startsWith("--sxs"))continue;const p=h.slice(14,-3).trim().split(/\s+/),g=Tp[p[0]];g&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[g]={group:d,index:l,cache:new Set(p)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,d){this.cssRules.splice(d,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=Tp.length-1;a>=0;--a){const l=Tp[a];if(!o[l]){const c=Tp[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}Tde(o[l])}};return r(),e},Tde=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},Zf=Symbol(),kde=Vv(),Rde=(n,e)=>kde(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[jy]){r.type==null&&(r.type=i[jy].type);for(const s of i[jy].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(Mde(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),Dde(n,r,e)}),Mde=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${Qo(i.prefix)}c-${hu(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const h in t)l[h]=String(t[h]);if(typeof n=="object"&&n)for(const h in n){u=l,d=h,yde.call(u,d)||(l[h]="undefined");const p=n[h];for(const g in p){const m={[h]:String(g)};String(g)==="undefined"&&c.push(h);const _=p[g],y=[m,_,!ZL(_)];o.push(y)}}var u,d;if(typeof e=="object"&&e)for(const h of e){let{css:p,...g}=h;p=typeof p=="object"&&p||{};for(const _ in g)g[_]=String(g[_]);const m=[g,p,!ZL(p)];a.push(m)}return[s,r,o,a,l,c]},Dde=(n,e,t)=>{const[r,i,s,o]=Lde(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(d=>{function h(){for(let p=0;p<h[Zf].length;p++){const[g,m]=h[Zf][p];d.rules[g].apply(m)}return h[Zf]=[],null}return h[Zf]=[],h.rules={},Tp.forEach(p=>h.rules[p]={apply:g=>h[Zf].push([p,g])}),h})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=d=>{d=typeof d=="object"&&d||Ide;const{css:h,...p}=d,g={};for(const y in s)if(delete p[y],y in d){let b=d[y];typeof b=="object"&&b?g[y]={"@initial":s[y],...b}:(b=String(b),g[y]=b!=="undefined"||o.has(y)?b:s[y])}else g[y]=s[y];const m=new Set([...i]);for(const[y,b,x,S]of e.composers){t.rules.styled.cache.has(y)||(t.rules.styled.cache.add(y),Pd(b,[`.${y}`],[],n,R=>{l.styled.apply(R)}));const E=n3(x,g,n.media),k=n3(S,g,n.media,!0);for(const R of E)if(R!==void 0)for(const[T,M,L]of R){const N=`${y}-${hu(M)}-${T}`;m.add(N);const z=(L?t.rules.resonevar:t.rules.onevar).cache,W=L?l.resonevar:l.onevar;z.has(N)||(z.add(N),Pd(M,[`.${N}`],[],n,O=>{W.apply(O)}))}for(const R of k)if(R!==void 0)for(const[T,M]of R){const L=`${y}-${hu(M)}-${T}`;m.add(L),t.rules.allvar.cache.has(L)||(t.rules.allvar.cache.add(L),Pd(M,[`.${L}`],[],n,N=>{l.allvar.apply(N)}))}}if(typeof h=="object"&&h){const y=`${r}-i${hu(h)}-css`;m.add(y),t.rules.inline.cache.has(y)||(t.rules.inline.cache.add(y),Pd(h,[`.${y}`],[],n,b=>{l.inline.apply(b)}))}for(const y of String(d.className||"").trim().split(/\s+/))y&&m.add(y);const _=p.className=[...m].join(" ");return{type:e.type,className:_,selector:c,props:p,toString:()=>_,deferredInjector:a}};return mT(u,{className:r,selector:c,[jy]:e,toString:()=>(t.rules.styled.cache.has(r)||u(),r)})},Lde=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},n3=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in s){const d=s[l];let h=e[l];if(h!==d){if(typeof h!="object"||!h)continue e;{let p,g,m=0;for(const _ in h){if(d===String(h[_])){if(_!=="@initial"){const y=_.slice(1);(g=g||[]).push(y in t?t[y]:_.replace(/^@media ?/,"")),u=!0}c+=m,p=!0}++m}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!p)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},Ide={},Ode=Vv(),Nde=(n,e)=>Ode(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=hu(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Pd(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return mT(r,{toString:r})}),Fde=Vv(),jde=(n,e)=>Fde(n,()=>t=>{const r=`${Qo(n.prefix)}k-${hu(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Pd(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return mT(i,{get name(){return i()},toString:i})}),$de=class{constructor(e,t,r,i){this.token=e==null?"":String(e),this.value=t==null?"":String(t),this.scale=r==null?"":String(r),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Qo(this.prefix)+Qo(this.scale)+this.token}toString(){return this.computedValue}},Bde=Vv(),zde=(n,e)=>Bde(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${Qo(n.prefix)}t-${hu(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${Qo(n.prefix)}${l}-${c}`,d=X8(String(r[l][c]),n.prefix,l);s[l][c]=new $de(c,d,l,n.prefix),o.push(`${u}:${d}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),Ude=Vv(),Q8=n=>{let e=!1;const t=Ude(n,r=>{e=!0;const i="prefix"in(r=typeof r=="object"&&r||{})?String(r.prefix):"",s=typeof r.media=="object"&&r.media||{},o=typeof r.root=="object"?r.root||null:globalThis.document||null,a=typeof r.theme=="object"&&r.theme||{},l={prefix:i,media:s,theme:a,themeMap:typeof r.themeMap=="object"&&r.themeMap||{...mde},utils:typeof r.utils=="object"&&r.utils||{}},c=Pde(o),u={css:Rde(l,c),globalCss:Nde(l,c),keyframes:jde(l,c),createTheme:zde(l,c),reset(){c.reset(),u.theme.toString()},theme:{},sheet:c,config:l,prefix:i,getCssText:c.toString,toString:c.toString};return String(u.theme=u.createTheme(a)),u});return e||t.reset(),t},Z8=()=>QL||(QL=Q8()),Vde=(...n)=>Z8().createTheme(...n),na=(...n)=>Z8().css(...n),Hde={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"#2b805a",messageBackground:"#e7fcf1",messageBorder:"#d0f3e1",messageTextDanger:"#ff6369",messageBackgroundDanger:"#fff8f8",messageBorderDanger:"#822025",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray",messageText:"#85e0b7",messageBackground:"#072719",messageBorder:"#2b805a",messageBackgroundDanger:"#1f1315"}}},Ft={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},Wde="supabase-auth-ui",Gde={ROOT:"root",SIGN_IN:Ft.SIGN_IN,SIGN_UP:Ft.SIGN_UP,FORGOTTEN_PASSWORD:Ft.FORGOTTEN_PASSWORD,MAGIC_LINK:Ft.MAGIC_LINK,UPDATE_PASSWORD:Ft.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function Uu(n,e,t){var r,i;const s=[],o=Gde[n];return s.push(t!=null&&t.prependedClassName?(t==null?void 0:t.prependedClassName)+"_"+o:Wde+"_"+o),(r=t==null?void 0:t.className)!=null&&r[n]&&s.push((i=t==null?void 0:t.className)==null?void 0:i[n]),((t==null?void 0:t.extend)===void 0||(t==null?void 0:t.extend)===!0)&&s.push(e),s}function wA(n,e){let t;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(Array.isArray(e))for(t=0;t<e.length;t++)n[t]=wA(n[t],e[t]);else for(t in e)n[t]=wA(n[t],e[t]);return n}return e}function Dx(n,...e){let t=e.length;for(let r=0;r<t;r++)n=wA(n,e[r]);return n}function qde(n,e){return n.replace(/{{(\w+)}}/g,(t,r)=>e.hasOwnProperty(r)?e[r]:t)}var Kde={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const Yde=na({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),hc=({children:n,appearance:e,...t})=>{var r;const i=Uu("anchor",Yde(),e);return I.createElement("a",{...t,style:(r=e==null?void 0:e.style)==null?void 0:r.anchor,className:i.join(" ")},n)},Xde=na({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),kf=({children:n,color:e="default",appearance:t,icon:r,loading:i=!1,...s})=>{var o;const a=Uu("button",Xde({color:e}),t);return I.createElement("button",{...s,style:(o=t==null?void 0:t.style)==null?void 0:o.button,className:a.join(" "),disabled:i},r,n)},Qde=na({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),js=({children:n,appearance:e,...t})=>{var r;const i=Uu("container",Qde({direction:t.direction,gap:t.gap}),e);return I.createElement("div",{...t,style:(r=e==null?void 0:e.style)==null?void 0:r.container,className:i.join(" ")},n)},Zde=na({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),Jde=({children:n,appearance:e,...t})=>{var r;const i=Uu("divider",Zde(),e);return I.createElement("div",{...t,style:(r=e==null?void 0:e.style)==null?void 0:r.divider,className:i.join(" ")})},ehe=na({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),ll=({children:n,appearance:e,...t})=>{var r;const i=Uu("input",ehe({type:t.type==="password"?"password":"default"}),e);return I.createElement("input",{...t,style:(r=e==null?void 0:e.style)==null?void 0:r.input,className:i.join(" ")},n)},the=na({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),cl=({children:n,appearance:e,...t})=>{var r;const i=Uu("label",the(),e);return I.createElement("label",{...t,style:(r=e==null?void 0:e.style)==null?void 0:r.label,className:i.join(" ")},n)},nhe=na({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),Vs=({children:n,appearance:e,...t})=>{var r;const i=Uu("message",nhe({color:t.color}),e);return I.createElement("span",{...t,style:(r=e==null?void 0:e.style)==null?void 0:r.message,className:i.join(" ")},n)};function J8({setAuthView:n=()=>{},supabaseClient:e,redirectTo:t,i18n:r,appearance:i,showLinks:s=!1}){var o;const[a,l]=w.useState(""),[c,u]=w.useState(""),[d,h]=w.useState(""),[p,g]=w.useState(!1),m=async y=>{var b,x;if(y.preventDefault(),u(""),h(""),g(!0),a.length===0){u((b=r==null?void 0:r.magic_link)==null?void 0:b.empty_email_address),g(!1);return}const{error:S}=await e.auth.signInWithOtp({email:a,options:{emailRedirectTo:t}});S?u(S.message):h((x=r==null?void 0:r.magic_link)==null?void 0:x.confirmation_text),g(!1)},_=r==null?void 0:r.magic_link;return I.createElement("form",{id:"auth-magic-link",onSubmit:m},I.createElement(js,{gap:"large",direction:"vertical",appearance:i},I.createElement("div",null,I.createElement(cl,{htmlFor:"email",appearance:i},_==null?void 0:_.email_input_label),I.createElement(ll,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:_==null?void 0:_.email_input_placeholder,onChange:y=>{u&&u(""),l(y.target.value)},appearance:i})),I.createElement(kf,{color:"primary",type:"submit",loading:p,appearance:i},p?_==null?void 0:_.loading_button_label:_==null?void 0:_.button_label),s&&I.createElement(hc,{href:"#auth-sign-in",onClick:y=>{y.preventDefault(),n(Ft.SIGN_IN)},appearance:i},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),d&&I.createElement(Vs,{appearance:i},d),c&&I.createElement(Vs,{color:"danger",appearance:i},c)))}const Tn=na({width:"21px",height:"21px"}),rhe=({provider:n})=>n=="google"?ihe():n=="facebook"?she():n=="twitter"?ohe():n=="apple"?ahe():n=="github"?lhe():n=="gitlab"?che():n=="bitbucket"?uhe():n=="discord"?dhe():n=="azure"?hhe():n=="keycloak"?fhe():n=="linkedin"?phe():n=="notion"?ghe():n=="slack"?mhe():n=="spotify"?vhe():n=="twitch"?yhe():n=="workos"?whe():n=="kakao"?_he():null,ihe=()=>I.createElement("svg",{className:Tn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),I.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),I.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),I.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),she=()=>I.createElement("svg",{className:Tn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),I.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),ohe=()=>I.createElement("svg",{className:Tn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),ahe=()=>I.createElement("svg",{className:Tn(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",I.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),lhe=()=>I.createElement("svg",{className:Tn(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",I.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),che=()=>I.createElement("svg",{className:Tn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),I.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),I.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),I.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),I.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),I.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),I.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),uhe=()=>I.createElement("svg",{className:Tn(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},I.createElement("defs",null,I.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),I.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),I.createElement("title",null,"Bitbucket-blue"),I.createElement("g",{id:"Layer_2","data-name":"Layer 2"},I.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},I.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),I.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),dhe=()=>I.createElement("svg",{className:Tn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),hhe=()=>I.createElement("svg",{className:Tn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{offset:"0",stopColor:"#114a8b"}),I.createElement("stop",{offset:"1",stopColor:"#0669bc"})),I.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),I.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),I.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{offset:"0",stopOpacity:".3"}),I.createElement("stop",{offset:".071",stopOpacity:".2"}),I.createElement("stop",{offset:".321",stopOpacity:".1"}),I.createElement("stop",{offset:".623",stopOpacity:".05"}),I.createElement("stop",{offset:"1",stopOpacity:"0"})),I.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),I.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),I.createElement("stop",{offset:"1",stopColor:"#2892df"})),I.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),fhe=()=>I.createElement("svg",{className:Tn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),phe=()=>I.createElement("svg",{className:Tn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),I.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),ghe=()=>I.createElement("svg",{className:Tn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},I.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),I.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),I.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),mhe=()=>I.createElement("svg",{className:Tn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),I.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),I.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),I.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),I.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),I.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),I.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),I.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),vhe=()=>I.createElement("svg",{className:Tn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),yhe=()=>I.createElement("svg",{className:Tn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),I.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),I.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),I.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),whe=()=>I.createElement("svg",{className:Tn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),I.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),_he=()=>I.createElement("svg",{className:Tn(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},I.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),I.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),I.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function bhe({supabaseClient:n,socialLayout:e="vertical",providers:t=["github","google","azure"],providerScopes:r,queryParams:i,redirectTo:s,onlyThirdPartyProviders:o=!0,view:a="sign_in",i18n:l,appearance:c}){const[u,d]=w.useState(!1),[h,p]=w.useState(""),g=e==="vertical",m=a==="magic_link"?"sign_in":a,_=async b=>{d(!0);const{error:x}=await n.auth.signInWithOAuth({provider:b,options:{redirectTo:s,scopes:r==null?void 0:r[b],queryParams:i}});x&&p(x.message),d(!1)};function y(b){const x=b.toLowerCase();return b.charAt(0).toUpperCase()+x.slice(1)}return I.createElement(I.Fragment,null,t&&t.length>0&&I.createElement(I.Fragment,null,I.createElement(js,{gap:"large",direction:"vertical",appearance:c},I.createElement(js,{direction:g?"vertical":"horizontal",gap:g?"small":"medium",appearance:c},t.map(b=>{var x;return I.createElement(kf,{key:b,color:"default",loading:u,onClick:()=>_(b),appearance:c},I.createElement(rhe,{provider:b}),g&&qde((x=l==null?void 0:l[m])==null?void 0:x.social_provider_text,{provider:y(b)}))}))),!o&&I.createElement(Jde,{appearance:c})))}function r3({authView:n="sign_in",defaultEmail:e="",defaultPassword:t="",setAuthView:r=()=>{},setDefaultEmail:i=g=>{},setDefaultPassword:s=g=>{},supabaseClient:o,showLinks:a=!1,redirectTo:l,additionalData:c,magicLink:u,i18n:d,appearance:h,children:p}){var g,m,_,y;const b=w.useRef(!0),[x,S]=w.useState(e),[E,k]=w.useState(t),[R,T]=w.useState(""),[M,L]=w.useState(!1),[N,z]=w.useState("");w.useEffect(()=>(b.current=!0,S(e),k(t),()=>{b.current=!1}),[n]);const W=async B=>{var j;switch(B.preventDefault(),T(""),L(!0),n){case"sign_in":const{error:D}=await o.auth.signInWithPassword({email:x,password:E});D&&T(D.message);break;case"sign_up":let F={emailRedirectTo:l};c&&(F.data=c);const{data:{user:q,session:ee},error:J}=await o.auth.signUp({email:x,password:E,options:F});J?T(J.message):q&&!ee&&z((j=d==null?void 0:d.sign_up)==null?void 0:j.confirmation_text);break}b.current&&L(!1)},O=B=>{i(x),s(E),r(B)},U=d==null?void 0:d[n];return I.createElement("form",{id:n==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:W,autoComplete:"on",style:{width:"100%"}},I.createElement(js,{direction:"vertical",gap:"large",appearance:h},I.createElement(js,{direction:"vertical",gap:"large",appearance:h},I.createElement("div",null,I.createElement(cl,{htmlFor:"email",appearance:h},U==null?void 0:U.email_label),I.createElement(ll,{id:"email",type:"email",name:"email",placeholder:U==null?void 0:U.email_input_placeholder,defaultValue:x,onChange:B=>S(B.target.value),autoComplete:"email",appearance:h})),I.createElement("div",null,I.createElement(cl,{htmlFor:"password",appearance:h},U==null?void 0:U.password_label),I.createElement(ll,{id:"password",type:"password",name:"password",placeholder:U==null?void 0:U.password_input_placeholder,defaultValue:E,onChange:B=>k(B.target.value),autoComplete:n==="sign_in"?"current-password":"new-password",appearance:h})),p),I.createElement(kf,{type:"submit",color:"primary",loading:M,appearance:h},M?U==null?void 0:U.loading_button_label:U==null?void 0:U.button_label),a&&I.createElement(js,{direction:"vertical",gap:"small",appearance:h},n===Ft.SIGN_IN&&u&&I.createElement(hc,{href:"#auth-magic-link",onClick:B=>{B.preventDefault(),r(Ft.MAGIC_LINK)},appearance:h},(g=d==null?void 0:d.magic_link)==null?void 0:g.link_text),n===Ft.SIGN_IN&&I.createElement(hc,{href:"#auth-forgot-password",onClick:B=>{B.preventDefault(),r(Ft.FORGOTTEN_PASSWORD)},appearance:h},(m=d==null?void 0:d.forgotten_password)==null?void 0:m.link_text),n===Ft.SIGN_IN?I.createElement(hc,{href:"#auth-sign-up",onClick:B=>{B.preventDefault(),O(Ft.SIGN_UP)},appearance:h},(_=d==null?void 0:d.sign_up)==null?void 0:_.link_text):I.createElement(hc,{href:"#auth-sign-in",onClick:B=>{B.preventDefault(),O(Ft.SIGN_IN)},appearance:h},(y=d==null?void 0:d.sign_in)==null?void 0:y.link_text))),N&&I.createElement(Vs,{appearance:h},N),R&&I.createElement(Vs,{color:"danger",appearance:h},R))}function eB({setAuthView:n=()=>{},supabaseClient:e,redirectTo:t,i18n:r,appearance:i,showLinks:s=!1}){var o;const[a,l]=w.useState(""),[c,u]=w.useState(""),[d,h]=w.useState(""),[p,g]=w.useState(!1),m=async y=>{var b;y.preventDefault(),u(""),h(""),g(!0);const{error:x}=await e.auth.resetPasswordForEmail(a,{redirectTo:t});x?u(x.message):h((b=r==null?void 0:r.forgotten_password)==null?void 0:b.confirmation_text),g(!1)},_=r==null?void 0:r.forgotten_password;return I.createElement("form",{id:"auth-forgot-password",onSubmit:m},I.createElement(js,{direction:"vertical",gap:"large",appearance:i},I.createElement(js,{gap:"large",direction:"vertical",appearance:i},I.createElement("div",null,I.createElement(cl,{htmlFor:"email",appearance:i},_==null?void 0:_.email_label),I.createElement(ll,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:_==null?void 0:_.email_input_placeholder,onChange:y=>l(y.target.value),appearance:i})),I.createElement(kf,{type:"submit",color:"primary",loading:p,appearance:i},p?_==null?void 0:_.loading_button_label:_==null?void 0:_.button_label),s&&I.createElement(hc,{href:"#auth-sign-in",onClick:y=>{y.preventDefault(),n(Ft.SIGN_IN)},appearance:i},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),d&&I.createElement(Vs,{appearance:i},d),c&&I.createElement(Vs,{color:"danger",appearance:i},c))))}function tB({supabaseClient:n,i18n:e,appearance:t}){const[r,i]=w.useState(""),[s,o]=w.useState(""),[a,l]=w.useState(""),[c,u]=w.useState(!1),d=async p=>{var g;p.preventDefault(),o(""),l(""),u(!0);const{error:m}=await n.auth.updateUser({password:r});m?o(m.message):l((g=e==null?void 0:e.update_password)==null?void 0:g.confirmation_text),u(!1)},h=e==null?void 0:e.update_password;return I.createElement("form",{id:"auth-update-password",onSubmit:d},I.createElement(js,{gap:"large",direction:"vertical",appearance:t},I.createElement("div",null,I.createElement(cl,{htmlFor:"password",appearance:t},h==null?void 0:h.password_label),I.createElement(ll,{id:"password",name:"password",placeholder:h==null?void 0:h.password_input_placeholder,type:"password",autoFocus:!0,onChange:p=>i(p.target.value),appearance:t})),I.createElement(kf,{type:"submit",color:"primary",loading:c,appearance:t},c?h==null?void 0:h.loading_button_label:h==null?void 0:h.button_label),a&&I.createElement(Vs,{appearance:t},a),s&&I.createElement(Vs,{color:"danger",appearance:t},s)))}function xhe({setAuthView:n=()=>{},supabaseClient:e,otpType:t="email",i18n:r,appearance:i,showLinks:s=!1}){var o;const[a,l]=w.useState(""),[c,u]=w.useState(""),[d,h]=w.useState(""),[p,g]=w.useState(""),[m,_]=w.useState(""),[y,b]=w.useState(!1),x=async E=>{E.preventDefault(),g(""),_(""),b(!0);let k={email:a,token:d,type:t};["sms","phone_change"].includes(t)&&(k={phone:c,token:d,type:t});const{error:R}=await e.auth.verifyOtp(k);R&&g(R.message),b(!1)},S=r==null?void 0:r.verify_otp;return I.createElement("form",{id:"auth-magic-link",onSubmit:x},I.createElement(js,{gap:"large",direction:"vertical",appearance:i},["sms","phone_change"].includes(t)?I.createElement("div",null,I.createElement(cl,{htmlFor:"phone",appearance:i},S==null?void 0:S.phone_input_label),I.createElement(ll,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:S==null?void 0:S.phone_input_placeholder,onChange:E=>u(E.target.value),appearance:i})):I.createElement("div",null,I.createElement(cl,{htmlFor:"email",appearance:i},S==null?void 0:S.email_input_label),I.createElement(ll,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:S==null?void 0:S.email_input_placeholder,onChange:E=>l(E.target.value),appearance:i})),I.createElement("div",null,I.createElement(cl,{htmlFor:"token",appearance:i},S==null?void 0:S.token_input_label),I.createElement(ll,{id:"token",name:"token",type:"text",placeholder:S==null?void 0:S.token_input_placeholder,onChange:E=>h(E.target.value),appearance:i})),I.createElement(kf,{color:"primary",type:"submit",loading:y,appearance:i},y?S==null?void 0:S.loading_button_label:S==null?void 0:S.button_label),s&&I.createElement(hc,{href:"#auth-sign-in",onClick:E=>{E.preventDefault(),n(Ft.SIGN_IN)},appearance:i},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),m&&I.createElement(Vs,{appearance:i},m),p&&I.createElement(Vs,{color:"danger",appearance:i},p)))}const nB=w.createContext({user:null,session:null}),She=n=>{const{supabaseClient:e}=n,[t,r]=w.useState(null),[i,s]=w.useState((t==null?void 0:t.user)??null);w.useEffect(()=>{(async()=>{var l;const{data:c}=await e.auth.getSession();r(c.session),s(((l=c.session)==null?void 0:l.user)??null)})();const{data:a}=e.auth.onAuthStateChange(async(l,c)=>{r(c),s((c==null?void 0:c.user)??null)});return()=>{a==null||a.subscription.unsubscribe()}},[]);const o={session:t,user:i};return I.createElement(nB.Provider,{value:o,...n})},Ehe=()=>{const n=w.useContext(nB);if(n===void 0)throw new Error("useUser must be used within a UserContextProvider.");return n};function Rf({supabaseClient:n,socialLayout:e="vertical",providers:t,providerScopes:r,queryParams:i,view:s="sign_in",redirectTo:o,onlyThirdPartyProviders:a=!1,magicLink:l=!1,showLinks:c=!0,appearance:u,theme:d="default",localization:h={variables:{}},otpType:p="email",additionalData:g,children:m}){const _=Dx(Kde,h.variables??{}),[y,b]=w.useState(s),[x,S]=w.useState(""),[E,k]=w.useState(""),R=y==="sign_in"||y==="sign_up"||y==="magic_link";w.useEffect(()=>{var L,N;Q8({theme:Dx(((L=u==null?void 0:u.theme)==null?void 0:L.default)??{},((N=u==null?void 0:u.variables)==null?void 0:N.default)??{})})},[u]);const T=({children:L})=>{var N;return I.createElement("div",{className:d!=="default"?Vde(Dx(u==null?void 0:u.theme[d],((N=u==null?void 0:u.variables)==null?void 0:N[d])??{})):""},R&&I.createElement(bhe,{appearance:u,supabaseClient:n,providers:t,providerScopes:r,queryParams:i,socialLayout:e,redirectTo:o,onlyThirdPartyProviders:a,i18n:_,view:y}),!a&&L)};w.useEffect(()=>{const{data:L}=n.auth.onAuthStateChange(N=>{N==="PASSWORD_RECOVERY"?b("update_password"):N==="USER_UPDATED"&&b("sign_in")});return b(s),()=>L.subscription.unsubscribe()},[s]);const M={supabaseClient:n,setAuthView:b,defaultEmail:x,defaultPassword:E,setDefaultEmail:S,setDefaultPassword:k,redirectTo:o,magicLink:l,showLinks:c,i18n:_,appearance:u};switch(y){case Ft.SIGN_IN:return I.createElement(T,null,I.createElement(r3,{...M,authView:"sign_in"}));case Ft.SIGN_UP:return I.createElement(T,null,I.createElement(r3,{appearance:u,supabaseClient:n,authView:"sign_up",setAuthView:b,defaultEmail:x,defaultPassword:E,setDefaultEmail:S,setDefaultPassword:k,redirectTo:o,magicLink:l,showLinks:c,i18n:_,additionalData:g,children:m}));case Ft.FORGOTTEN_PASSWORD:return I.createElement(T,null,I.createElement(eB,{appearance:u,supabaseClient:n,setAuthView:b,redirectTo:o,showLinks:c,i18n:_}));case Ft.MAGIC_LINK:return I.createElement(T,null,I.createElement(J8,{appearance:u,supabaseClient:n,setAuthView:b,redirectTo:o,showLinks:c,i18n:_}));case Ft.UPDATE_PASSWORD:return I.createElement(tB,{appearance:u,supabaseClient:n,i18n:_});case Ft.VERIFY_OTP:return I.createElement(xhe,{appearance:u,supabaseClient:n,otpType:p,i18n:_});default:return null}}Rf.ForgottenPassword=eB;Rf.UpdatePassword=tB;Rf.MagicLink=J8;Rf.UserContextProvider=She;Rf.useUser=Ehe;na({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});const Che=({redirectTo:n})=>{var e;return v.jsx(Rf,{supabaseClient:ns,appearance:{theme:Hde,variables:{default:{colors:{brand:"rgb(244 63 94)",brandAccent:"rgb(225 29 72)"}}},extend:!0,className:{input:(e=Fs.defaultProps)==null?void 0:e.className,button:"w-full py-2 px-4 rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",anchor:"text-rose-600 hover:text-rose-700"}},providers:["google"],redirectTo:n,localization:{variables:{sign_up:{email_label:"Email address",password_label:"Password",button_label:"Sign up"},sign_in:{email_label:"Email address",password_label:"Password",button_label:"Sign in"}}}})},Ahe={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8}};function i3(){const n=Ou(),e=Tl(),t=wf(),r=w.useCallback((i,s)=>{(i==="SIGNED_IN"||i==="TOKEN_REFRESHED")&&(e(yw(s)),e(vN((s==null?void 0:s.user)??null)),n("/gallery"))},[e,n]);return w.useEffect(()=>{const{data:i}=ns.auth.onAuthStateChange(r);return()=>{i.subscription.unsubscribe()}},[r]),w.useEffect(()=>{if(t.pathname==="/auth/callback"){const i=new URLSearchParams(window.location.hash.slice(1)),s=i.get("access_token"),o=i.get("refresh_token");i.get("type")==="recovery"?n("/update-password"):s&&o&&ns.auth.setSession({access_token:s,refresh_token:o}).then(({data:l,error:c})=>{c?console.error("Error setting session:",c):l.session&&r("SIGNED_IN",l.session)})}},[t,r,n]),v.jsxs("div",{className:"flex flex-col min-h-screen w-full bg-gradient-to-br from-rose-50 via-white to-rose-100",children:[v.jsx("header",{className:"px-4 lg:px-6 h-14 flex items-center",children:v.jsxs("a",{className:"flex items-center justify-center",href:"#",children:[v.jsx(kv,{className:"h-6 w-6 mr-2 text-rose-500"}),v.jsx("span",{className:"font-bold text-rose-500",children:"Measure.app"})]})}),v.jsx("main",{className:"flex-1 flex items-center justify-center w-full",children:v.jsx(qe.div,{initial:"initial",animate:"animate",variants:Ahe,className:"w-full max-w-md space-y-8 p-8 bg-white rounded-xl shadow-2xl",children:v.jsx(Che,{redirectTo:`${window.location.origin}/Measure.app/#/auth/callback`})})}),v.jsxs("footer",{className:"flex flex-col gap-2 sm:flex-row py-6 w-full shrink-0 items-center px-4 md:px-6 border-t",children:[v.jsx("p",{className:"text-xs text-gray-500",children:" 2024 Measure.app. All rights reserved."}),v.jsxs("nav",{className:"sm:ml-auto flex gap-4 sm:gap-6",children:[v.jsx("a",{className:"text-xs hover:underline underline-offset-4",href:"#",children:"Terms of service"}),v.jsx("a",{className:"text-xs hover:underline underline-offset-4",href:"#",children:"Privacy policy"})]})]})]})}var rB="AlertDialog",[Phe,vfe]=bf(rB,[pj]),ra=pj(),iB=n=>{const{__scopeAlertDialog:e,...t}=n,r=ra(e);return v.jsx(Rj,{...r,...t,modal:!0})};iB.displayName=rB;var The="AlertDialogTrigger",khe=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ra(t);return v.jsx(Mj,{...i,...r,ref:e})});khe.displayName=The;var Rhe="AlertDialogPortal",sB=n=>{const{__scopeAlertDialog:e,...t}=n,r=ra(e);return v.jsx(Dj,{...r,...t})};sB.displayName=Rhe;var Mhe="AlertDialogOverlay",oB=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ra(t);return v.jsx(x2,{...i,...r,ref:e})});oB.displayName=Mhe;var Yd="AlertDialogContent",[Dhe,Lhe]=Phe(Yd),aB=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,s=ra(t),o=w.useRef(null),a=Ge(e,o),l=w.useRef(null);return v.jsx(Jee,{contentName:Yd,titleName:lB,docsSlug:"alert-dialog",children:v.jsx(Dhe,{scope:t,cancelRef:l,children:v.jsxs(S2,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:de(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[v.jsx(f2,{children:r}),v.jsx(Ohe,{contentRef:o})]})})})});aB.displayName=Yd;var lB="AlertDialogTitle",cB=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ra(t);return v.jsx(E2,{...i,...r,ref:e})});cB.displayName=lB;var uB="AlertDialogDescription",dB=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ra(t);return v.jsx(C2,{...i,...r,ref:e})});dB.displayName=uB;var Ihe="AlertDialogAction",hB=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ra(t);return v.jsx(A2,{...i,...r,ref:e})});hB.displayName=Ihe;var fB="AlertDialogCancel",pB=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=Lhe(fB,t),s=ra(t),o=Ge(e,i);return v.jsx(A2,{...s,...r,ref:o})});pB.displayName=fB;var Ohe=({contentRef:n})=>{const e=`\`${Yd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yd}\` by passing a \`${uB}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},Nhe=iB,Fhe=sB,gB=oB,mB=aB,vB=hB,yB=pB,wB=cB,_B=dB;const bB=Nhe,jhe=Fhe,xB=w.forwardRef(({className:n,...e},t)=>v.jsx(gB,{className:Se("fixed inset-0 z-[9998] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));xB.displayName=gB.displayName;const vT=w.forwardRef(({className:n,...e},t)=>v.jsxs(jhe,{children:[v.jsx(xB,{}),v.jsx(mB,{ref:t,className:Se("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));vT.displayName=mB.displayName;const yT=({className:n,...e})=>v.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",n),...e});yT.displayName="AlertDialogHeader";const wT=({className:n,...e})=>v.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});wT.displayName="AlertDialogFooter";const _T=w.forwardRef(({className:n,...e},t)=>v.jsx(wB,{ref:t,className:Se("text-lg font-semibold",n),...e}));_T.displayName=wB.displayName;const bT=w.forwardRef(({className:n,...e},t)=>v.jsx(_B,{ref:t,className:Se("text-sm text-muted-foreground",n),...e}));bT.displayName=_B.displayName;const $he=w.forwardRef(({className:n,...e},t)=>v.jsx(vB,{ref:t,className:Se(g2(),n),...e}));$he.displayName=vB.displayName;const Bhe=w.forwardRef(({className:n,...e},t)=>v.jsx(yB,{ref:t,className:Se(g2({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));Bhe.displayName=yB.displayName;function zhe(){const[n,e]=w.useState(""),[t,r]=w.useState(!1),[i,s]=w.useState(""),o=async a=>{a.preventDefault();const{error:l}=await ns.auth.resetPasswordForEmail(n,{redirectTo:`${window.location.origin}/#/update-password`});s(l?"An error occurred. Please try again later.":"Check your email for the reset link."),r(!0)};return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-rose-50 via-white to-rose-100 p-4",children:[v.jsxs("form",{onSubmit:o,className:"w-full max-w-md space-y-4",children:[v.jsx("h2",{className:"text-2xl font-bold text-center text-rose-600",children:"Reset password"}),v.jsx(Fs,{type:"email",placeholder:"Enter your email address",value:n,onChange:a=>e(a.target.value),required:!0}),v.jsx(We,{type:"submit",className:"w-full bg-rose-500 hover:bg-rose-600 text-white",children:"Send reset link"})]}),v.jsx(bB,{open:t,onOpenChange:r,children:v.jsxs(vT,{children:[v.jsxs(yT,{children:[v.jsx(_T,{children:"Nice!"}),v.jsx(bT,{children:i})]}),v.jsx(wT,{children:v.jsx(We,{onClick:()=>r(!1),children:"OK"})})]})})]})}const Uhe={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8}};function Vhe(){console.log("UpdatePassword component rendered");const[n,e]=w.useState(""),[t,r]=w.useState(!1),[i,s]=w.useState(""),o=Ou(),a=async l=>{l.preventDefault();const{error:c}=await ns.auth.updateUser({password:n});s(c?"An error occurred. Please try again later.":"Your password has been updated."),r(!0)};return v.jsxs("div",{className:"flex flex-col min-h-screen w-full bg-gradient-to-br from-rose-50 via-white to-rose-100",children:[v.jsx("header",{className:"px-4 lg:px-6 h-14 flex items-center",children:v.jsxs("a",{className:"flex items-center justify-center",href:"#",children:[v.jsx(kv,{className:"h-6 w-6 mr-2 text-rose-500"}),v.jsx("span",{className:"font-bold text-rose-500",children:"Measure.app"})]})}),v.jsx("main",{className:"flex-1 flex items-center justify-center w-full",children:v.jsxs(qe.div,{initial:"initial",animate:"animate",variants:Uhe,className:"w-full max-w-md space-y-8 p-8 bg-white rounded-xl shadow-2xl",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Update Password"}),v.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your new password below"})]}),v.jsxs("form",{onSubmit:a,className:"mt-8 space-y-6",children:[v.jsx("div",{className:"rounded-md shadow-sm -space-y-px",children:v.jsx("div",{children:v.jsx(Fs,{type:"password",id:"new-password",name:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm",placeholder:"New password",value:n,onChange:l=>e(l.target.value)})})}),v.jsx(We,{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Update password"})]})]})}),v.jsxs("footer",{className:"flex flex-col gap-2 sm:flex-row py-6 w-full shrink-0 items-center px-4 md:px-6 border-t",children:[v.jsx("p",{className:"text-xs text-gray-500",children:" 2024 Measure.app. All rights reserved."}),v.jsxs("nav",{className:"sm:ml-auto flex gap-4 sm:gap-6",children:[v.jsx("a",{className:"text-xs hover:underline underline-offset-4",href:"#",children:"Terms of service"}),v.jsx("a",{className:"text-xs hover:underline underline-offset-4",href:"#",children:"Privacy policy"})]})]}),v.jsx(bB,{open:t,onOpenChange:r,children:v.jsxs(vT,{children:[v.jsxs(yT,{children:[v.jsx(_T,{children:"Nice!"}),v.jsx(bT,{children:i})]}),v.jsx(wT,{children:v.jsx(We,{onClick:()=>{r(!1),i==="Your password has been updated."&&o("/gallery")},children:"OK"})})]})})]})}function Hhe(){return ft(e=>e.auth.session)?v.jsx(jK,{}):v.jsx(Cg,{to:"/auth",replace:!0})}function Whe(){const n=Tl(),e=ft(t=>t.auth.session);return w.useEffect(()=>{ns.auth.getSession().then(({data:{session:r}})=>{n(yw(r))});const{data:{subscription:t}}=ns.auth.onAuthStateChange((r,i)=>{n(yw(i))});return()=>t.unsubscribe()},[n]),v.jsx(VK,{children:v.jsxs(BK,{children:[v.jsx(ri,{path:"/",element:v.jsx(dde,{})}),v.jsx(ri,{path:"/terms-of-service",element:v.jsx(fde,{})}),v.jsx(ri,{path:"/privacy-policy",element:v.jsx(gde,{})}),v.jsx(ri,{path:"/auth",element:e?v.jsx(Cg,{to:"/gallery",replace:!0}):v.jsx(i3,{})}),v.jsx(ri,{path:"/auth/callback",element:v.jsx(i3,{})}),v.jsxs(ri,{element:v.jsx(Hhe,{}),children:[v.jsx(ri,{path:"/gallery",element:v.jsx(Eae,{})}),v.jsx(ri,{path:"/canvas",element:v.jsx(lde,{})})]}),v.jsx(ri,{path:"/reset-password",element:v.jsx(zhe,{})}),v.jsx(ri,{path:"/update-password",element:v.jsx(Vhe,{})}),v.jsx(ri,{path:"*",element:v.jsx(Cg,{to:"/",replace:!0})})]})})}const Ghe={api_host:"https://eu.i.posthog.com"};Lx.createRoot(document.getElementById("root")).render(v.jsx(I.StrictMode,{children:v.jsx(Xq,{apiKey:"phc_9f36lyFLhMCyd8jLMUEaG4OYOYWYRgHFFpQFIGDjdUN",options:Ghe,children:v.jsx(_U,{store:yG,children:v.jsx(Whe,{})})})}));export{k_ as g};
